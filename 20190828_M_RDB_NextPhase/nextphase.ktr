<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>nextphase</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <directory>&#x2f;</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2019&#x2f;08&#x2f;07 09&#x3a;49&#x3a;56.778</created_date>
    <modified_user>-</modified_user>
    <modified_date>2019&#x2f;08&#x2f;07 09&#x3a;49&#x3a;56.778</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA&#x3d;</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
    <notepad>
      <note>company</note>
      <xloc>64</xloc>
      <yloc>16</yloc>
      <width>60</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>contact</note>
      <xloc>512</xloc>
      <yloc>16</yloc>
      <width>51</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>job</note>
      <xloc>1088</xloc>
      <yloc>16</yloc>
      <width>28</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>activities</note>
      <xloc>64</xloc>
      <yloc>576</yloc>
      <width>57</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>candidate</note>
      <xloc>1664</xloc>
      <yloc>16</yloc>
      <width>63</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Candidate new note</note>
      <xloc>1664</xloc>
      <yloc>384</yloc>
      <width>117</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Upsell mapping</note>
      <xloc>1664</xloc>
      <yloc>720</yloc>
      <width>94</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>NextPhase from</name>
    <server>localhost</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>NextPhasePROD</database>
    <port>1433</port>
    <username>sa</username>
    <password>Encrypted 2be98afc86aa7f2d5f94aea35e083b8df</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>NextPhase to</name>
    <server>10.0.9.121</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>nextphase.vincere.io</database>
    <port>5432</port>
    <username>dbapplication_user</username>
    <password>Encrypted 2be98afc819e8b9aebe11bd63cb8b9ae3</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>5432</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Company Location</from>
      <to>Company lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company Reg Date</from>
      <to>Company lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company lookup</from>
      <to>Insert company location</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company lookup</from>
      <to>Update Reg Date</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company Reg&#x2f;VAT no</from>
      <to>Company lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company lookup</from>
      <to>Update company info</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact Home Phone</from>
      <to>Contact lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact Reg Date</from>
      <to>Contact lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact lookup</from>
      <to>Update Contact RegD</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact lookup</from>
      <to>Update home phone</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact personal email</from>
      <to>Contact lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact lookup</from>
      <to>Update contact info</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact lookup</from>
      <to>Update contact mobile</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact mobile</from>
      <to>Contact lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact Document</from>
      <to>Contact lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact lookup 2</from>
      <to>contact doc name</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Job lookup</from>
      <to>Insert job Salary from to</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 2</from>
      <to>Insert applicant actions</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 2</from>
      <to>Insert notebook</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company lookup 2</from>
      <to>Contact lookup 2 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Company lookup 2</from>
      <to>Job lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Contact lookup 2 2</from>
      <to>Job lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Applicant actions</from>
      <to>Company lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Interviews</from>
      <to>Company lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Job lookup 2</from>
      <to>Candidate lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Notebook</from>
      <to>Company lookup 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Job - FromSalary - ToSalary</from>
      <to>Job lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Job lookup</from>
      <to>job contract</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Job - contract_rate  FROM&#x2f;TO</from>
      <to>Job lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate Source</from>
      <to>Candidate lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup</from>
      <to>Candidate source lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate source lookup</from>
      <to>Update candidate source</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate reg</from>
      <to>Candidate lookup 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate info</from>
      <to>Candidate lookup 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 3</from>
      <to>candidate reg date</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 3</from>
      <to>Update candidate info</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate gdpr</from>
      <to>Candidate lookup 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 3</from>
      <to>Update candidate gdpr</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate New Note</from>
      <to>Candidate lookup 4</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 4</from>
      <to>Insert Candidate New Note</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 4</from>
      <to>Candidate new tab</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Extract job document</from>
      <to>lookup jobid</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>lookup jobid</from>
      <to>update job_document</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Extract Candidate Documents</from>
      <to>lookup candidateid</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>lookup candidateid</from>
      <to>update candidate_document</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 2</from>
      <to>Insert interviews</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 3</from>
      <to>Insert gdpr notes</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Extract job cv send</from>
      <to>lookup jobid</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Extract job interviews</from>
      <to>lookup jobid</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>FE lookup</from>
      <to>VC SFE</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Functional Exp</from>
      <to>Vincere FE</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Sub FE</from>
      <to>FE lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 5</from>
      <to>update candidate skills</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate skills</from>
      <to>Candidate lookup 5</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>FE lookup 3</from>
      <to>SFE lookup</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>SFE lookup</from>
      <to>Insert candidate FESFE</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate FE&#x2f;SFE</from>
      <to>Candidate lookup 5</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 5</from>
      <to>FE lookup 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate edu summary</from>
      <to>Candidate lookup 5</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 5</from>
      <to>update candidate edu</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Candidate lookup 5</from>
      <to>Concat Fields</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Concat Fields</from>
      <to>update candidate edu</to>
      <enabled>N</enabled>
    </hop>
  </order>
  <step>
    <name>Applicant actions</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>--APPLICANT ACTIONS ACTIVITIES&#xd;&#xa;with userinfo as &#x28;&#xd;&#xa;        select u.UserId,u.LoginName,u.UserName,u.UserFullName,u.JobTitle,u.Inactive&#xd;&#xa;        from Users u&#x29;&#xd;&#xa;&#xd;&#xa;select coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, aa.ApplicantId&#x29;,NULL&#x29; as cand_ext_id&#xd;&#xa;, coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, aa.JobId&#x29;,NULL&#x29; as job_ext_id&#xd;&#xa;, coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, aa.ClientContactId&#x29;,NULL&#x29; as con_ext_id&#xd;&#xa;, coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, aa.ClientId&#x29;,NULL&#x29; as com_ext_id&#xd;&#xa;, -10 as user_account_id&#xd;&#xa;, aa.createdOn&#xd;&#xa;, &#x27;comment&#x27; as category&#xd;&#xa;, concat_ws&#x28;char&#x28;10&#x29;, &#x27;&#x5b;Applicant Actions&#x5d;&#x27;&#xd;&#xa;	, coalesce&#x28;&#x27;Consultants&#x3a; &#x27;&#x2b; u.UserFullName,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Created by&#x3a; &#x27;&#x2b; u2.UserFullName,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Status&#x3a; &#x27;&#x2b; aas.Description,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Status Date&#x3a; &#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, aa.StatusDate, 120&#x29;,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Notes&#x3a; &#x27;&#x2b; aa.Notes,NULL&#x29;&#xd;&#xa;	&#x29; as comment_activities&#xd;&#xa;from ApplicantActions aa&#xd;&#xa;left join ApplicantActionStatus aas on aas.ApplicantActionStatusId &#x3d; aa.StatusId&#xd;&#xa;left join userinfo u on u.UserId &#x3d; aa.ConsultantUserId --consultants&#xd;&#xa;left join userinfo u2 on u2.UserId &#x3d; aa.CreatedUserId --created&#xd;&#xa;--where aa.ApplicantActionId &#x3d; 113&#xd;&#xa;--42122 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>64</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate New Note</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with candidateinIDobject as &#x28;&#xa;        select o.ObjectID,o.LocationId,o.FileAs,o.FlagText,o.SourceId,o.CreatedOn&#xa;        from dbo.Objects o&#xa;        where o.ObjectTypeId&#x3d;1 --candidate&#xa;&#x29;&#xa;, alladdress as &#x28;&#xa;        select ad.ObjectId,ad.AddressId,adt.Description,ad.Building,ad.Street,ad.District,ad.City,ad.PostCode&#xa;		, lvct.ValueName as &#x27;County&#x27;&#xa;		, lvc.ValueName as &#x27;Country&#x27;&#xa;		, lvc.SystemCode as CountryCode&#xa;		, row_number&#x28;&#x29; OVER&#x28;partition by ad.ObjectID order by ad.AddressID desc&#x29; AS rn&#xa;        from dbo.Address ad&#xa;        left join dbo.AddressTypes adt on ad.AddressTypeId &#x3d; adt.AddressTypeId&#xa;        left join dbo.ListValues lvc on lvc.ListValueId &#x3d; ad.CountryValueId --country&#xa;        left join dbo.ListValues lvct on lvct.ListValueId &#x3d; ad.CountyValueId --county&#xa;&#x29; --select distinct Country from alladdress&#xa;, candidate_address as &#x28;--All addresses group by candidate&#xa;        select ObjectId&#xa;		, string_agg&#x28;concat_ws&#x28;&#x27;, &#x27;&#xa;				, nullif&#x28;trim&#x28;Building&#x29;,&#x27;&#x27;&#x29;&#xa;				, nullif&#x28;trim&#x28;Street&#x29;,&#x27;&#x27;&#x29;&#xa;				, nullif&#x28;trim&#x28;District&#x29;,&#x27;&#x27;&#x29;&#xa;				, nullif&#x28;trim&#x28;City&#x29;,&#x27;&#x27;&#x29;&#xa;				, nullif&#x28;trim&#x28;PostCode&#x29;,&#x27;&#x27;&#x29;&#xa;				, nullif&#x28;trim&#x28;County&#x29;,&#x27;&#x27;&#x29;&#xa;				, nullif&#x28;trim&#x28;Country&#x29;,&#x27;&#x27;&#x29;&#x29;, char&#x28;10&#x29;&#x29; as candidate_address&#xa;        from alladdress&#xa;        group by ObjectId&#xa;&#x29;&#xa;, address_1 as &#x28;&#xa;        select  aad.ObjectId&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Building&#x29;,&#x27;&#x27;&#x29; as Building&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Street&#x29;,&#x27;&#x27;&#x29; as Street&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.District&#x29;,&#x27;&#x27;&#x29; as District&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.City&#x29;,&#x27;&#x27;&#x29; as City&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.PostCode&#x29;,&#x27;&#x27;&#x29; as PostCode&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.County&#x29;,&#x27;&#x27;&#x29; as County&#xa;                , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Country&#x29;,&#x27;&#x27;&#x29; as Country&#xa;				, nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.CountryCode&#x29;,&#x27;&#x27;&#x29; as CountryCode&#xa;                , concat_ws&#x28;&#x27;, &#x27;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Building&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Street&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.District&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.City&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.PostCode&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.County&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Country&#x29;,&#x27;&#x27;&#x29;&#x29; as &#x27;candidate_address&#x27;&#xa;        from alladdress aad&#xa;        where rn &#x3d;1&#xa;		&#x29;&#xa;, mobilephone as &#x28;--MOBILES AS PRIMARY PHONE&#xa;		select p.ObjectID,p.PhoneId,p.CreatedOn&#xa;		, case when patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; &#x3e; 0 then left&#x28;trim&#x28;num&#x29;, patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; - 1&#x29; &#xa;			else trim&#x28;Num&#x29; end as phone&#xa;        from dbo.Phones p&#xa;        where p.CommunicationTypeId &#x3d; 83 --Mobile&#xa;		&#x29; --reused for other entities&#xa;, mobile as &#x28;--CANDIDATE MOBILE AS PRIMARY PHONE&#xa;		select ObjectID&#xa;		, string_agg&#x28;nullif&#x28;phone,&#x27;&#x27;&#x29;,&#x27;,&#x27;&#x29; as mobile&#xa;		from mobilephone&#xa;		group by ObjectID&#xa;		&#x29;&#xa;, otherphone as &#x28;--ALL OTHER PHONES&#xa;				select p.ObjectID, p.PhoneId, p.CreatedOn, p.CommunicationTypeId&#xa;				, case when patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; &#x3e; 0 then left&#x28;trim&#x28;num&#x29;, patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; - 1&#x29; &#xa;				else trim&#x28;Num&#x29; end as phone&#xa;        from Phones p&#xa;        where p.CommunicationTypeId in &#x28;80, 84, 79, 81, 82, 87, 88&#x29; --CommunicationTypes&#x3a; fax, pager, phone, day, evening, office, home&#xa;		&#x29; &#xa;, otherphone_group as &#x28;select ObjectID, CommunicationTypeId&#xa;				, string_agg&#x28;nullif&#x28;phone, &#x27;&#x27;&#x29;,&#x27;, &#x27;&#x29; as otherphone&#xa;				from otherphone&#xa;				group by ObjectID, CommunicationTypeId&#xa;		&#x29;&#xa;, allphone as &#x28;select ObjectID&#xa;		, string_agg&#x28;concat_ws&#x28;&#x27; &#x27;&#xa;			, case when CommunicationTypeId &#x3d; 80 then &#x27;Fax&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 84 then &#x27;Pager&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 79 then &#x27;Phone&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 81 then &#x27;Phone &#x28;Day&#x29;&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 82 then &#x27;Phone &#x28;Evening&#x29;&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 87 then &#x27;Phone &#x28;Home&#x29;&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 88 then &#x27;Phone &#x28;Office&#x29;&#x3a;&#x27;&#xa;					end&#xa;			, nullif&#x28;otherphone,&#x27;&#x27;&#x29;&#xa;			&#x29;, char&#x28;10&#x29;&#x29; as allphone&#xa;		from otherphone_group&#xa;		group by ObjectID&#xa;		&#x29;&#xa;, othernetwork as &#x28;--ALL URL, NETWORK&#xa;        select p.ObjectID, CommunicationTypeId, STRING_AGG&#x28;TRIM&#x28;&#x27;.&#x27; FROM p.Num&#x29;,&#x27;,&#x27;&#x29; as othernetwork&#xa;        from Phones p&#xa;        where p.CommunicationTypeId in &#x28;89, 90&#x29; --CommunicationTypes&#x3a; URL, Social Networking&#xa;		group by p.ObjectID, CommunicationTypeId&#xa;		&#x29;&#xa;, allnetwork as &#x28;select ObjectID&#xa;		, string_agg&#x28;concat_ws&#x28;&#x27; &#x27;&#xa;			, case when CommunicationTypeId &#x3d; 89 then &#x27;URL&#x3a;&#x27;&#xa;					when CommunicationTypeId &#x3d; 90 then &#x27;Social networking&#x3a;&#x27;&#xa;					end&#xa;			, nullif&#x28;othernetwork,&#x27;&#x27;&#x29;&#xa;			&#x29;, char&#x28;10&#x29;&#x29; as allnetwork&#xa;		from othernetwork&#xa;		group by ObjectID&#xa;		&#x29;&#xa;&#x2f;&#x2a; &#xa;, email as &#x28;--EMAIL&#xa;        select p.ObjectID, p.PhoneId&#xa;		, TRIM&#x28;&#x27;.&#x27; FROM p.Num&#x29; as Email--,ROW_NUMBER&#x28;&#x29; OVER&#x28;PARTITION BY p.ObjectID ORDER BY p.CreatedOn ASC&#x29; AS rn&#xa;        from Phones p&#xa;        where p.CommunicationTypeId&#x3d;78 --CommunicationTypes&#x3a; Email --Email cannot be retrieved from PrimaryEmailAddressPhoneId&#xa;        and p.Num like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;		&#x29;&#xa;&#x2a;&#x2f;&#xa;, email as &#x28;select p.ObjectID, p.PhoneId&#xa;		, TRIM&#x28;&#x27;.&#x27; FROM p.Num&#x29; as Email--,ROW_NUMBER&#x28;&#x29; OVER&#x28;PARTITION BY p.ObjectID ORDER BY p.CreatedOn ASC&#x29; AS rn&#xa;        from Applicants a&#xa;		left join Phones p on p.PhoneId &#x3d; a.PrimaryEmailAddressPhoneId&#xa;        --where p.CommunicationTypeId&#x3d;78 --CommunicationTypes&#x3a; Email --Email cannot be retrieved from PrimaryEmailAddressPhoneId&#xa;        and p.Num like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;		&#x29;&#xa;, mail_transform as &#x28;select ObjectID, PhoneId&#xa;				, replace&#x28;replace&#x28;translate &#x28;Email, &#x27;&#x21;&#x27;&#x27;&#x3a;&#x22;&#x3c;&#x3e;&#x5b;&#x5d;&#x28;&#x29;&#x3b;,&#x2b;&#x27;, &#x27;             &#x27;&#x29;, char&#x28;10&#x29;, &#x27; &#x27;&#x29;, char&#x28;13&#x29;, &#x27; &#x27;&#x29; as Email&#xa;				from email&#xa;		&#x29;&#xa;, mail_split as &#x28;select ObjectID, PhoneId&#xa;				, trim&#x28;value&#x29; as email&#xa;				from mail_transform&#xa;				cross apply string_split&#x28;Email, &#x27; &#x27;&#x29;&#xa;				where Email like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;			&#x29; --select &#x2a; from mail_split where ObjectId &#x3d; 52038&#xa;, dup as &#x28;select ObjectID --EMAIL CHECK DUPLICATION&#xa;		, trim&#x28;&#x27; &#x27; from email&#x29; as EmailAddress&#xa;		, row_number&#x28;&#x29; over&#x28;partition by trim&#x28;&#x27; &#x27; from email&#x29; order by ObjectID asc&#x29; as rn --distinct email if emails exist more than once&#xa;		, row_number&#x28;&#x29; over&#x28;partition by ObjectID order by PhoneId desc&#x29; as Contactrn --distinct if contacts may have more than 1 email&#xa;		from mail_split&#xa;		where Email like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;		&#x29;&#xa;, primaryEmail as &#x28;select ObjectID --PRIMARY EMAIL&#xa;		, case when rn &#x3e; 1 then concat&#x28;rn,&#x27;_&#x27;,EmailAddress&#x29;&#xa;		else EmailAddress end as PrimaryEmail&#xa;		from dup&#xa;		where EmailAddress is not NULL and EmailAddress &#x3c;&#x3e; &#x27;&#x27;&#xa;		and Contactrn &#x3d; 1&#xa;		&#x29;&#xa;, officeemail as &#x28;--OFFICE EMAIL&#xa;        select p.ObjectID, STRING_AGG&#x28;TRIM&#x28;&#x27;.&#x27; FROM p.Num&#x29;,&#x27;,&#x27;&#x29; as officeemail&#xa;        from dbo.Phones p&#xa;        where p.CommunicationTypeId&#x3d;85 --Email &#x28;Office&#x29;&#xa;        and p.Num like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;        group by p.ObjectID&#xa;&#x29;&#xa;, personemail as &#x28;--PERSON EMAIL&#xa;        select p.ObjectID, STRING_AGG&#x28;TRIM&#x28;&#x27;.&#x27; FROM p.Num&#x29;,&#x27;,&#x27;&#x29; as personemail&#xa;        from dbo.Phones p&#xa;        where p.CommunicationTypeId&#x3d;86 --Email &#x28;Personal&#x29;&#xa;        and p.Num like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;        group by p.ObjectID&#xa;&#x29;&#xa;, consultant as &#x28;select ac.ApplicantConsultantId&#xa;				, ac.ApplicantId&#xa;				, ac.userId&#xa;				, u.EmailAddress&#xa;				, u.UserFullName&#xa;				, ac.UserRelationshipId&#xa;				, ur.Description&#xa;				, g.GroupName&#xa;				from ApplicantConsultants ac&#xa;				left join Users u on u.UserId &#x3d; ac.UserId&#xa;				left join UserRelationships ur on ur.UserRelationshipId &#x3d; ac.UserRelationshipId&#xa;				left join Groups g on g.GroupId &#x3d; ac.UserGroupId&#xa;&#x29;&#xa;, owners as &#x28;select ApplicantId&#xa;				, string_agg&#x28;EmailAddress, &#x27;,&#x27;&#x29; within group &#x28;order by UserRelationshipId&#x29; as owners&#xa;				from consultant&#xa;				group by ApplicantId&#xa;			&#x29;&#xa;, consultant_info as &#x28;&#xa;        select ApplicantId&#xa;		, string_agg&#x28;&#xa;			concat_ws&#x28;&#x27; - &#x27;&#xa;				, nullif&#x28;UserFullName,&#x27;&#x27;&#x29;&#xa;				, coalesce&#x28;&#x27;Relationship&#x3a; &#x27; &#x2b; nullif&#x28;Description, &#x27;&#x27;&#x29;, NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Group name&#x3a; &#x27; &#x2b; nullif&#x28;GroupName, &#x27;&#x27;&#x29;, NULL&#x29;&#xa;				--, , coalesce&#x28;&#x27;&#x5b;Commission&#x28;&#x25;&#x29;&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,CommissionPerc, 1&#x29;&#x2b; &#x27;&#x5d;&#x27;,NULL&#x29;&#x29;&#xa;			&#x29;, &#x27;, &#x27;&#x29; as consultant_info&#xa;        from consultant&#xa;        group by ApplicantId&#xa;&#x29;&#xa;, userinfo as &#x28;--USER&#xa;        select u.UserId,u.LoginName,u.UserName,u.UserFullName,u.JobTitle,u.Inactive&#xa;        from Users u&#xa;&#x29;&#xa;, person_info as &#x28;--CANDIDATE INFO&#xa;		select p.PersonID, p.PersonName, p.Surname, p.Dob, p.Notes&#xa;                , p.GenderValueId&#xa;                , case when lv1.ValueName&#x3d;&#x27;Female&#x27; then &#x27;FEMALE&#x27;&#xa;					when lv1.ValueName&#x3d;&#x27;Male&#x27; then &#x27;MALE&#x27;  &#xa;					else null end as Gender&#xa;                , p.MaritalStatusValueId&#xa;				, lv2.ValueName as Marital&#xa;                , p.TitleValueId&#xa;				--, lv3.ValueName as Title&#xa;				, case &#xa;					when lv3.ValueName &#x3d; &#x27;Dame&#x27; then &#x27;MISS&#x27;&#xa;					when lv3.ValueName &#x3d; &#x27;Dr&#x27; then &#x27;DR&#x27;&#xa;					when lv3.ValueName &#x3d; &#x27;Miss&#x27; then &#x27;MISS&#x27;&#xa;					when lv3.ValueName &#x3d; &#x27;Mr&#x27; then &#x27;MR&#x27;&#xa;					when lv3.ValueName &#x3d; &#x27;Mrs&#x27; then &#x27;MRS&#x27;&#xa;					when lv3.ValueName &#x3d; &#x27;Ms&#x27; then &#x27;MISS&#x27;&#xa;					when lv3.ValueName &#x3d; &#x27;Sir&#x27; then &#x27;MR&#x27;&#xa;				end as Title&#xa;                , p.Salutation&#xa;				, p.NationalityId&#xa;				, case when n.Nationality &#x3d; &#x27;Dutch&#x27; then &#x27;NL&#x27;&#xa;					when n.Nationality &#x3d; &#x27;German&#x27; then &#x27;DE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;French&#x27; then &#x27;FR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Jamaican&#x27; then &#x27;JM&#x27;&#xa;					when n.Nationality &#x3d; &#x27;N Zealander&#x27; then &#x27;NZ&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Lithuanian&#x27; then &#x27;LT&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Maltese&#x27; then &#x27;MT&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Chilean&#x27; then &#x27;CL&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Venezuelan&#x27; then &#x27;VE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;USA&#x27; then &#x27;US&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Lebanese&#x27; then &#x27;LB&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Moroccan&#x27; then &#x27;MA&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Estonian&#x27; then &#x27;EE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Egyptian&#x27; then &#x27;EG&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Pakistani&#x27; then &#x27;PK&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Swiss&#x27; then &#x27;CH&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Cuban&#x27; then &#x27;CU&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Ukranian&#x27; then &#x27;UA&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Hong Kong &#x28;Chinese&#x29;&#x27; then &#x27;HK&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Swedish&#x27; then &#x27;SE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Japanese&#x27; then &#x27;JP&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Taiwanese&#x27; then &#x27;TW&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Peruvian&#x27; then &#x27;PE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Czech&#x27; then &#x27;CZ&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Jordanian&#x27; then &#x27;JO&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Portugese&#x27; then &#x27;PT&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Vincentian&#x27; then &#x27;VC&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Philipino&#x27; then &#x27;PH&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Norwegian&#x27; then &#x27;NO&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Danish&#x27; then &#x27;DK&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Romanian&#x27; then &#x27;RO&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Kenyan&#x27; then &#x27;KE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Thai&#x27; then &#x27;TH&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Hungarian&#x27; then &#x27;HU&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Latvian&#x27; then &#x27;LV&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Chinese&#x27; then &#x27;CN&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Colombian&#x27; then &#x27;CO&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Myanmar&#x27; then &#x27;MM&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Netherland&#x27; then &#x27;NL&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Turkish&#x27; then &#x27;TR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Malawian&#x27; then &#x27;MW&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Fijian&#x27; then &#x27;FJ&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Nepalese&#x27; then &#x27;NP&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Slovakian&#x27; then &#x27;SK&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Iranian&#x27; then &#x27;IR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Russian&#x27; then &#x27;RU&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Montenegri&#x27; then &#x27;ME&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Sri Lankan&#x27; then &#x27;LK&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Bulgarian&#x27; then &#x27;BG&#x27;&#xa;					when n.Nationality &#x3d; &#x27;CROATIAN&#x27; then &#x27;HR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Eritrean&#x27; then &#x27;ER&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Canadian&#x27; then &#x27;CA&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Namibian&#x27; then &#x27;NA&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Panamanian&#x27; then &#x27;PA&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Serbian&#x27; then &#x27;RS&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Sudanese&#x27; then &#x27;SD&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Israeli&#x27; then &#x27;IL&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Mexican&#x27; then &#x27;MX&#x27;&#xa;					when n.Nationality &#x3d; &#x27;SYRIAN&#x27; then &#x27;SY&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Congolese&#x27; then &#x27;CG&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Irish&#x27; then &#x27;IE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Yemen&#x27; then &#x27;YE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Macedonian&#x27; then &#x27;MK&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Spanish&#x27; then &#x27;ES&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Filipino&#x27; then &#x27;PH&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Finnish&#x27; then &#x27;FI&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Malaysian&#x27; then &#x27;MY&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Vietnamese&#x27; then &#x27;VN&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Polish&#x27; then &#x27;PL&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Liberian&#x27; then &#x27;LR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Icelandic&#x27; then &#x27;IS&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Guyanese&#x27; then &#x27;GY&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Indian&#x27; then &#x27;IN&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Cypriot&#x27; then &#x27;CY&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Nigerian&#x27; then &#x27;NG&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Italian&#x27; then &#x27;IT&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Greek&#x27; then &#x27;GR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Korean&#x27; then &#x27;KR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;British&#x27; then &#x27;GB&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Australian&#x27; then &#x27;AU&#x27;&#xa;					when n.Nationality &#x3d; &#x27;South African&#x27; then &#x27;ZA&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Iraqi&#x27; then &#x27;IQ&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Ugandan&#x27; then &#x27;UG&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Argentinean&#x27; then &#x27;AR&#x27;&#xa;					when n.Nationality &#x3d; &#x27;American&#x27; then &#x27;US&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Zimbabwean&#x27; then &#x27;ZW&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Belgian&#x27; then &#x27;BE&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Austrian&#x27; then &#x27;AT&#x27;&#xa;					when n.Nationality &#x3d; &#x27;Brazilian&#x27; then &#x27;BR&#x27;&#xa;					else NULL end as Nationality&#xa;        from Person p&#xa;        left join ListValues lv1 on p.GenderValueId&#x3d;lv1.ListValueId&#xa;        left join ListValues lv2 on p.MaritalStatusValueId&#x3d;lv2.ListValueId&#xa;        left join ListValues lv3 on p.TitleValueId&#x3d;lv3.ListValueId&#xa;        left join Nationality n on n.NationalityId&#x3d;p.NationalityId&#xa;		&#x29;&#xa;, candidate_source as &#x28;--CANDIDATE SOURCE &#x23;Inject&#xa;		select a.ApplicantId, s.SourceId, s.SystemCode, s.Description&#xa;        from Applicants a&#xa;		left join dbo.Sources s on s.SourceId&#x3d;a.SourceId&#xa;		&#x29;&#xa;, location as &#x28;--LOCATION&#xa;		select l.LocationId,l.Code,l.Description&#xa;        from dbo.Locations l&#xa;&#x29;&#xa;, candidateprofile as &#x28;--PROFILE DOCUMENT&#xa;        select ap.ApplicantId,dbo.RTF2TXT&#x28;ap.ProfileDocument&#x29; as candidateprofile&#xa;        from dbo.ApplicantProfile ap&#xa;		&#x29;&#xa;, sector_all as &#x28;select so.SectorObjectId&#xa;		, so.SectorId&#xa;		, s.SectorName&#xa;		, so.ObjectId&#xa;		, so.Notes&#xa;		from SectorObjects so&#xa;		left join Sectors s on so.SectorId &#x3d; s.SectorId&#xa;		--where so.SectorId &#x3d; 50 --Old jobs&#xa;		&#x29;&#xa;, sector_share as &#x28;&#xa;		select ObjectId&#xa;		, string_agg&#x28;SectorName, &#x27;, &#x27;&#x29; as sector_share&#xa;		from sector_all&#xa;		group by ObjectId&#xa;		&#x29;&#xa;&#xa;, work_history as &#x28;select wh.ApplicantID,&#xa;			STRING_AGG&#x28;&#xa;                concat&#x28;&#x27;&#x3c;p&#x3e;&#x27;&#xa;					, concat_ws&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27;&#xa;						, coalesce&#x28;&#x27;Client name&#x3a; &#x27; &#x2b; wh.Company,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;From Date&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;,wh.FromDate,120&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;To Date&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;,wh.ToDate,120&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Chronology&#x3a; &#x27; &#x2b; case when wh.ToDate is null then &#x27;Current&#x27; else &#x27;Past&#x27; end, NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Position&#x3a; &#x27; &#x2b; coalesce&#x28;nullif&#x28;att.Description,&#x27;&#x27;&#x29;, att.Notes&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Description&#x3a; &#x27; &#x2b; nullif&#x28;wh.Description,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Department&#x3a; &#x27; &#x2b; nullif&#x28;wh.Department,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Salary&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;, wh.Rate&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Length&#x3a; &#x27; &#x2b; nullif&#x28;l.ValueName, &#x27;&#x27;&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Work History Type&#x3a; &#x27; &#x2b; wht.Description,NULL&#x29;&#xa;						--, coalesce&#x28;&#x27;Created On&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;,wh.CreatedOn,120&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Report To&#x3a; &#x27; &#x2b; nullif&#x28;concat_ws&#x28;&#x27; &#x27;,pi.PersonName,pi.Surname&#x29;,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Feedback Score&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;,pl.FeedbackScore&#x29;,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Employment Type&#x3a; &#x27; &#x2b; et.Description &#x2b; &#x27; - &#x27; &#x2b; et.SystemCode,NULL&#x29;&#xa;						, coalesce&#x28;&#x27;Notes&#x3a; &#x27; &#x2b; wh.Description,NULL&#x29;&#xa;					&#x29;,&#x27;&#x3c;&#x2f;p&#x3e;&#x27;&#x29;,&#x27;&#x3c;br&#x2f;&#x3e;&#x27;&#x29; within group &#x28;order by wh.ToDate desc, wh.FromDate desc, WorkHistoryId desc&#x29; as WorkHistory&#xa;		from WorkHistory wh&#xa;        left join WorkHistoryTypes wht on wht.WorkHistoryTypeId&#x3d;wh.WorkHistoryTypeId&#xa;        left join EmploymentTypes et on et.EmploymentTypeId&#x3d;wh.EmploymentTypeId&#xa;        left join Placements pl on pl.PlacementID&#x3d;wh.PlacementID&#xa;        left join Attributes att on att.AttributeId&#x3d;wh.PositionAttributeId&#xa;        left join person_info pi on pi.PersonID&#x3d;wh.ReportsToPersonId&#xa;        left join ListValues l on l.ListValueId&#x3d;wh.RateUnitId&#xa;        left join dbo.Applicants a on a.ApplicantID&#x3d;wh.ApplicantID&#xa;		where wh.ApplicantID is not NULL&#xa;        group by wh.ApplicantID&#x29;&#xa;&#xa;, candidate_cv as &#x28;select cv.ApplicantId&#xa;		, STRING_AGG&#x28;concat_ws&#x28;&#x27;_&#x27;,&#x27;NP_CV&#x27;,cv.CVId,concat&#x28;cv.ApplicantId,cvc.FileExtension&#x29;&#x29;,&#x27;,&#x27;&#x29; &#xa;			within group &#x28;order by cv.CVId desc&#x29; as candidate_cv&#xa;        from CV&#xa;        left join CVContents cvc on cvc.CVId &#x3d; cv.CVId&#xa;        where cvc.FileExtension in &#x28;&#x27;.pdf&#x27;,&#x27;.doc&#x27;,&#x27;.rtf&#x27;,&#x27;.xls&#x27;,&#x27;.xlsx&#x27;,&#x27;.docx&#x27;,&#x27;.png&#x27;,&#x27;.jpg&#x27;,&#x27;.jpeg&#x27;,&#x27;.gif&#x27;,&#x27;.bmp&#x27;,&#x27;.msg&#x27;,&#x27;.txt&#x27;,&#x27;.htm&#x27;,&#x27;.html&#x27;&#x29;&#xa;        GROUP BY cv.ApplicantId&#xa;		&#x29;&#xa;, candidate_cvsend as &#x28;select aa.ApplicantId&#xa;		, string_agg&#x28;concat_ws&#x28;&#x27;_&#x27;,&#x27;NP_CVS&#x27;, d.DocumentID, concat&#x28;aa.ApplicantId, dc.FileExtension&#x29;&#x29;,&#x27;,&#x27;&#x29; &#xa;			within group &#x28;order by d.DocumentID desc&#x29; as candidate_cvsend&#xa;		from CVSendDocuments cvs&#xa;		left join ApplicantActions aa on aa.ApplicantActionId &#x3d; cvs.ApplicantActionId&#xa;		left join Documents d on d.DocumentID &#x3d; cvs.DocumentId&#xa;		left join DocumentContent dc on d.DocumentId &#x3d; dc.DocumentId&#xa;		where cvs.CVId is NULL --10321 --CV already parsed&#xa;		and dc.FileExtension in &#x28;&#x27;.pdf&#x27;,&#x27;.doc&#x27;,&#x27;.rtf&#x27;,&#x27;.xls&#x27;,&#x27;.xlsx&#x27;,&#x27;.docx&#x27;,&#x27;.png&#x27;,&#x27;.jpg&#x27;,&#x27;.jpeg&#x27;,&#x27;.gif&#x27;,&#x27;.bmp&#x27;,&#x27;.msg&#x27;,&#x27;.txt&#x27;,&#x27;.htm&#x27;,&#x27;.html&#x27;&#x29;&#xa;		group by aa.ApplicantId&#xa;		&#x29;&#xa;, custom_columns as &#x28;--CUSTOM DEFINED COLUMNS&#xa;		select adc.ApplicantId&#xa;		, concat_ws&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27;&#xa;				, coalesce&#x28;&#x27;Driving Licence&#x3a; &#x27; &#x2b; nullif&#x28;adc.DrivingLicence,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Transport&#x3a; &#x27; &#x2b; nullif&#x28;lv.ValueName,&#x27;&#x27;&#x29;,NULL&#x29; --CustomDefinedColumns&#x3a; LookupListId&#xa;				, coalesce&#x28;&#x27;Type of Drivin&#x3a; &#x27; &#x2b; nullif&#x28;adc.Alpha2,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Relocate&#x3f;&#x3a; &#x27; &#x2b; nullif&#x28;adc.Flag1,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;National Insurance No.&#x3a; &#x27; &#x2b; nullif&#x28;adc.NationalInsurance,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Contractor Company Name&#x3a; &#x27; &#x2b; nullif&#x28;adc.ContractorCompanyName,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Umbrella Company&#x3f;&#x3a; &#x27; &#x2b; nullif&#x28;adc.Umbrella,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;VAT no. &#x28;for limited company Contractors only&#x29;&#x3a; &#x27; &#x2b; nullif&#x28;adc.VATno,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Company Number&#x3a; &#x27; &#x2b; nullif&#x28;adc.Companynumber,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Middle Name&#x3a; &#x27; &#x2b; nullif&#x28;adc.MiddleName,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Unique Taxpayer Ref&#x3a; &#x27; &#x2b; nullif&#x28;adc.WorkerUTR,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;			&#x29; as custom_columns&#xa;		from ApplicantSectorDefinedColumns adc&#xa;		left join ListValues lv on lv.ListValueId &#x3d; adc.Alpha1&#xa;		&#x29;&#xa;--MAIN SCRIPT&#xa;select  &#xa;        concat&#x28;&#x27;NP&#x27;,a.ApplicantId&#x29; as cand_ext_id&#xa;		, &#x27;RDB Notes&#x27; as title&#xa;-----NOTE----&#xa;        , concat&#x28;&#x27;&#x3c;p&#x3e;&#x27;,&#xa;			concat_ws&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27;&#xa;                , coalesce&#x28;&#x27;External ID&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.ApplicantId&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Created By&#x3a; &#x27; &#x2b; u.UserFullName,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Created On&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.CreatedOn,120&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Assessed By&#x3a; &#x27; &#x2b; u3.UserFullName,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Assessment Date&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.AssessmentDate,120&#x29;,NULL&#x29;&#xa;                --, coalesce&#x28;&#x27;File As&#x3a; &#x27; &#x2b; nullif&#x28;ci.FileAs,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;                --, coalesce&#x28;&#x27;Flag Text&#x3a; &#x27; &#x2b; nullif&#x28;ci.FlagText,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Candidate Status&#x3a; &#x27; &#x2b; case when ast.Description &#x3d; &#x27;DNU&#x27; then &#x27;DNU&#x27; else NULL end,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Employment Type&#x3a; &#x27; &#x2b; nullif&#x28;et.Description,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Status Date&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.StatusDate,120&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Noticed Period&#x3a; &#x27; &#x2b; lv.ValueName,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Available Date&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.AvailableDate,120&#x29;,NULL&#x29;&#xa;                --, coalesce&#x28;&#x27;Call At Work&#x3a; &#x27; &#x2b; a.WorkCall,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Candidate Location&#x3a; &#x27; &#x2b; nullif&#x28;l.Description,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Min Basic&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.MinBasic&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Min Package&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.MinPackage&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;Current Package&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.CurrentPackage&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Rate&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,a.rate&#x29;,NULL&#x29;&#xa;				--, coalesce&#x28;&#x27;Share this person&#x3a; &#x27; &#x2b; nullif&#x28;ss.sector_share,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;Personal Email&#x3a; &#x27; &#x2b; nullif&#x28;pse.personemail,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; &#x27;--Communication Type--&#x27; &#x2b; &#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; nullif&#x28;ap.allphone,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; &#x27;--Social networking--&#x27; &#x2b; &#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; nullif&#x28;aw.allnetwork,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;				, coalesce&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; &#x27;--Consultant Info--&#x27; &#x2b; &#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; nullif&#x28;ci.consultant_info,&#x27;&#x27;&#x29;, NULL&#x29;&#xa;				, coalesce&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; &#x27;--Contractor Details--&#x27; &#x2b; &#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; nullif&#x28;cc.custom_columns,&#x27;&#x27;&#x29;, NULL&#x29;&#xa;                , coalesce&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; &#x27;--Profile--&#x27; &#x2b; &#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; coalesce&#x28;nullif&#x28;cf.candidateprofile,&#x27;&#x27;&#x29;,&#x27;NONE&#x27;&#x29;,NULL&#x29;&#xa;                , coalesce&#x28;&#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; &#x27;--Notes--&#x27; &#x2b; &#x27;&#x3c;br&#x2f;&#x3e;&#x27; &#x2b; coalesce&#x28;nullif&#x28;pi.Notes,&#x27;&#x27;&#x29;,&#x27;NONE&#x27;&#x29;,NULL&#x29;&#xa;			&#x29;, &#x27;&#x3c;&#x2f;p&#x3e;&#x27;&#xa;        &#x29; as cand_rdb_notes&#xa;		, getdate&#x28;&#x29; as insert_timestamp&#xa;from dbo.Applicants a&#xa;left join person_info pi on pi.PersonID &#x3d; a.ApplicantId&#xa;left join owners o on o.ApplicantId &#x3d; a.ApplicantId&#xa;left join userinfo u on u.UserId &#x3d; a.CreatedUserId&#xa;left join userinfo u2 on u2.UserId &#x3d; a.UpdatedUserId&#xa;left join userinfo u3 on u3.UserId &#x3d; a.AssessedBy --Assess by &#x7c; AssessmentDate&#xa;--left join candidateinIDobject cid on cid.ObjectID &#x3d; a.ApplicantId&#xa;left join ApplicantStatus ast on ast.ApplicantStatusId &#x3d; a.StatusId&#xa;left join ListValues lv on lv.ListValueId &#x3d; a.AvailabilityId&#xa;left join ListValues lv2 on lv2.ListValueId &#x3d; a.PriorityValueId&#xa;left join Locations l on l.LocationId &#x3d; a.LocationId --locations&#xa;left join address_1 ad on ad.ObjectId &#x3d; a.ApplicantId --current address&#xa;left join sector_share ss on ss.ObjectID &#x3d; a.ApplicantId --share this person&#xa;left join officeemail oe on oe.ObjectId &#x3d; a.ApplicantId --Work Email&#xa;left join primaryEmail pe on pe.ObjectID &#x3d; a.ApplicantId --Primary Email from CommunicationTypes&#x3a; Email&#xa;left join personemail pse on pse.ObjectID &#x3d; a.ApplicantId --Personal Email&#xa;left join mobile m on m.ObjectID &#x3d; a.ApplicantId --Mobile&#xa;left join candidate_cv ccv on ccv.ApplicantId &#x3d; a.ApplicantId --Candidate cv&#xa;left join candidate_cvsend cd on cd.ApplicantId &#x3d; a.ApplicantId --Candidate documents&#xa;left join candidateprofile cf on cf.ApplicantId &#x3d; a.ApplicantId&#xa;left join work_history wh on wh.ApplicantId &#x3d; a.ApplicantId&#xa;left join allphone ap on ap.ObjectId &#x3d; a.ApplicantId --all other phones&#xa;left join allnetwork aw on aw.ObjectId &#x3d; a.ApplicantId --all other networking&#xa;left join consultant_info ci on ci.ApplicantId &#x3d; a.ApplicantId --all consultant group info&#xa;left join custom_columns cc on cc.ApplicantId &#x3d; a.ApplicantId --all custom columns&#xa;left join EmploymentTypes et on et.EmploymentTypeId &#x3d; a.EmploymentTypeId --Employment types&#xa;where 1&#x3d;1&#xa;and a.ApplicantId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 48&#x29; --Deleted Candidates</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate Source</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>--CANDIDATE SOURCE BASED ON MAPPING&#xa;select concat&#x28;&#x27;NP&#x27;,a.ApplicantId&#x29; as cand_ext_id&#xa;, s.SourceId, s.SystemCode&#xa;, s.Description&#xa;, case s.Description&#xa;	when &#x27;CV - Library&#x27; then &#x27;CV Library&#x27;&#xa;	when &#x27;CV-Library CV&#x27; then &#x27;CV Library CV search&#x27;&#xa;	when &#x27;Emed&#x27; then &#x27;Emed&#x27;&#xa;	when &#x27;Emed CV&#x27; then &#x27;Emed CV search&#x27;&#xa;	when &#x27;Facebook&#x27; then &#x27;Facebook&#x27;&#xa;	when &#x27;Glassdoor&#x27; then &#x27;Glassdoor&#x27;&#xa;	when &#x27;Indeed&#x27; then &#x27;Indeed&#x27; --existing&#xa;	when &#x27;Indeed CV&#x27; then &#x27;Indeed CV search&#x27;&#xa;	when &#x27;Jobsite&#x27; then &#x27;Jobsite&#x27;&#xa;	when &#x27;Jobsite CV&#x27; then &#x27;Jobsite CV search&#x27;&#xa;	when &#x27;LinkedIn Advert&#x27; then &#x27;LinkedIn&#x27; --existing&#xa;	when &#x27;LinkedIn Profile&#x27; then &#x27;LinkedIn&#x27; --existing&#xa;	when &#x27;LinkedIn Recruiter&#x27; then &#x27;LinkedIn&#x27; --existing&#xa;	when &#x27;Next Phase Website&#x27; then &#x27;Next Phase Website&#x27;&#xa;	when &#x27;Prof Passport&#x27; then &#x27;Prof Passport&#x27;&#xa;	when &#x27;Reed&#x27; then &#x27;Reed&#x27;&#xa;	when &#x27;Reed CV&#x27; then &#x27;Reed CV search&#x27;&#xa;	when &#x27;Referral&#x27; then &#x27;Referral&#x27; --existing&#xa;	when &#x27;Shane&#x27; then &#x27;Shane&#x27;&#xa;	when &#x27;Total Jobs&#x27; then &#x27;Totaljobs&#x27;&#xa;	when &#x27;Totaljobs CV&#x27; then &#x27;Totaljobs CV search&#x27;&#xa;	else &#x27;Legacy&#x27; end as candidate_source&#xa;from Applicants a&#xa;left join dbo.Sources s on s.SourceId&#x3d;a.SourceId&#xd;&#xa;where a.ApplicantId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 48&#x29; --Deleted Candidates</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate gdpr</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with gdpr as &#x28;select gc.PersonId&#xd;&#xa;, gct.Description as consent_type&#xd;&#xa;, gc.ConsentDateUtc&#xd;&#xa;, gc.ConsentExpiryDateUtc&#xd;&#xa;, gcs.Description as via_method&#xd;&#xa;, concat_ws&#x28;char&#x28;10&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Consent Type&#x3a; &#x27; &#x2b; nullif&#x28;gct.Description,&#x27;&#x27;&#x29;, NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Date Received&#x3a; &#x27; &#x2b; nullif&#x28;convert&#x28;varchar&#x28;10&#x29;, gc.ConsentDateUtc, 120&#x29;,&#x27;&#x27;&#x29;, NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Expiry Date&#x3a; &#x27; &#x2b; nullif&#x28;convert&#x28;varchar&#x28;10&#x29;, gc.ConsentExpiryDateUtc, 120&#x29;,&#x27;&#x27;&#x29;, NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Via method&#x3a; &#x27; &#x2b; nullif&#x28;gcs.Description,&#x27;&#x27;&#x29;, NULL&#x29;&#xd;&#xa;	&#x29; as gdpr_notes&#xd;&#xa;from GDPRConsents gc&#xd;&#xa;left join GDPRConsentTypes gct on gct.GDPRConsentTypeId &#x3d; gc.GDPRConsentTypeId&#xd;&#xa;left join GDPRConsentSources gcs on gcs.GDPRConsentSourceId &#x3d; gc.GDPRConsentSourceId&#xd;&#xa;&#x29;&#xd;&#xa;&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, PersonId&#x29; as cand_ext_id&#xd;&#xa;, string_agg&#x28;gdpr_notes, char&#x28;10&#x29;&#x29; as gdpr_notes&#xd;&#xa;, current_timestamp as insert_timestamp&#xd;&#xa;from gdpr&#xd;&#xa;where PersonId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 48&#x29;&#xd;&#xa;group by PersonId --1073 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate info</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with person_info as &#x28;--CANDIDATE INFO&#xd;&#xa;		select p.PersonID, p.PersonName, p.Surname, p.Dob, p.Notes&#xd;&#xa;                , p.GenderValueId&#xd;&#xa;                , case when lv1.ValueName&#x3d;&#x27;Female&#x27; then &#x27;FEMALE&#x27;&#xd;&#xa;					when lv1.ValueName&#x3d;&#x27;Male&#x27; then &#x27;MALE&#x27;  &#xd;&#xa;					else null end as Gender&#xd;&#xa;                , p.MaritalStatusValueId&#xd;&#xa;				, lv2.ValueName as Marital&#xd;&#xa;                , p.TitleValueId&#xd;&#xa;				--, lv3.ValueName as Title&#xd;&#xa;				, case &#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Dame&#x27; then &#x27;MISS&#x27;&#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Dr&#x27; then &#x27;DR&#x27;&#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Miss&#x27; then &#x27;MISS&#x27;&#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Mr&#x27; then &#x27;MR&#x27;&#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Mrs&#x27; then &#x27;MRS&#x27;&#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Ms&#x27; then &#x27;MISS&#x27;&#xd;&#xa;					when lv3.ValueName &#x3d; &#x27;Sir&#x27; then &#x27;MR&#x27;&#xd;&#xa;				end as Title&#xd;&#xa;                , p.Salutation&#xd;&#xa;				, p.NationalityId&#xd;&#xa;				, case when n.Nationality &#x3d; &#x27;Dutch&#x27; then &#x27;NL&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;German&#x27; then &#x27;DE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;French&#x27; then &#x27;FR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Jamaican&#x27; then &#x27;JM&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;N Zealander&#x27; then &#x27;NZ&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Lithuanian&#x27; then &#x27;LT&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Maltese&#x27; then &#x27;MT&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Chilean&#x27; then &#x27;CL&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Venezuelan&#x27; then &#x27;VE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;USA&#x27; then &#x27;US&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Lebanese&#x27; then &#x27;LB&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Moroccan&#x27; then &#x27;MA&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Estonian&#x27; then &#x27;EE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Egyptian&#x27; then &#x27;EG&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Pakistani&#x27; then &#x27;PK&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Swiss&#x27; then &#x27;CH&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Cuban&#x27; then &#x27;CU&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Ukranian&#x27; then &#x27;UA&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Hong Kong &#x28;Chinese&#x29;&#x27; then &#x27;HK&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Swedish&#x27; then &#x27;SE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Japanese&#x27; then &#x27;JP&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Taiwanese&#x27; then &#x27;TW&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Peruvian&#x27; then &#x27;PE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Czech&#x27; then &#x27;CZ&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Jordanian&#x27; then &#x27;JO&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Portugese&#x27; then &#x27;PT&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Vincentian&#x27; then &#x27;VC&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Philipino&#x27; then &#x27;PH&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Norwegian&#x27; then &#x27;NO&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Danish&#x27; then &#x27;DK&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Romanian&#x27; then &#x27;RO&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Kenyan&#x27; then &#x27;KE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Thai&#x27; then &#x27;TH&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Hungarian&#x27; then &#x27;HU&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Latvian&#x27; then &#x27;LV&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Chinese&#x27; then &#x27;CN&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Colombian&#x27; then &#x27;CO&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Myanmar&#x27; then &#x27;MM&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Netherland&#x27; then &#x27;NL&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Turkish&#x27; then &#x27;TR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Malawian&#x27; then &#x27;MW&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Fijian&#x27; then &#x27;FJ&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Nepalese&#x27; then &#x27;NP&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Slovakian&#x27; then &#x27;SK&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Iranian&#x27; then &#x27;IR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Russian&#x27; then &#x27;RU&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Montenegri&#x27; then &#x27;ME&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Sri Lankan&#x27; then &#x27;LK&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Bulgarian&#x27; then &#x27;BG&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;CROATIAN&#x27; then &#x27;HR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Eritrean&#x27; then &#x27;ER&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Canadian&#x27; then &#x27;CA&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Namibian&#x27; then &#x27;NA&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Panamanian&#x27; then &#x27;PA&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Serbian&#x27; then &#x27;RS&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Sudanese&#x27; then &#x27;SD&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Israeli&#x27; then &#x27;IL&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Mexican&#x27; then &#x27;MX&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;SYRIAN&#x27; then &#x27;SY&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Congolese&#x27; then &#x27;CG&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Irish&#x27; then &#x27;IE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Yemen&#x27; then &#x27;YE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Macedonian&#x27; then &#x27;MK&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Spanish&#x27; then &#x27;ES&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Filipino&#x27; then &#x27;PH&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Finnish&#x27; then &#x27;FI&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Malaysian&#x27; then &#x27;MY&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Vietnamese&#x27; then &#x27;VN&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Polish&#x27; then &#x27;PL&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Liberian&#x27; then &#x27;LR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Icelandic&#x27; then &#x27;IS&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Guyanese&#x27; then &#x27;GY&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Indian&#x27; then &#x27;IN&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Cypriot&#x27; then &#x27;CY&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Nigerian&#x27; then &#x27;NG&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Italian&#x27; then &#x27;IT&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Greek&#x27; then &#x27;GR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Korean&#x27; then &#x27;KR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;British&#x27; then &#x27;GB&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Australian&#x27; then &#x27;AU&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;South African&#x27; then &#x27;ZA&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Iraqi&#x27; then &#x27;IQ&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Ugandan&#x27; then &#x27;UG&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Argentinean&#x27; then &#x27;AR&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;American&#x27; then &#x27;US&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Zimbabwean&#x27; then &#x27;ZW&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Belgian&#x27; then &#x27;BE&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Austrian&#x27; then &#x27;AT&#x27;&#xd;&#xa;					when n.Nationality &#x3d; &#x27;Brazilian&#x27; then &#x27;BR&#x27;&#xd;&#xa;					else NULL end as Nationality&#xd;&#xa;        from Person p&#xd;&#xa;        left join ListValues lv1 on p.GenderValueId&#x3d;lv1.ListValueId&#xd;&#xa;        left join ListValues lv2 on p.MaritalStatusValueId&#x3d;lv2.ListValueId&#xd;&#xa;        left join ListValues lv3 on p.TitleValueId&#x3d;lv3.ListValueId&#xd;&#xa;        left join Nationality n on n.NationalityId&#x3d;p.NationalityId&#x29;&#xd;&#xa;&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, ApplicantId&#x29; as cand_ext_id&#xd;&#xa;, pi.Marital as &#x5b;candidate-marital&#x5d;&#xd;&#xa;, case pi.Marital&#xd;&#xa;	when &#x27;Widower&#x27; then 4 --Widowed&#xd;&#xa;	when &#x27;Single&#x27; then 1&#xd;&#xa;	when &#x27;Divorced&#x27; then 3&#xd;&#xa;	when &#x27;Married&#x27; then 2&#xd;&#xa;	when &#x27;Widow&#x27; then 4&#xd;&#xa;	else NULL end as maritalstatus --Cohab status&#xd;&#xa;, pi.Salutation as PreferredName&#xd;&#xa;, convert&#x28;varchar&#x28;max&#x29;,a.RateUnit&#x29; as RateUnit&#xd;&#xa;, lv.ValueName&#xd;&#xa;, case &#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Day&#x27; then &#x27;day&#x27;&#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Hour&#x27; then &#x27;hour&#x27;&#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Week&#x27; then &#x27;week&#x27;&#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Year&#x27; then &#x27;year&#x27;&#xd;&#xa;	else NULL end as contract_interval&#xd;&#xa;from Applicants a&#xd;&#xa;left join person_info pi on pi.PersonID &#x3d; a.ApplicantId&#xd;&#xa;left join ListValues lv on lv.ListValueId &#x3d; a.RateUnit&#xd;&#xa;where a.ApplicantId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 48&#x29;&#xd;&#xa;--and a.RateUnit is not NULL</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>candidate</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>cand_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCandidateID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate lookup 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>candidate</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>cand_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCandidateID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>688</xloc>
      <yloc>704</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate lookup 3</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>candidate</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>cand_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCandidateID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate lookup 4</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>candidate</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>cand_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCandidateID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate new tab</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema/>
    <table>candidate_note</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>candidate_id</column_name>
          <stream_name>VCCandidateID</stream_name>
        </field>
        <field>
          <column_name>title</column_name>
          <stream_name>title</stream_name>
        </field>
        <field>
          <column_name>note</column_name>
          <stream_name>cand_rdb_notes</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>insert_timestamp</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate reg</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, ApplicantId&#x29; as cand_ext_id&#xa;, CreatedOn&#xa;from Applicants&#xa;where ApplicantId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 48&#x29;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate source lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>candidate_source</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>candidate_source</name>
        <field>name</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCandSourceID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Company Location</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with alladdress as &#x28;&#xa;        select ad.ObjectId,ad.AddressId,adt.Description,ad.Building,ad.Street,ad.District,ad.City,ad.PostCode&#xa;		, lvct.ValueName as &#x27;County&#x27;&#xa;		, lvc.ValueName as &#x27;Country&#x27;&#xa;		, lvc.SystemCode as CountryCode&#xa;		, row_number&#x28;&#x29; OVER&#x28;partition by ad.ObjectID order by ad.AddressID desc&#x29; AS rn --,ad.CountyValueId,ad.CountryValueId&#xa;        from dbo.Address ad&#xa;        left join dbo.AddressTypes adt on ad.AddressTypeId&#x3d;adt.AddressTypeId&#xa;        left join dbo.ListValues lvc on lvc.ListValueId&#x3d;ad.CountryValueId --country&#xa;        left join dbo.ListValues lvct on lvct.ListValueId&#x3d;ad.CountyValueId --county&#xa;&#x29;&#xa;&#xa;, add_address as &#x28;select concat&#x28;&#x27;NP&#x27;, aad.ObjectId&#x29; as com_ext_id&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Building&#x29;,&#x27;&#x27;&#x29; as Building&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Street&#x29;,&#x27;&#x27;&#x29; as Street&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.District&#x29;,&#x27;&#x27;&#x29; as District&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.City&#x29;,&#x27;&#x27;&#x29; as city&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.PostCode&#x29;,&#x27;&#x27;&#x29; as post_code&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.County&#x29;,&#x27;&#x27;&#x29; as &#x5b;state&#x5d;&#xa;      , nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Country&#x29;,&#x27;&#x27;&#x29; as Country&#xa;			, nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.CountryCode&#x29;,&#x27;&#x27;&#x29; as CountryCode&#xa;      , left&#x28;concat_ws&#x28;&#x27;, &#x27;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Building&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Street&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.District&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x28;&#x29;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.City&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.PostCode&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.County&#x29;,&#x27;&#x27;&#x29;,&#xa;					nullif&#x28;TRIM&#x28;&#x27; ,&#x27;&#x27;&#x22;.&#x2b;&#x7c;&#xf0b7;&#x2a;&#x5b;&#x5d;&#x5c;&#x2f;&#x7b;&#x7d;&#x27; FROM aad.Country&#x29;,&#x27;&#x27;&#x29;&#x29;,300&#x29; as &#x27;company_address&#x27;&#xa;			, getdate&#x28;&#x29; as insert_timestamp&#xa;from alladdress aad&#xa;where rn &#x3e; 1&#x29;&#xa;&#xa;select &#x2a;&#xa;from add_address&#xa;where Building is not NULL or city is not NULL or Country is not NULL or CountryCode is not NULL</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>64</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Company Reg Date</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, ClientID&#x29; as com_ext_id&#xa;, convert&#x28;datetime,CreatedOn,120&#x29; as CreatedOn&#xa;from Clients</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>64</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Company Reg&#x2f;VAT no</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, ClientID&#x29; as com_ext_id&#xa;, RegNo&#xa;, VatNo&#xa;from Clients&#xa;where &#x28;RegNo is not NULL and RegNo &#x3c;&#x3e; &#x27;&#x27;&#x29;&#xa;or &#x28;VATno is not NULL and VATno &#x3c;&#x3e; &#x27;&#x27;&#x29;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>64</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Company lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>company</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>com_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCompanyID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>208</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Company lookup 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>company</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>com_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCompanyID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>208</xloc>
      <yloc>704</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact Document</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, cc.ClientContactId&#x29; as con_ext_id&#xd;&#xa;, cc.ContactPersonId&#xd;&#xa;, concat_ws&#x28;&#x27;_&#x27;,&#x27;NP_S&#x27;, t.TemplateId, concat&#x28;cc.ClientContactId, td.FileExtension&#x29;&#x29; as UploadedName&#xd;&#xa;, t.TemplateName&#xd;&#xa;, case when right&#x28;trim&#x28;t.TemplateName&#x29;, charindex&#x28;&#x27;.&#x27;, reverse&#x28;trim&#x28;t.TemplateName&#x29;&#x29;&#x29;&#x29; &#x3d; concat_ws&#x28;&#x27;_&#x27;, td.TemplateId, td.FileExtension&#x29; &#xd;&#xa;			then t.Description&#xd;&#xa;	else concat&#x28;trim&#x28;t.TemplateName&#x29;, td.FileExtension&#x29; end as RealName --decription may probably include file extension&#xd;&#xa;, td.FileExtension&#xd;&#xa;, convert&#x28;datetime, td.CreatedOn, 120&#x29; as Created&#xd;&#xa;from ClientContacts cc&#xd;&#xa;left join Templates t on t.ObjectId &#x3d; cc.ContactPersonId&#xd;&#xa;left join TemplateDocument td on td.TemplateId &#x3d; t.TemplateId&#xd;&#xa;where 1&#x3d;1&#xd;&#xa;and td.FileExtension in &#x28;&#x27;.pdf&#x27;,&#x27;.doc&#x27;,&#x27;.rtf&#x27;,&#x27;.xls&#x27;,&#x27;.xlsx&#x27;,&#x27;.docx&#x27;,&#x27;.msg&#x27;,&#x27;.txt&#x27;,&#x27;.htm&#x27;,&#x27;.html&#x27;&#x29;&#xd;&#xa;and t.TemplateTypeId &#x3d; 53</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact Home Phone</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with otherphone as &#x28;--ALL OTHER PHONES as HOME PHONE&#xa;				select p.ObjectID, p.PhoneId, p.CreatedOn, p.CommunicationTypeId&#xa;				, case when patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; &#x3e; 0 then left&#x28;trim&#x28;num&#x29;, patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; - 1&#x29; &#xa;				else trim&#x28;Num&#x29; end as phone&#xa;        from Phones p&#xa;        where p.CommunicationTypeId in &#x28;79, 81, 82, 87, 88&#x29; --phone, day, evening, office, home &#x7c; used as home phone&#xa;		&#x29;&#xa;&#xa;, otherphone_group_all as &#x28;select ObjectID&#xa;				, string_agg&#x28;nullif&#x28;phone, &#x27;&#x27;&#x29;,&#x27;, &#x27;&#x29; as otherphone_group_all&#xa;				from otherphone&#xa;				group by ObjectID&#xa;		&#x29;&#xa;&#xa;select concat&#x28;&#x27;NP&#x27;, cc.ClientContactId&#x29; as con_ext_id&#xa;, opg.otherphone_group_all as home_phone&#xa;from ClientContacts cc&#xa;left join otherphone_group_all opg on opg.ObjectID &#x3d; cc.ContactPersonId --other phones as home phones&#xa;where cc.ClientID not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 49&#x29;&#xa;and opg.otherphone_group_all is not NULL --7847 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact Reg Date</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, ClientContactID&#x29; as con_ext_id&#xa;, convert&#x28;datetime,CreatedOn,120&#x29; as CreatedOn&#xa;from ClientContacts</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>contact</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>con_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCContactID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>688</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact lookup 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>contact</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>con_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCContactID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>688</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact lookup 2 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>contact</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>con_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCContactID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>352</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact mobile</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with mobilephone as &#x28;--CONTACT MOBILE --INJECTED LATER&#xd;&#xa;		select p.ObjectID,p.PhoneId,p.CreatedOn&#xd;&#xa;		, case when patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; &#x3e; 0 then left&#x28;trim&#x28;num&#x29;, patindex&#x28;&#x27;&#x25;&#x5b;a-zA-Z&#x5d;&#x25;&#x27;,Num&#x29; - 1&#x29; &#xd;&#xa;			else trim&#x28;Num&#x29; end as phone&#xd;&#xa;        from dbo.Phones p&#xd;&#xa;        where p.CommunicationTypeId &#x3d; 83 --Mobile &#x7c; used as primary phone&#xd;&#xa;		&#x29; --reused for other entities&#xd;&#xa;, mobile as &#x28;select ObjectID&#xd;&#xa;		, string_agg&#x28;nullif&#x28;phone,&#x27;&#x27;&#x29;,&#x27;,&#x27;&#x29; as mobile&#xd;&#xa;		from mobilephone&#xd;&#xa;		group by ObjectID&#xd;&#xa;		&#x29;&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, cc.ClientContactId&#x29; as con_ext_id&#xd;&#xa;, m.mobile&#xd;&#xa;from ClientContacts cc&#xd;&#xa;left join mobile m on m.ObjectID &#x3d; cc.ContactPersonId --other phones as home phones&#xd;&#xa;where cc.ClientID not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 49&#x29;&#xd;&#xa;and m.mobile is not NULL --2314 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Contact personal email</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with personemail as &#x28;--PERSON EMAIL&#xd;&#xa;        select p.ObjectID, STRING_AGG&#x28;TRIM&#x28;&#x27;.&#x27; FROM p.Num&#x29;,&#x27;,&#x27;&#x29; as personemail&#xd;&#xa;        from dbo.Phones p&#xd;&#xa;        where p.CommunicationTypeId&#x3d;86 --Email &#x28;Personal&#x29;&#xd;&#xa;        and p.Num like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xd;&#xa;        group by p.ObjectID&#xd;&#xa;&#x29;&#xd;&#xa;&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, cc.ClientContactId&#x29; as con_ext_id&#xd;&#xa;, pe.personemail&#xd;&#xa;from ClientContacts cc&#xd;&#xa;left join personemail pe on pe.ObjectID &#x3d; cc.ContactPersonId&#xd;&#xa;where cc.ClientID not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 49&#x29;&#xd;&#xa;and pe.personemail is not NULL --51 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Extract Candidate Documents</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select ParentId as CandidateExtID&#xa;	, Name as RealName&#xa;	, concat&#x28;Id, right&#x28;NAME,CHARINDEX&#x28;&#x27;.&#x27;,reverse&#x28;NAME&#x29;&#x29;&#x29;&#x29; as UploadedName&#xa;	from Attachment&#xa;	where ParentId in &#x28;select Id from Contact&#x29;&#xa;	and &#x28;NAME like &#x27;&#x25;.doc&#x25;&#x27; or NAME like &#x27;&#x25;.pdf&#x27; or NAME like &#x27;&#x25;.rtf&#x27; or NAME like &#x27;&#x25;.xls&#x25;&#x27; or NAME like &#x27;&#x25;.html&#x27; or NAME like &#x27;&#x25;.msg&#x27;&#x29;&#xa;order by ParentId</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Extract job cv send</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, aa.JobId&#x29; as job_ext_id&#xd;&#xa;		, concat_ws&#x28;&#x27;_&#x27;,&#x27;NP_CVSend&#x27;, d.DocumentID, concat&#x28;aa.JobId, dc.FileExtension&#x29;&#x29; as UploadedName&#xd;&#xa;		, d.Description&#xd;&#xa;		, case when right&#x28;trim&#x28;d.Description&#x29;, charindex&#x28;&#x27;.&#x27;, reverse&#x28;trim&#x28;d.Description&#x29;&#x29;&#x29;&#x29; &#x3d; dc.FileExtension then trim&#x28;d.Description&#x29;&#xd;&#xa;			when trim&#x28;d.Description&#x29; &#x3d; &#x27;&#x27; or d.Description is NULL then concat_ws&#x28;&#x27;_&#x27;,&#x27;cvsend&#x27;, cvs.CVSendDocumentId, concat&#x28;aa.JobId, dc.FileExtension&#x29;&#x29;&#xd;&#xa;			else concat&#x28;trim&#x28;d.Description&#x29;, dc.FileExtension&#x29; end as RealName --decription may probably include file extension&#xd;&#xa;		, dc.FileExtension&#xd;&#xa;		, convert&#x28;datetime, dc.CreatedOn, 120&#x29; as Created&#xd;&#xa;from CVSendDocuments cvs&#xd;&#xa;left join ApplicantActions aa on aa.ApplicantActionId &#x3d; cvs.ApplicantActionId&#xd;&#xa;left join Documents d on d.DocumentID &#x3d; cvs.DocumentId&#xd;&#xa;left join DocumentContent dc on d.DocumentId &#x3d; dc.DocumentId&#xd;&#xa;where 1&#x3d;1&#xd;&#xa;and dc.FileExtension in &#x28;&#x27;.pdf&#x27;,&#x27;.doc&#x27;,&#x27;.rtf&#x27;,&#x27;.xls&#x27;,&#x27;.xlsx&#x27;,&#x27;.docx&#x27;,&#x27;.png&#x27;,&#x27;.jpg&#x27;,&#x27;.jpeg&#x27;,&#x27;.gif&#x27;,&#x27;.bmp&#x27;,&#x27;.msg&#x27;,&#x27;.txt&#x27;,&#x27;.htm&#x27;,&#x27;.html&#x27;&#x29;&#xd;&#xa;and aa.JobId is not NULL --17270 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Extract job document</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;, jd.JobId&#x29; as job_ext_id&#xd;&#xa;	, concat_ws&#x28;&#x27;_&#x27;,&#x27;NP_JD&#x27;,jd.DocumentId,concat&#x28;jd.jobId,dc.FileExtension&#x29;&#x29; as UploadedName&#xd;&#xa;	, d.Description&#xd;&#xa;	, case when right&#x28;trim&#x28;d.Description&#x29;, charindex&#x28;&#x27;.&#x27;, reverse&#x28;trim&#x28;d.Description&#x29;&#x29;&#x29;&#x29; &#x3d; dc.FileExtension then trim&#x28;d.Description&#x29;&#xd;&#xa;		when trim&#x28;d.Description&#x29; &#x3d; &#x27;&#x27; or d.Description is NULL then concat_ws&#x28;&#x27;_&#x27;, &#x27;jobdocuments&#x27;, jd.DocumentId, concat&#x28;jd.jobId,dc.FileExtension&#x29;&#x29;&#xd;&#xa;		else concat&#x28;trim&#x28;d.Description&#x29;, dc.FileExtension&#x29; end as RealName --decription may probably include file extension&#xd;&#xa;	, dc.FileExtension&#xd;&#xa;	, convert&#x28;datetime, dc.CreatedOn, 120&#x29; as Created&#xd;&#xa;from JobDocuments jd&#xd;&#xa;left join DocumentContent dc on dc.DocumentID&#x3d;jd.DocumentId&#xd;&#xa;left join Documents d on d.DocumentId &#x3d; dc.DocumentId&#xd;&#xa;where dc.FileExtension in &#x28;&#x27;.pdf&#x27;,&#x27;.doc&#x27;,&#x27;.rtf&#x27;,&#x27;.xls&#x27;,&#x27;.xlsx&#x27;,&#x27;.docx&#x27;,&#x27;.png&#x27;,&#x27;.jpg&#x27;,&#x27;.jpeg&#x27;,&#x27;.gif&#x27;,&#x27;.bmp&#x27;,&#x27;.msg&#x27;,&#x27;.txt&#x27;,&#x27;.htm&#x27;,&#x27;.html&#x27;&#x29; --21 rows&#xd;&#xa;--and d.Description &#x3c;&#x3e; &#x27;&#x27; --3 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Extract job interviews</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;,nl.JobId&#x29; as job_ext_id&#xd;&#xa;		, concat_ws&#x28;&#x27;_&#x27;,&#x27;NP_IV&#x27;, d.DocumentID, concat&#x28;nl.JobId, dc.FileExtension&#x29;&#x29; as UploadedName&#xd;&#xa;		, d.Description&#xd;&#xa;		, case when right&#x28;trim&#x28;d.Description&#x29;, charindex&#x28;&#x27;.&#x27;, reverse&#x28;trim&#x28;d.Description&#x29;&#x29;&#x29;&#x29; &#x3d; dc.FileExtension then trim&#x28;d.Description&#x29;&#xd;&#xa;			when trim&#x28;d.Description&#x29; &#x3d; &#x27;&#x27; or d.Description is NULL then concat_ws&#x28;&#x27;_&#x27;, &#x27;Interviews&#x27;, d.DocumentID, concat&#x28;nl.JobId, dc.FileExtension&#x29;&#x29;&#xd;&#xa;			else concat&#x28;trim&#x28;d.Description&#x29;, dc.FileExtension&#x29; end as RealName --decription may probably include file extension&#xd;&#xa;		, dc.FileExtension&#xd;&#xa;		, convert&#x28;datetime, dc.CreatedOn, 120&#x29; as Created&#xd;&#xa;		from &#x28;select distinct InterviewDocumentId, NotebookItemId from InterviewDocuments&#x29; id --5602&#xd;&#xa;		left join NotebookLinks nl on nl.NotebookItemId &#x3d; id.NotebookItemId&#xd;&#xa;		left join Documents d on d.NotebookItemId &#x3d; nl.NotebookItemId&#xd;&#xa;		left join DocumentContent dc on dc.DocumentId &#x3d; d.DocumentID&#xd;&#xa;		where 1&#x3d;1&#xd;&#xa;		and dc.FileExtension in &#x28;&#x27;.pdf&#x27;,&#x27;.doc&#x27;,&#x27;.rtf&#x27;,&#x27;.xls&#x27;,&#x27;.xlsx&#x27;,&#x27;.docx&#x27;,&#x27;.png&#x27;,&#x27;.jpg&#x27;,&#x27;.jpeg&#x27;,&#x27;.gif&#x27;,&#x27;.bmp&#x27;,&#x27;.msg&#x27;,&#x27;.txt&#x27;,&#x27;.htm&#x27;,&#x27;.html&#x27;&#x29;&#xd;&#xa;		and nl.JobId is not NULL --5656 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert Candidate New Note</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection/>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>candidate_note</table>
      <key>
        <name>VCCandidateID</name>
        <field>candidate_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>candidate_id</name>
        <rename>VCCandidateID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>title</name>
        <rename>title</rename>
        <update>Y</update>
      </value>
      <value>
        <name>note</name>
        <rename>note</rename>
        <update>Y</update>
      </value>
      <value>
        <name>insert_timestamp</name>
        <rename>insert_timestamp</rename>
        <update>Y</update>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>544</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert applicant actions</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema>public</schema>
    <table>activity</table>
    <commit>200</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>company_id</column_name>
          <stream_name>VCCompanyID</stream_name>
        </field>
        <field>
          <column_name>position_id</column_name>
          <stream_name>VCJobID</stream_name>
        </field>
        <field>
          <column_name>candidate_id</column_name>
          <stream_name>VCCandidateID</stream_name>
        </field>
        <field>
          <column_name>contact_id</column_name>
          <stream_name>VCContactID</stream_name>
        </field>
        <field>
          <column_name>user_account_id</column_name>
          <stream_name>user_account_id</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>createdOn</stream_name>
        </field>
        <field>
          <column_name>content</column_name>
          <stream_name>comment_activities</stream_name>
        </field>
        <field>
          <column_name>category</column_name>
          <stream_name>category</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert company location</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema/>
    <table>company_location</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>company_id</column_name>
          <stream_name>VCCompanyID</stream_name>
        </field>
        <field>
          <column_name>address</column_name>
          <stream_name>company_address</stream_name>
        </field>
        <field>
          <column_name>location_name</column_name>
          <stream_name>company_address</stream_name>
        </field>
        <field>
          <column_name>post_code</column_name>
          <stream_name>post_code</stream_name>
        </field>
        <field>
          <column_name>note</column_name>
          <stream_name>com_ext_id</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>insert_timestamp</stream_name>
        </field>
        <field>
          <column_name>state</column_name>
          <stream_name>state</stream_name>
        </field>
        <field>
          <column_name>country_code</column_name>
          <stream_name>CountryCode</stream_name>
        </field>
        <field>
          <column_name>district</column_name>
          <stream_name>District</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert gdpr notes</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema/>
    <table>candidate_gdpr_compliance</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>candidate_id</column_name>
          <stream_name>VCCandidateID</stream_name>
        </field>
        <field>
          <column_name>notes</column_name>
          <stream_name>gdpr_notes</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>insert_timestamp</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert interviews</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema>public</schema>
    <table>activity</table>
    <commit>200</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>company_id</column_name>
          <stream_name>VCCompanyID</stream_name>
        </field>
        <field>
          <column_name>position_id</column_name>
          <stream_name>VCJobID</stream_name>
        </field>
        <field>
          <column_name>candidate_id</column_name>
          <stream_name>VCCandidateID</stream_name>
        </field>
        <field>
          <column_name>contact_id</column_name>
          <stream_name>VCContactID</stream_name>
        </field>
        <field>
          <column_name>user_account_id</column_name>
          <stream_name>user_account_id</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>interview_datetime</stream_name>
        </field>
        <field>
          <column_name>content</column_name>
          <stream_name>comment_activities</stream_name>
        </field>
        <field>
          <column_name>category</column_name>
          <stream_name>category</stream_name>
        </field>
        <field>
          <column_name>type</column_name>
          <stream_name>type</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>704</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert job Salary from to</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema>public</schema>
      <table>compensation</table>
      <key>
        <name>VCJobID</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>annual_salary_from</name>
        <rename>SalaryFrom</rename>
        <update>Y</update>
      </value>
      <value>
        <name>annual_salary_to</name>
        <rename>SalaryTo</rename>
        <update>Y</update>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1456</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert notebook</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema>public</schema>
    <table>activity</table>
    <commit>200</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>company_id</column_name>
          <stream_name>VCCompanyID</stream_name>
        </field>
        <field>
          <column_name>contact_id</column_name>
          <stream_name>VCContactID</stream_name>
        </field>
        <field>
          <column_name>position_id</column_name>
          <stream_name>VCJobID</stream_name>
        </field>
        <field>
          <column_name>candidate_id</column_name>
          <stream_name>VCCandidateID</stream_name>
        </field>
        <field>
          <column_name>user_account_id</column_name>
          <stream_name>user_account_id</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>insert_timestamp</stream_name>
        </field>
        <field>
          <column_name>content</column_name>
          <stream_name>comment_activities</stream_name>
        </field>
        <field>
          <column_name>category</column_name>
          <stream_name>category</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Interviews</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>--INTERVIEW ACTIVITIES&#xd;&#xa;with userinfo as &#x28;&#xd;&#xa;        select u.UserId,u.LoginName,u.UserName,u.UserFullName,u.JobTitle,u.Inactive&#xd;&#xa;        from Users u&#x29;&#xd;&#xa;&#xd;&#xa;select coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, nullif&#x28;a.ApplicantId,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as cand_ext_id&#xd;&#xa;, coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, nullif&#x28;a.JobId,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as job_ext_id&#xd;&#xa;, coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, nullif&#x28;a.ClientContactId,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as con_ext_id&#xd;&#xa;, coalesce&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, nullif&#x28;a.ClientId,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as com_ext_id&#xd;&#xa;, -10 as user_account_id&#xd;&#xa;, convert&#x28;datetime,i.InterviewDate,120&#x29; &#x2b; convert&#x28;datetime, i.InterviewTime,120&#x29; as interview_datetime&#xd;&#xa;, &#x27;comment&#x27; as category&#xd;&#xa;, &#x27;candidate&#x27; as type&#xd;&#xa;, it.Description&#xd;&#xa;, iot.Description&#xd;&#xa;, concat_ws&#x28;char&#x28;10&#x29;, &#x27;&#x5b;Interviews&#x5d;&#x27;&#xd;&#xa;	, coalesce&#x28;&#x27;Created by&#x3a; &#x27;&#x2b; u.UserFullName,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Updated by&#x3a; &#x27;&#x2b; u2.UserFullName,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Interview Type&#x3a; &#x27;&#x2b; it.Description,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Applicant Confirmed&#x3a; &#x27;&#x2b; i.ApplicantConfirmed,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Client Contact Confirmed&#x3a; &#x27;&#x2b; i.ClientContactConfirmed,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Interview Date&#x2f;Time&#x3a; &#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, &#x28;convert&#x28;datetime,i.InterviewDate,120&#x29; &#x2b; convert&#x28;datetime, i.InterviewTime,120&#x29;&#x29;, 120&#x29;,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Notes&#x3a; &#x27;&#x2b; i.Notes,NULL&#x29;&#xd;&#xa;	, coalesce&#x28;&#x27;Interview Outcome&#x3a; &#x27;&#x2b; iot.Description,NULL&#x29;&#xd;&#xa;	&#x29; as comment_activities&#xd;&#xa;from Interviews i&#xd;&#xa;left join InterviewOutcomes iot on iot.InterviewOutcomeId &#x3d; i.InterviewOutcomeId&#xd;&#xa;left join InterviewTypes it on it.InterviewTypeId &#x3d; i.InterviewTypeId&#xd;&#xa;left join ApplicantActions a on a.ApplicantActionId &#x3d; i.ApplicantActionId&#xd;&#xa;left join userinfo u on u.UserId &#x3d; i.CreatedUserId&#xd;&#xa;left join userinfo u2 on u2.UserId &#x3d; i.UpdatedUserId&#xd;&#xa;where i.ApplicantActionId is not NULL&#xd;&#xa;--and i.InterviewId &#x3d; 13165&#xd;&#xa;--total 13158 rows</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>64</xloc>
      <yloc>704</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Job - FromSalary - ToSalary</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;,j.JobId&#x29; as job_ext_id&#xd;&#xa;, j.EmploymentTypeId&#xd;&#xa;, case &#xd;&#xa;	when j.EmploymentTypeId in &#x28;5, 6, 7, 8, 10, 11, 13&#x29; then &#x27;CONTRACT&#x27;&#xd;&#xa;	when j.EmploymentTypeId in &#x28;4, 9, 12&#x29; then &#x27;PERMANENT&#x27;&#xd;&#xa;	else &#x27;CONTRACT&#x27; end as position_type --check in contract jobs&#xd;&#xa;, convert&#x28;money,j.MaxBasic&#x29; as gross_annual_salary&#xd;&#xa;, convert&#x28;money,j.MinBasic&#x29; as salaryFrom&#xd;&#xa;, convert&#x28;money,j.MaxBasic&#x29; as salaryTo&#xd;&#xa;, j.CommissionPerc&#xd;&#xa;, cj.ChargeRate&#xd;&#xa;, cj.PayRate&#xd;&#xa;, cj.ChargeUnitValueId&#xd;&#xa;, case when lv.ValueName &#x3d; &#x27;Day&#x27; then &#x27;3&#x27;&#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Hour&#x27; then &#x27;2&#x27;&#xd;&#xa;	else NULL end as contract_rate_type&#xd;&#xa;from Jobs j&#xd;&#xa;left join ContractJobs cj on cj.JobId &#x3d; j.JobId&#xd;&#xa;left join ListValues lv on lv.ListValueId &#x3d; cj.ChargeUnitValueId&#xd;&#xa;where 1&#x3d;1&#xd;&#xa;and j.ClientId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 49&#x29; --Deleted Clients&#xd;&#xa;--and &#x28;j.EmploymentTypeId in &#x28;5, 6, 7, 8, 10, 11, 13&#x29; or j.EmploymentTypeId is NULL&#x29; --2671 --CONTRACT JOB&#xd;&#xa;and j.EmploymentTypeId in &#x28;4, 9, 12&#x29; --11010 --PERMANENT JOB</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Job - contract_rate  FROM&#x2f;TO</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select concat&#x28;&#x27;NP&#x27;,j.JobId&#x29; as job_ext_id&#xd;&#xa;, j.EmploymentTypeId&#xd;&#xa;, case &#xd;&#xa;	when j.EmploymentTypeId in &#x28;5, 6, 7, 8, 10, 11, 13&#x29; then &#x27;CONTRACT&#x27;&#xd;&#xa;	when j.EmploymentTypeId in &#x28;4, 9, 12&#x29; then &#x27;PERMANENT&#x27;&#xd;&#xa;	else &#x27;CONTRACT&#x27; end as position_type --check in contract jobs&#xd;&#xa;, convert&#x28;money,coalesce&#x28;j.MinBasic,0&#x29;&#x29; as salaryFrom&#xd;&#xa;, convert&#x28;money,coalesce&#x28;j.MaxBasic,0&#x29;&#x29; as salaryTo&#xd;&#xa;, j.CommissionPerc&#xd;&#xa;, convert&#x28;money,coalesce&#x28;cj.ChargeRate,0&#x29;&#x29; as ChargeRate --default 0 if NULL&#xd;&#xa;, convert&#x28;money,coalesce&#x28;cj.PayRate,0&#x29;&#x29; as PayRate --default 0 if NULL&#xd;&#xa;, cj.ChargeUnitValueId&#xd;&#xa;, case when lv.ValueName &#x3d; &#x27;Day&#x27; then 3&#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Hour&#x27; then 2&#xd;&#xa;	else NULL end as contract_rate_type&#xd;&#xa;, case when lv.ValueName &#x3d; &#x27;Day&#x27; then 3&#xd;&#xa;	when lv.ValueName &#x3d; &#x27;Hour&#x27; then 2&#xd;&#xa;	else NULL end as contract_length_type&#xd;&#xa;from Jobs j&#xd;&#xa;left join ContractJobs cj on cj.JobId &#x3d; j.JobId&#xd;&#xa;left join ListValues lv on lv.ListValueId &#x3d; cj.ChargeUnitValueId&#xd;&#xa;where 1&#x3d;1&#xd;&#xa;and j.ClientId not in &#x28;select ObjectId from SectorObjects where SectorId &#x3d; 49&#x29; --Deleted Clients&#xd;&#xa;and &#x28;j.EmploymentTypeId in &#x28;5, 6, 7, 8, 10, 11, 13&#x29; or j.EmploymentTypeId is NULL&#x29; --2692 --CONTRACT JOB&#xd;&#xa;--and j.EmploymentTypeId not in &#x28;5, 6, 7, 8, 10, 11, 13&#x29; --10913 --PERMANENT JOB</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>Y</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Job lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>position_description</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>job_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCJobID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1264</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Job lookup 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>position_description</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>job_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCJobID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>704</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Notebook</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with phone as &#x28;&#xd;&#xa;        select p.ObjectID,p.Num,p.CommunicationTypeId&#xd;&#xa;        from dbo.Phones p&#xd;&#xa;        where p.CommunicationTypeId in &#x28;78,85,86&#x29; --Email, Email &#x28;Office&#x29;, Email &#x28;Personal&#x29;&#xd;&#xa;		and p.Num like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;, companyID as &#x28;&#xd;&#xa;        select DISTINCT o.ObjectID&#xd;&#xa;        from dbo.Objects o&#xd;&#xa;        where ObjectTypeId&#x3d;2&#xd;&#xa;&#x29;&#xd;&#xa;, contactIDlist as &#x28;&#xd;&#xa;        select cc.ClientContactId,o.ObjectID,row_number&#x28;&#x29; over &#x28;partition by o.ObjectID order by cc.ClientContactId desc&#x29; as rn&#xd;&#xa;        from dbo.ClientContacts cc&#xd;&#xa;        left join dbo.Objects o on cc.ContactPersonId&#x3d;o.ObjectID&#xd;&#xa;        where o.ObjectTypeId&#x3d;3&#xd;&#xa;&#x29;&#xd;&#xa;, contactID as &#x28;&#xd;&#xa;        select ClientContactId,ObjectID&#xd;&#xa;        from contactIDlist&#xd;&#xa;        where rn&#x3d;1&#xd;&#xa;&#x29;&#xd;&#xa;, candidateID as &#x28;&#xd;&#xa;        select DISTINCT o.ObjectID&#xd;&#xa;        from dbo.Objects o&#xd;&#xa;        where ObjectTypeId&#x3d;1&#xd;&#xa;&#x29;&#xd;&#xa;, contact as &#x28;      &#xd;&#xa;        select cc.ClientContactId,o.ObjectID,COALESCE&#x28;p1.Num,p3.Num,p2.Num&#x29; as Email&#xd;&#xa;        from dbo.ClientContacts cc &#xd;&#xa;        inner join dbo.Objects o on cc.ContactPersonId&#x3d;o.ObjectID&#xd;&#xa;        left join &#x28;select ObjectID, STRING_AGG&#x28;Num,&#x27;,&#x27;&#x29; as Num from Phone where CommunicationTypeId&#x3d;78 group by ObjectID&#x29; p1 on p1.ObjectID&#x3d;o.ObjectID&#xd;&#xa;        left join &#x28;select ObjectID, STRING_AGG&#x28;Num,&#x27;,&#x27;&#x29; as Num from Phone where CommunicationTypeId&#x3d;85 group by ObjectID&#x29; p3 on p3.ObjectID&#x3d;o.ObjectID&#xd;&#xa;        left join &#x28;select ObjectID, STRING_AGG&#x28;Num,&#x27;,&#x27;&#x29; as Num from Phone where CommunicationTypeId&#x3d;86 group by ObjectID&#x29; p2 on p2.ObjectID&#x3d;o.ObjectID&#xd;&#xa;		where o.ObjectTypeId&#x3d;3&#xd;&#xa;&#x29;&#xd;&#xa;, candidate as &#x28;&#xd;&#xa;        select a.ApplicantId,o.ObjectID,COALESCE&#x28;p1.Num,p2.Num,p3.Num&#x29; as Email&#xd;&#xa;        from dbo.Applicants a&#xd;&#xa;        inner join dbo.Objects o on a.ApplicantId&#x3d;o.ObjectID&#xd;&#xa;        left join &#x28;select ObjectID, STRING_AGG&#x28;Num,&#x27;,&#x27;&#x29; as Num from Phone where CommunicationTypeId&#x3d;78 group by ObjectID&#x29; p1 on p1.ObjectID&#x3d;o.ObjectID&#xd;&#xa;        left join &#x28;select ObjectID, STRING_AGG&#x28;Num,&#x27;,&#x27;&#x29; as Num from Phone where CommunicationTypeId&#x3d;85 group by ObjectID&#x29; p3 on p3.ObjectID&#x3d;o.ObjectID&#xd;&#xa;        left join &#x28;select ObjectID, STRING_AGG&#x28;Num,&#x27;,&#x27;&#x29; as Num from Phone where CommunicationTypeId&#x3d;86 group by ObjectID&#x29; p2 on p2.ObjectID&#x3d;o.ObjectID&#xd;&#xa;		where o.ObjectTypeId&#x3d;1&#x200b;&#xd;&#xa;&#x29;&#xd;&#xa;, emailtolist as &#x28;&#xd;&#xa;        select distinct nl.NotebookItemId&#xd;&#xa;		, coalesce&#x28;nullif&#x28;co.Email,&#x27;&#x27;&#x29;, nullif&#x28;ca.Email,&#x27;,&#x27;&#x29;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId &#x3d; co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId &#x3d; ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;18 --Email TO&#xd;&#xa;UNION&#xd;&#xa;        select distinct nl.NotebookItemId&#xd;&#xa;		, coalesce&#x28;nullif&#x28;co.Email,&#x27;&#x27;&#x29;,nullif&#x28;ca.Email,&#x27;,&#x27;&#x29;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId&#x3d;ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;19 --Email CC&#xd;&#xa;UNION&#xd;&#xa;        select distinct nl.NotebookItemId&#xd;&#xa;		, coalesce&#x28;nullif&#x28;co.Email,&#x27;&#x27;&#x29;,nullif&#x28;ca.Email,&#x27;,&#x27;&#x29;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId&#x3d;ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;20 --Email BCC&#xd;&#xa;&#x29;&#xd;&#xa;, emailto as &#x28;&#xd;&#xa;        select distinct NotebookItemId, STRING_AGG&#x28;convert&#x28;varchar&#x28;max&#x29;,nullif&#x28;AddressMail,&#x27;&#x27;&#x29;&#x29;,&#x27;,&#x27;&#x29; as AddressMail&#xd;&#xa;        from emailtolist&#xd;&#xa;        group by NotebookItemId&#xd;&#xa;&#x29; &#xd;&#xa;, emailfromlist as &#x28;select distinct nl.NotebookItemId&#xd;&#xa;		, coalesce&#x28;nullif&#x28;co.Email,&#x27;&#x27;&#x29;,nullif&#x28;ca.Email,&#x27;,&#x27;&#x29;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId &#x3d; co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId &#x3d; ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;28 --Email From&#xd;&#xa;&#x29; &#xd;&#xa;&#x2f;&#x2a;&#xd;&#xa;select NotebookItemId, count&#x28;&#x2a;&#x29;&#xd;&#xa;from emailfromlist&#xd;&#xa;group by NotebookItemId&#xd;&#xa;having count&#x28;&#x2a;&#x29; &#x3e; 1 --check&#x3a; select &#x2a; from emailfromlist where NotebookItemId &#x3d; 431117&#xd;&#xa;&#x2a;&#x2f;&#xd;&#xa;, emailfrom as &#x28;&#xd;&#xa;        select NotebookItemId, STRING_AGG&#x28;convert&#x28;varchar&#x28;max&#x29;,nullif&#x28;AddressMail,&#x27;&#x27;&#x29;&#x29;,&#x27;,&#x27;&#x29; as AddressMail&#xd;&#xa;        from emailfromlist&#xd;&#xa;        group by NotebookItemId&#xd;&#xa;&#x29;&#xd;&#xa;, emailReference as &#x28;&#xd;&#xa;        select nl.NotebookItemId,STRING_AGG&#x28;COALESCE&#x28;co.Email,ca.Email&#x29;,&#x27;,&#x27;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId&#x3d;ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;21 --Reference&#xd;&#xa;        group by nl.NotebookItemId        &#xd;&#xa;&#x29;, emailSMS as &#x28;&#xd;&#xa;        select nl.NotebookItemId,STRING_AGG&#x28;COALESCE&#x28;co.Email,ca.Email&#x29;,&#x27;,&#x27;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId&#x3d;ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;24 --SMS&#xd;&#xa;        group by nl.NotebookItemId        &#xd;&#xa;&#x29;, emailPrimary as &#x28;&#xd;&#xa;        select nl.NotebookItemId,STRING_AGG&#x28;COALESCE&#x28;co.Email,ca.Email&#x29;,&#x27;,&#x27;&#x29; as AddressMail&#xd;&#xa;        from NotebookLinks nl&#xd;&#xa;        left join contact co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        left join candidate ca on nl.ObjectId&#x3d;ca.ObjectId&#xd;&#xa;        where nl.NotebookLinkTypeId&#x3d;27 --Primary&#xd;&#xa;        group by nl.NotebookItemId        &#xd;&#xa;&#x29;, notebookdetailcompany as &#x28;&#xd;&#xa;        select DISTINCT nl.NotebookItemId,nl.ClientId--,coo.Email as contactEmail,caa.Email as candidateemail&#xd;&#xa;        from dbo.NotebookLinks nl&#xd;&#xa;        where 1&#x3d;1&#xd;&#xa;        and nl.ClientId is not null  &#xd;&#xa;        &#x29;&#xd;&#xa;, notebookdetailcontact as &#x28;&#xd;&#xa;        select DISTINCT nl.NotebookItemId,co.ClientContactId--,coo.Email as contactEmail,caa.Email as candidateemail&#xd;&#xa;        from dbo.NotebookLinks nl&#xd;&#xa;        left join dbo.NotebookLinkTypes nlt on nlt.NotebookLinkTypeId&#x3d;nl.NotebookLinkTypeId&#xd;&#xa;        inner join contactID co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        where 1&#x3d;1&#xd;&#xa;&#x29;, notebookdetailcandidate as &#x28;&#xd;&#xa;        select DISTINCT nl.NotebookItemId,co.ObjectId--,coo.Email as contactEmail,caa.Email as candidateemail&#xd;&#xa;        from dbo.NotebookLinks nl&#xd;&#xa;        left join dbo.NotebookLinkTypes nlt on nlt.NotebookLinkTypeId&#x3d;nl.NotebookLinkTypeId&#xd;&#xa;        inner join candidateID co on nl.ObjectId&#x3d;co.ObjectId&#xd;&#xa;        where 1&#x3d;1&#xd;&#xa;&#x29;, notebookdetailjob as &#x28;&#xd;&#xa;        select DISTINCT nl.NotebookItemId,nl.JobId--,coo.Email as contactEmail,caa.Email as candidateemail&#xd;&#xa;        from dbo.NotebookLinks nl&#xd;&#xa;        where 1&#x3d;1&#xd;&#xa;        and nl.JobId is not null &#xd;&#xa;&#x29;&#xd;&#xa;, notebooklist as &#x28;&#xd;&#xa;        select ni.NotebookItemId&#xd;&#xa;                , ncom.ClientId as CompanyID&#xd;&#xa;                , nco.ClientContactId as ContactID&#xd;&#xa;                , nca.ObjectId as CandidateID&#xd;&#xa;                , nj.JobId as JobId&#xd;&#xa;                , et.AddressMail as &#x27;emailto&#x27;&#xd;&#xa;                , ef.AddressMail as &#x27;emailfrom&#x27;--ef.ClientId,ef.JobId,&#xd;&#xa;        from dbo.NotebookItems ni&#xd;&#xa;        left join emailto et on ni.NotebookItemId&#x3d;et.NotebookItemId&#xd;&#xa;        left join emailfrom ef on ni.NotebookItemId&#x3d;ef.NotebookItemId&#xd;&#xa;        left join notebookdetailcompany ncom on ni.NotebookItemId&#x3d;ncom.NotebookItemId &#xd;&#xa;        left join notebookdetailcontact nco on ni.NotebookItemId&#x3d;nco.NotebookItemId &#xd;&#xa;        left join notebookdetailcandidate nca on ni.NotebookItemId&#x3d;nca.NotebookItemId &#xd;&#xa;        left join notebookdetailjob nj on ni.NotebookItemId&#x3d;nj.NotebookItemId &#xd;&#xa;&#x29;&#xd;&#xa;, userinfo as &#x28;&#xd;&#xa;        select u.UserId,u.LoginName,u.UserName,u.UserFullName,u.JobTitle,u.Inactive&#xd;&#xa;        from Users u&#x29;&#xd;&#xa;&#xd;&#xa;, tasklist as &#x28;select NotebookItemId&#xd;&#xa;		, string_agg&#x28;concat_ws&#x28;char&#x28;10&#x29;&#xd;&#xa;			, COALESCE&#x28;&#x27;Subject&#x3a; &#x27;&#x2b; Subject,NULL&#x29;&#xd;&#xa;			, COALESCE&#x28;&#x27;Start date&#x3a; &#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;,StartDate,120&#x29;,NULL&#x29;&#xd;&#xa;			, COALESCE&#x28;&#x27;Due Date&#x3a; &#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;,DueDate,120&#x29;,NULL&#x29;&#xd;&#xa;		&#x29;, char&#x28;10&#x29;&#x29; as tasklist&#xd;&#xa;		from tasks&#xd;&#xa;		where NotebookItemId is not NULL&#xd;&#xa;		group by NotebookItemId&#x29;&#xd;&#xa;--MAIN SCRIPT&#xd;&#xa;select ni.NotebookItemId&#xd;&#xa;        , COALESCE&#x28;&#x27;NP&#x27;&#x2b; convert&#x28;varchar&#x28;max&#x29;, nullif&#x28;nli.CompanyID,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as com_ext_id&#xd;&#xa;        , COALESCE&#x28;&#x27;NP&#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,nullif&#x28;nli.ContactID,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as con_ext_id&#xd;&#xa;        , COALESCE&#x28;&#x27;NP&#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,nullif&#x28;nli.JobId,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as job_ext_id&#xd;&#xa;        , COALESCE&#x28;&#x27;NP&#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,nullif&#x28;nli.CandidateID,&#x27;&#x27;&#x29;&#x29;,NULL&#x29; as cand_ext_id&#xd;&#xa;        , -10 as user_account_id&#xd;&#xa;        , ni.CreatedOn as insert_timestamp&#xd;&#xa;        , &#x27;comment&#x27; as category&#xd;&#xa;        , concat_ws&#x28;char&#x28;10&#x29;, &#x27;&#x5b;Notebook&#x5d;&#x27;&#xd;&#xa;			, coalesce&#x28;&#x27;Notebook Type&#x3a; &#x27;&#x2b; nt.NotebookType,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Subject&#x3a; &#x27;&#x2b; ni.Subject,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;From&#x3a; &#x27;&#x2b; nli.emailfrom,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Recipients&#x3a; &#x27;&#x2b; nli.emailto,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Folder Name&#x3a; &#x27;&#x2b; nf.FolderName,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Protected&#x3a; &#x27; &#x2b; ni.Protected,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Hot Item&#x3a; &#x27; &#x2b; ni.HotItem,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Created by&#x3a; &#x27; &#x2b; uic.UserFullName,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Created On&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;,ni.CreatedOn,120&#x29;,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Updated by&#x3a; &#x27;  &#x2b;uiu.UserFullName,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;Updated On&#x3a; &#x27; &#x2b; convert&#x28;nvarchar&#x28;max&#x29;,ni.UpdatedOn,120&#x29;,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;--Task--&#x27; &#x2b; char&#x28;10&#x29; &#x2b; uiu.UserFullName,NULL&#x29;&#xd;&#xa;			, coalesce&#x28;&#x27;--Memo--&#x27; &#x2b; char&#x28;10&#x29; &#x2b; nullif&#x28;tn.Memo,&#x27;&#x27;&#x29;,NULL&#x29;&#xd;&#xa;        &#x29; as comment_activities&#xd;&#xa;from notebooklist nli&#xd;&#xa;left join dbo.NotebookItems ni on ni.NotebookItemId&#x3d;nli.NotebookItemId&#xd;&#xa;left join NotebookFolders nf on nf.NotebookFolderId&#x3d;ni.NotebookFolderId&#xd;&#xa;left join dbo.NotebookTypes nt on nt.NotebookTypeId&#x3d;ni.NotebookTypeId&#xd;&#xa;--left join dbo.NotebookItemContent nic on nic.NotebookItemId&#x3d;ni.NotebookItemId&#xd;&#xa;left join dbo.tmp_notebook tn on tn.NotebookItemId &#x3d; ni.NotebookItemId&#xd;&#xa;left join userinfo uic on ni.CreatedUserId&#x3d;uic.UserId&#xd;&#xa;left join userinfo uiu on ni.UpdatedOn&#x3d;uiu.UserId&#xd;&#xa;left join tasklist tl on tl.NotebookItemId &#x3d; ni.NotebookItemId&#xd;&#xa;where 1&#x3d;1&#xd;&#xa;--and ni.NotebookItemId&#x3d;383801&#xd;&#xa;--and nli.CompanyID&#x3d;21&#xd;&#xa;and tn.Createdon &#x3e;&#x3d; &#x27;2016-08-16 09&#x3a;08&#x3a;52.980&#x27;&#xd;&#xa;and &#x28;nli.CompanyID is not NULL or nli.ContactID is not NULL or nli.JobId is not NULL or nli.CandidateID is not NULL&#x29;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>64</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update Contact RegD</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>contact</table>
      <key>
        <name>VCContactID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>insert_timestamp</name>
        <rename>CreatedOn</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update Reg Date</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>company</table>
      <key>
        <name>VCCompanyID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>insert_timestamp</name>
        <rename>CreatedOn</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update candidate gdpr</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>1000</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema>public</schema>
      <table>candidate_gdpr_compliance</table>
      <key>
        <name>VCCandidateID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>notes</name>
        <rename>gdpr_notes</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update candidate info</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>1000</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema>public</schema>
      <table>candidate</table>
      <key>
        <name>VCCandidateID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>contract_interval</name>
        <rename>contract_interval</rename>
        </value>
      <value>
        <name>maritalstatus</name>
        <rename>maritalstatus</rename>
        </value>
      <value>
        <name>nickname</name>
        <rename>PreferredName</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update candidate source</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>candidate</table>
      <key>
        <name>VCCandidateID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>candidate_source_id</name>
        <rename>VCCandSourceID</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2160</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update company info</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>company</table>
      <key>
        <name>VCCompanyID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>company_number</name>
        <rename>RegNo</rename>
        </value>
      <value>
        <name>business_number</name>
        <rename>VatNo</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update contact info</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>contact</table>
      <key>
        <name>VCContactID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>personal_email</name>
        <rename>personemail</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update contact mobile</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>contact</table>
      <key>
        <name>VCContactID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>mobile_phone</name>
        <rename>mobile</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Update home phone</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>contact</table>
      <key>
        <name>VCContactID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>home_phone</name>
        <rename>home_phone</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>candidate reg date</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema>public</schema>
      <table>candidate</table>
      <key>
        <name>VCCandidateID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>insert_timestamp</name>
        <rename>CreatedOn</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>contact doc name</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema>public</schema>
      <table>candidate_document</table>
      <key>
        <name>VCContactID</name>
        <field>contact_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>UploadedName</name>
        <field>uploaded_filename</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>uploaded_filename</name>
        <rename>RealName</rename>
        </value>
      <value>
        <name>created</name>
        <rename>Created</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>job contract</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema>public</schema>
      <table>compensation</table>
      <key>
        <name>VCJobID</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>contract_rate_from</name>
        <rename>salaryFrom</rename>
        <update>Y</update>
      </value>
      <value>
        <name>contract_rate_to</name>
        <rename>salaryTo</rename>
        <update>Y</update>
      </value>
      <value>
        <name>contract_rate_type</name>
        <rename>contract_rate_type</rename>
        <update>Y</update>
      </value>
      <value>
        <name>contract_length_type</name>
        <rename>contract_length_type</rename>
        <update>Y</update>
      </value>
      <value>
        <name>pay_rate</name>
        <rename>PayRate</rename>
        <update>Y</update>
      </value>
      <value>
        <name>charge_rate</name>
        <rename>ChargeRate</rename>
        <update>Y</update>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1456</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>lookup candidateid</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection/>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>candidate</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>CandidateExtID</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>candidateid</rename>
        <default/>
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>lookup jobid</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>position_description</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>job_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCJobID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1264</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>update candidate_document</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection/>
    <skip_lookup>N</skip_lookup>
    <commit>200</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>candidate_document</table>
      <key>
        <name>candidateid</name>
        <field>candidate_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>UploadedName</name>
        <field>uploaded_filename</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>uploaded_filename</name>
        <rename>RealName</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>update job_document</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>500</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>candidate_document</table>
      <key>
        <name>UploadedName</name>
        <field>uploaded_filename</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>VCJobID</name>
        <field>position_description_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>uploaded_filename</name>
        <rename>RealName</rename>
        </value>
      <value>
        <name>created</name>
        <rename>Created</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1456</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>FE lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>public</schema>
      <table>functional_expertise</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>VCFE</name>
        <field>name</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCFE_ID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1264</xloc>
      <yloc>864</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Functional Exp</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>&#x2f;&#x2a; Create FE sequence before running &#x2a;&#x2f;&#xa;&#xa;select distinct trim&#x28;VCFE&#x29; as VCFE&#xd;&#xa;, trim&#x28;VCSFE&#x29; as VCSFE&#xd;&#xa;, current_timestamp as insert_timestamp&#xd;&#xa;from fe_sfe_skills&#xd;&#xa;where VCFE is not NULL&#xd;&#xa;order by VCFE, VCSFE</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>784</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Sub FE</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>select distinct VCFE&#xd;&#xa;, VCSFE&#xd;&#xa;, current_timestamp as insert_timestamp&#xd;&#xa;from fe_sfe_skills&#xd;&#xa;where VCFE is not NULL&#xd;&#xa;order by VCFE, VCSFE</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>864</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>VC SFE</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <schema>public</schema>
    <table>sub_functional_expertise</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>functional_expertise_id</column_name>
          <stream_name>VCFE_ID</stream_name>
        </field>
        <field>
          <column_name>name</column_name>
          <stream_name>VCSFE</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>insert_timestamp</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1440</xloc>
      <yloc>864</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Vincere FE</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection/>
    <schema>public</schema>
    <table>functional_expertise</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>name</column_name>
          <stream_name>vcfe</stream_name>
        </field>
        <field>
          <column_name>insert_timestamp</column_name>
          <stream_name>insert_timestamp</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1264</xloc>
      <yloc>784</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate lookup 5</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>candidate</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>cand_ext_id</name>
        <field>external_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name/>
        <field>deleted_timestamp</field>
        <condition>IS NULL</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCCandidateID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>848</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate skills</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with candidateinIDobject as &#x28;&#xd;&#xa;        select o.ObjectID,o.LocationId,o.FileAs,o.FlagText,o.SourceId,o.CreatedOn&#xd;&#xa;        from dbo.Objects o&#xd;&#xa;        where o.ObjectTypeId&#x3d;1 --candidate&#xd;&#xa;&#x29;&#xd;&#xa;&#xd;&#xa;, fesfe as &#x28;select --distinct am.Description as FEUnique --23 rows&#xd;&#xa;	a.AttributeMasterId as FEID&#xd;&#xa;	, am.Description as FE&#xd;&#xa;	, am.ParentAttributeMasterId&#xd;&#xa;	, am.AllowClient&#xd;&#xa;	, am.AllowContact&#xd;&#xa;	, am.AllowApplicant&#xd;&#xa;	, a.AttributeId as SFEID&#xd;&#xa;	, case when a.Notes is NULL or a.Notes &#x3d; &#x27;&#x27; then a.Description&#xd;&#xa;		else a.Notes end as SFE&#xd;&#xa;	, a.Description --reference&#xd;&#xa;	from Attributes a&#xd;&#xa;	left join AttributeMaster am on am.AttributeMasterId &#x3d; a.AttributeMasterId&#xd;&#xa;	where am.Description not like &#x27;&#x25;DO NOT USE&#x25;&#x27;&#xd;&#xa;	--and am.AllowApplicant &#x3d; &#x27;Y&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;, mappedskills as &#x28;select o.&#x2a;&#xd;&#xa;	, fesfe.FE&#xd;&#xa;	, fesfe.sfe&#xd;&#xa;	, fe.attribute_master&#xd;&#xa;	, fe.attributes&#xd;&#xa;	, fe.skills&#xd;&#xa;	from ObjectAttributes o&#xd;&#xa;	left join fesfe on fesfe.SFEID &#x3d; o.AttributeId&#xd;&#xa;	inner join fe_sfe_skills fe on fe.attributes &#x3d; fesfe.SFE&#xd;&#xa;	where 1&#x3d;1&#xd;&#xa;	and o.ObjectID in &#x28;select ObjectId from candidateinIDobject&#x29;&#xd;&#xa;	and fe.skills is not NULL --2332 not distinct&#xd;&#xa;	&#x29;&#xd;&#xa;&#x2f;&#x2a; REFERENCE CHECK&#xd;&#xa;select &#x2a; from mappedskills &#xd;&#xa;where 1&#x3d;1&#xd;&#xa;and ObjectID &#x3d; 105687&#xd;&#xa;and fe like &#x27;&#x25;.Pharma LIMS&#x25;&#x27;&#xd;&#xa;&#x2a;&#x2f;&#xd;&#xa;&#xd;&#xa;--MAIN SCRIPT&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, ObjectID&#x29; as cand_ext_id&#xd;&#xa;, string_agg&#x28;skills, &#x27;, &#x27;&#x29; as cand_skills&#xd;&#xa;from &#x28;select distinct ObjectID, skills from mappedskills where skills is not NULL&#x29; a&#xd;&#xa;group by ObjectID --1975</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>848</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>update candidate skills</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema>public</schema>
      <table>candidate</table>
      <key>
        <name>VCCandidateID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>skills</name>
        <rename>cand_skills</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2160</xloc>
      <yloc>848</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate FE&#x2f;SFE</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with candidateinIDobject as &#x28;&#xd;&#xa;        select o.ObjectID,o.LocationId,o.FileAs,o.FlagText,o.SourceId,o.CreatedOn&#xd;&#xa;        from dbo.Objects o&#xd;&#xa;        where o.ObjectTypeId&#x3d;1 --candidate&#xd;&#xa;&#x29;&#xd;&#xa;&#xd;&#xa;, fesfe as &#x28;select --distinct am.Description as FEUnique --23 rows&#xd;&#xa;	a.AttributeMasterId as FEID&#xd;&#xa;	, am.Description as FE&#xd;&#xa;	, am.ParentAttributeMasterId&#xd;&#xa;	, am.AllowClient&#xd;&#xa;	, am.AllowContact&#xd;&#xa;	, am.AllowApplicant&#xd;&#xa;	, a.AttributeId as SFEID&#xd;&#xa;	, case when a.Notes is NULL or a.Notes &#x3d; &#x27;&#x27; then a.Description&#xd;&#xa;		else a.Notes end as SFE&#xd;&#xa;	, a.Description --reference&#xd;&#xa;	from Attributes a&#xd;&#xa;	left join AttributeMaster am on am.AttributeMasterId &#x3d; a.AttributeMasterId&#xd;&#xa;	where am.Description not like &#x27;&#x25;DO NOT USE&#x25;&#x27;&#xd;&#xa;	--and am.AllowApplicant &#x3d; &#x27;Y&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;, mappedskills as &#x28;select o.ObjectID&#xd;&#xa;	, fesfe.FE&#xd;&#xa;	, fesfe.SFE&#xd;&#xa;	, fe.attribute_master&#xd;&#xa;	, fe.attributes&#xd;&#xa;	, fe.VCFE&#xd;&#xa;	, fe.VCSFE&#xd;&#xa;	from ObjectAttributes o&#xd;&#xa;	left join fesfe on fesfe.SFEID &#x3d; o.AttributeId&#xd;&#xa;	inner join fe_sfe_skills fe on fe.attributes &#x3d; fesfe.SFE and fe.attribute_master &#x3d; fesfe.FE&#xd;&#xa;	where 1&#x3d;1&#xd;&#xa;	and o.ObjectID in &#x28;select ObjectId from candidateinIDobject&#x29;&#xd;&#xa;	and fe.VCFE is not NULL&#xd;&#xa;	&#x29;&#xd;&#xa;&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, objectID&#x29; as cand_ext_id&#xd;&#xa;, VCFE&#xd;&#xa;, VCSFE&#xd;&#xa;, current_timestamp as insert_timestamp&#xd;&#xa;from &#x28;select distinct objectID, VCFE, VCSFE from mappedskills&#x29; a --38326 rows&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>FE lookup 3</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>functional_expertise</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>VCFE</name>
        <field>name</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCFEID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Insert candidate FESFE</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <commit>100</commit>
    <update_bypassed>Y</update_bypassed>
    <lookup>
      <schema/>
      <table>candidate_functional_expertise</table>
      <key>
        <name>VCCandidateID</name>
        <field>candidate_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>VCFEID</name>
        <field>functional_expertise_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>VCSFEID</name>
        <field>sub_functional_expertise_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>candidate_id</name>
        <rename>VCCandidateID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>functional_expertise_id</name>
        <rename>VCFEID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>sub_functional_expertise_id</name>
        <rename>VCSFEID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>insert_timestamp</name>
        <rename>insert_timestamp</rename>
        <update>Y</update>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2160</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>SFE lookup</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>sub_functional_expertise</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>VCFEID</name>
        <field>functional_expertise_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>VCSFE</name>
        <field>name</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>id</name>
        <rename>VCSFEID</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2000</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Candidate edu summary</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase from</connection>
    <sql>with candidateinIDobject as &#x28;&#xd;&#xa;        select o.ObjectID,o.LocationId,o.FileAs,o.FlagText,o.SourceId,o.CreatedOn&#xd;&#xa;        from dbo.Objects o&#xd;&#xa;        where o.ObjectTypeId&#x3d;1 --candidate&#xd;&#xa;&#x29;&#xd;&#xa;&#xd;&#xa;, fesfe as &#x28;select --distinct am.Description as FEUnique --23 rows&#xd;&#xa;	a.AttributeMasterId as FEID&#xd;&#xa;	, am.Description as FE&#xd;&#xa;	, am.ParentAttributeMasterId&#xd;&#xa;	, am.AllowClient&#xd;&#xa;	, am.AllowContact&#xd;&#xa;	, am.AllowApplicant&#xd;&#xa;	, a.AttributeId as SFEID&#xd;&#xa;	, case when a.Notes is NULL or a.Notes &#x3d; &#x27;&#x27; then a.Description&#xd;&#xa;		else a.Notes end as SFE&#xd;&#xa;	, a.Description --reference&#xd;&#xa;	from Attributes a&#xd;&#xa;	left join AttributeMaster am on am.AttributeMasterId &#x3d; a.AttributeMasterId&#xd;&#xa;	where am.Description not like &#x27;&#x25;DO NOT USE&#x25;&#x27;&#xd;&#xa;	--and am.AllowApplicant &#x3d; &#x27;Y&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;, mappedskills as &#x28;select o.ObjectID&#xd;&#xa;	, fesfe.FE&#xd;&#xa;	, fesfe.SFE&#xd;&#xa;	, fe.education&#xd;&#xa;	from ObjectAttributes o&#xd;&#xa;	left join fesfe on fesfe.SFEID &#x3d; o.AttributeId&#xd;&#xa;	inner join fe_sfe_skills fe on fe.attributes &#x3d; fesfe.SFE and fe.attribute_master &#x3d; fesfe.FE&#xd;&#xa;	where 1&#x3d;1&#xd;&#xa;	and o.ObjectID in &#x28;select ObjectId from candidateinIDobject&#x29;&#xd;&#xa;	and fe.education is not NULL&#xd;&#xa;	&#x29;&#xd;&#xa;&#xd;&#xa;select concat&#x28;&#x27;NP&#x27;, ObjectID&#x29; as cand_ext_id&#xd;&#xa;, concat&#x28;&#x27;Languages&#x3a; &#x27;, nullif&#x28;string_agg&#x28;education, &#x27;, &#x27;&#x29;,&#x27;&#x27;&#x29;&#x29; as cand_edu&#xd;&#xa;from &#x28;select distinct objectID, education from mappedskills&#x29; a --2512 rows&#xd;&#xa;--where ObjectID &#x3d; 103456&#xd;&#xa;group by ObjectID --1466 rows&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1664</xloc>
      <yloc>768</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>update candidate edu</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>NextPhase to</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>Y</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema>public</schema>
      <table>candidate</table>
      <key>
        <name>VCCandidateID</name>
        <field>id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>education_summary</name>
        <rename>cand_edu</rename>
        </value>
      </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2160</xloc>
      <yloc>768</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Concat Fields</name>
    <type>ConcatFields</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>char&#x28;10&#x29;</separator>
    <enclosure>&#x22;</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>file</name>
      <is_command>N</is_command>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>txt</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>VC_edu</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>cand_edu</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
    <ConcatFields>
<targetFieldName>edu_merged</targetFieldName>
<targetFieldLength>0</targetFieldLength>
<removeSelectedFields>N</removeSelectedFields>
    </ConcatFields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1824</xloc>
      <yloc>768</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
