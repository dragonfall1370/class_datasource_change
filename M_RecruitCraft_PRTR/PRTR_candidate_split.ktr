<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>PRTR_candidate_split</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <directory>&#x2f;</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2018&#x2f;10&#x2f;26 10&#x3a;06&#x3a;18.529</created_date>
    <modified_user>-</modified_user>
    <modified_date>2018&#x2f;10&#x2f;26 10&#x3a;06&#x3a;18.529</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA&#x3d;</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>PRTR DB</name>
    <server>localhost</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>PRTR</database>
    <port>1433</port>
    <username>sa</username>
    <password>Encrypted 2be98afc86aa7f2d5f94aea35e083b8df</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Candidate query</from>
      <to>Microsoft Excel Writer</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Candidate query</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>PRTR DB</connection>
    <sql>--CANDIDATE PRIMARY EMAIL&#xa;with &#xa;SplitEmail as &#x28;select distinct cn_id&#xa;	, translate &#x28;value, &#x27;&#x21;&#x27;&#x27;&#x3a;&#x22;&#x3c;&#x3e;&#x5b;&#x5d;&#x28;&#x29;&#x3b;,&#x27;, &#x27;            &#x27;&#x29; as SplitEmail --to translate special characters&#xa;	from candidate.Candidates&#xa;	cross apply string_split&#x28;cn_cont_email,&#x27; &#x27;&#x29;&#xa;	where cn_cont_email like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;	and can_type &#x3d; 1 --CANDIDATE type&#xa;	&#x29;&#xa;&#xa;, dup as &#x28;select cn_id&#xa;	, trim&#x28;&#x27; &#x27; from SplitEmail&#x29; as EmailAddress&#xa;	, row_number&#x28;&#x29; over&#x28;partition by trim&#x28;&#x27; &#x27; from SplitEmail&#x29; order by cn_id asc&#x29; as rn --distinct email if emails exist more than once&#xa;	, row_number&#x28;&#x29; over&#x28;partition by cn_id order by trim&#x28;&#x27; &#x27; from SplitEmail&#x29;&#x29; as Contactrn --distinct if contacts may have more than 1 email&#xa;	from SplitEmail&#xa;	where SplitEmail like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;	&#x29;&#xa;&#xa;, PrimaryEmail as &#x28;select cn_id&#xa;	, case when rn &#x3e; 1 then concat&#x28;rn,&#x27;_&#x27;,EmailAddress&#x29;&#xa;	else EmailAddress end as PrimaryEmail&#xa;	from dup&#xa;	where EmailAddress is not NULL and EmailAddress &#x3c;&#x3e; &#x27;&#x27;&#xa;	and Contactrn &#x3d; 1&#x29;&#xa;&#xa;--CANDIDATE WORK EMAIL&#xa;, SplitEmail2 as &#x28;select distinct cn_id&#xa;	, translate&#x28;value, &#x27;&#x21;&#x27;&#x27;&#x3a;&#x22;&#x3c;&#x3e;&#x5b;&#x5d;&#x28;&#x29;&#x3b;,&#x27;, &#x27;            &#x27;&#x29; as SplitEmail2 --to translate special characters&#xa;	from candidate.Candidates&#xa;	cross apply string_split&#x28;cn_cont_email2,&#x27; &#x27;&#x29;&#xa;	where cn_cont_email2 like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;	and can_type &#x3d; 1 --CONTACT type&#xa;	&#x29;&#xa;&#xa;, dup2 as &#x28;select cn_id&#xa;	, trim&#x28;&#x27; &#x27; from SplitEmail2&#x29; as EmailAddress2&#xa;	, row_number&#x28;&#x29; over&#x28;partition by trim&#x28;&#x27; &#x27; from SplitEmail2&#x29; order by cn_id asc&#x29; as rn&#xa;	, row_number&#x28;&#x29; over&#x28;partition by cn_id order by trim&#x28;&#x27; &#x27; from SplitEmail2&#x29;&#x29; as Contactrn&#xa;	from SplitEmail2&#xa;	where SplitEmail2 like &#x27;&#x25;_&#x40;_&#x25;.__&#x25;&#x27;&#xa;	&#x29;&#xa;&#xa;, WorkEmail as &#x28;select cn_id&#xa;	, case when rn &#x3e; 1 then concat&#x28;rn,&#x27;_&#x27;,EmailAddress2&#x29;&#xa;	else EmailAddress2 end as WorkEmail&#xa;	from dup2&#xa;	where EmailAddress2 is not NULL and EmailAddress2 &#x3c;&#x3e; &#x27;&#x27;&#xa;	and Contactrn &#x3d; 1&#x29;&#xa;&#xa;--CANDIDATE CURRENT ADDRESS&#xa;, MaxAddressID as &#x28;select cn_id, max&#x28;address_id&#x29; as maxAddressID&#xa;	from candidate.Addresses&#xa;	where IsDeleted &#x3d; 0 --valid addresses&#xa;	and address_type &#x3d; 0 --2 types of Candidate addresses&#xa;	and exists &#x28;select cn_id from candidate.Candidates where can_type &#x3d; 1 and cn_id &#x3d; candidate.Addresses.cn_id&#x29;&#xa;	group by cn_id&#xa;	&#x29;&#xa;&#xa;, CurrentAddress as &#x28;select m.cn_id, m.maxAddressID&#xa;	, ca.cn_address_street, ca.cn_address_subdist&#xa;	, ca.cn_address_dist&#xa;	, ca.cn_address_province, cl.listvalue as province&#xa;	, ca.cn_address_postalcode&#xa;	, ca.cn_country&#xa;	, case when ca.cn_country &#x3d; &#x27;Afghanistan&#x27; then &#x27;AF&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Albania&#x27; then &#x27;AL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Algeria&#x27; then &#x27;DZ&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Andorra&#x27; then &#x27;AD&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Angola&#x27; then &#x27;AO&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Aruba &#x28;Netherlands&#x29;&#x27; then &#x27;NL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Australia&#x27; then &#x27;AU&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Austria&#x27; then &#x27;AT&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Bahamas&#x27; then &#x27;BS&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Bahrain&#x27; then &#x27;BH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Bangkok&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Belgium&#x27; then &#x27;BE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Brazil&#x27; then &#x27;BR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Cambodia&#x27; then &#x27;KH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Canada&#x27; then &#x27;CA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Chile&#x27; then &#x27;CL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;China&#x27; then &#x27;CN&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Denmark&#x27; then &#x27;DK&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;France&#x27; then &#x27;FR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Germany&#x27; then &#x27;DE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Haiti&#x27; then &#x27;HT&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Hong Kong&#x27; then &#x27;HK&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;India&#x27; then &#x27;IN&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Indonesia&#x27; then &#x27;ID&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Ireland&#x27; then &#x27;IE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Italy&#x27; then &#x27;IT&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Japan&#x27; then &#x27;JP&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Korea, South&#x27; then &#x27;KR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Kuwait&#x27; then &#x27;KW&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Laos&#x27; then &#x27;LA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Lebanon&#x27; then &#x27;LB&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Malaysia&#x27; then &#x27;MY&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Myanmar, Burma&#x27; then &#x27;MM&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Netherlands&#x27; then &#x27;NL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Pakistan &#x27; then &#x27;PK&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Philippines&#x27; then &#x27;PH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Qatar&#x27; then &#x27;QA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Russia&#x27; then &#x27;RU&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Saudi Arabia&#x27; then &#x27;SA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Singapore&#x27; then &#x27;SG&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;South Korea&#x27; then &#x27;KR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Spain&#x27; then &#x27;ES&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Sweden&#x27; then &#x27;SE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Switzerland&#x27; then &#x27;CH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Taiwan&#x27; then &#x27;TW&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Th&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Th0&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Tha&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thai&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thaialnd&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thaila&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailand&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailand.&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailand3&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailang&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailnad&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thiland&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Uganda&#x27; then &#x27;UG&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Ukraine&#x27; then &#x27;UA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United Arab Emirates&#x27; then &#x27;AE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United Kingdom&#x27; then &#x27;GB&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United States of America&#x27; then &#x27;US&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;USA&#x27; then &#x27;US&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Vietnam&#x27; then &#x27;VN&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Yemen&#x27; then &#x27;YE&#x27;&#xa;		else NULL end as Country&#xa;	from MaxAddressID m&#xa;	left join candidate.Addresses ca on m.maxAddressID &#x3d; ca.address_id&#xa;	left join common.Lists cl on cl.k_id &#x3d; ca.cn_address_province and cl.listkey &#x3d; &#x27;tblProvinces&#x27;&#xa;	&#x29;&#xa;&#xa;, CandidateCurrentAddress as &#x28;select cn_id&#xa;	, concat_ws&#x28;&#x27; &#x27;, nullif&#x28;cn_address_street,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;ltrim&#x28;rtrim&#x28;cn_address_subdist&#x29;&#x29;,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;ltrim&#x28;rtrim&#x28;cn_address_dist&#x29;&#x29;,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;province,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;trim&#x28;&#x27; &#x27; from cn_address_postalcode&#x29;,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;ltrim&#x28;rtrim&#x28;cn_country&#x29;&#x29;,&#x27;&#x27;&#x29;&#x29; as locationAddress&#xa;	, cn_address_dist&#xa;	, province&#xa;	, cn_address_postalcode&#xa;	, Country&#xa;	from CurrentAddress&#xa;	&#x29;&#xa;&#xa;--CANDIDATE REGISTERED ADDRESS &#x23;CUSTOM SCRIPT&#xa;, MaxRegAddressID as &#x28;select cn_id, max&#x28;address_id&#x29; as maxAddressID&#xa;	from candidate.Addresses&#xa;	where IsDeleted &#x3d; 0 --valid addresses&#xa;	and address_type &#x3d; 1 --2 types of Candidate addresses&#xa;	and exists &#x28;select cn_id from candidate.Candidates where can_type &#x3d; 1 and cn_id &#x3d; candidate.Addresses.cn_id&#x29;&#xa;	group by cn_id&#xa;	&#x29;&#xa;&#xa;, RegAddress as &#x28;select m.cn_id, m.maxAddressID&#xa;	, ca.cn_address_street, ca.cn_address_subdist&#xa;	, ca.cn_address_dist&#xa;	, ca.cn_address_province, cl.listvalue as province&#xa;	, ca.cn_address_postalcode&#xa;	, ca.cn_country&#xa;	, case when ca.cn_country &#x3d; &#x27;Afghanistan&#x27; then &#x27;AF&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Albania&#x27; then &#x27;AL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Algeria&#x27; then &#x27;DZ&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Andorra&#x27; then &#x27;AD&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Angola&#x27; then &#x27;AO&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Aruba &#x28;Netherlands&#x29;&#x27; then &#x27;NL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Australia&#x27; then &#x27;AU&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Austria&#x27; then &#x27;AT&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Bahamas&#x27; then &#x27;BS&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Bahrain&#x27; then &#x27;BH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Bangkok&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Belgium&#x27; then &#x27;BE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Brazil&#x27; then &#x27;BR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Cambodia&#x27; then &#x27;KH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Canada&#x27; then &#x27;CA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Chile&#x27; then &#x27;CL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;China&#x27; then &#x27;CN&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Denmark&#x27; then &#x27;DK&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;France&#x27; then &#x27;FR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Germany&#x27; then &#x27;DE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Haiti&#x27; then &#x27;HT&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Hong Kong&#x27; then &#x27;HK&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;India&#x27; then &#x27;IN&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Indonesia&#x27; then &#x27;ID&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Ireland&#x27; then &#x27;IE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Italy&#x27; then &#x27;IT&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Japan&#x27; then &#x27;JP&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Korea, South&#x27; then &#x27;KR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Kuwait&#x27; then &#x27;KW&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Laos&#x27; then &#x27;LA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Lebanon&#x27; then &#x27;LB&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Malaysia&#x27; then &#x27;MY&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Myanmar, Burma&#x27; then &#x27;MM&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Netherlands&#x27; then &#x27;NL&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Pakistan &#x27; then &#x27;PK&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Philippines&#x27; then &#x27;PH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Qatar&#x27; then &#x27;QA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Russia&#x27; then &#x27;RU&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Saudi Arabia&#x27; then &#x27;SA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Singapore&#x27; then &#x27;SG&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;South Korea&#x27; then &#x27;KR&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Spain&#x27; then &#x27;ES&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Sweden&#x27; then &#x27;SE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Switzerland&#x27; then &#x27;CH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Taiwan&#x27; then &#x27;TW&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Th&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Th0&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Tha&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thai&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thaialnd&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thaila&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailand&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailand.&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailand3&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailang&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thailnad&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Thiland&#x27; then &#x27;TH&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Uganda&#x27; then &#x27;UG&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Ukraine&#x27; then &#x27;UA&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United Arab Emirates&#x27; then &#x27;AE&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United Kingdom&#x27; then &#x27;GB&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United States of America&#x27; then &#x27;US&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;United States&#x27; then &#x27;US&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;USA&#x27; then &#x27;US&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Vietnam&#x27; then &#x27;VN&#x27;&#xa;		when ca.cn_country &#x3d; &#x27;Yemen&#x27; then &#x27;YE&#x27;&#xa;		else NULL end as Country&#xa;	from MaxRegAddressID m&#xa;	left join candidate.Addresses ca on m.maxAddressID &#x3d; ca.address_id&#xa;	left join common.Lists cl on cl.k_id &#x3d; ca.cn_address_province and cl.listkey &#x3d; &#x27;tblProvinces&#x27;&#xa;	&#x29;&#xa;&#xa;, CandidateRegAddress as &#x28;select cn_id&#xa;	, concat_ws&#x28;&#x27; &#x27;, nullif&#x28;cn_address_street,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;ltrim&#x28;rtrim&#x28;cn_address_subdist&#x29;&#x29;,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;ltrim&#x28;rtrim&#x28;cn_address_dist&#x29;&#x29;,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;province,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;trim&#x28;&#x27; &#x27; from cn_address_postalcode&#x29;,&#x27;&#x27;&#x29;&#xa;		, nullif&#x28;ltrim&#x28;rtrim&#x28;cn_country&#x29;&#x29;,&#x27;&#x27;&#x29;&#x29; as locationAddress&#xa;	, cn_address_dist&#xa;	, province&#xa;	, cn_address_postalcode&#xa;	, Country&#xa;	from RegAddress&#xa;	&#x29;&#xa;&#xa;--NATIONALITIES&#xa;, Nationality as &#x28;select k_id, listvalue, meta_2&#xa;	from common.Lists&#xa;	where listkey &#x3d; &#x27;tblNationalities&#x27;&#x29;&#xa;&#xa;--CANDIDATE DOCUMENTS &#x28;may include candidate documents&#x29;&#xa;, Documents as &#x28;select class_parent_id, doc_id, doc_class, doc_name, doc_blob_id, doc_ext &#xa;	, case &#xa;		when charindex&#x28;&#x27;.&#x27;,doc_blob_id&#x29; &#x3e; 0 and charindex&#x28;&#x27;&#x2f;&#x27;,doc_blob_id&#x29; &#x3d; 0 then doc_blob_id&#xa;		when charindex&#x28;&#x27;.&#x27;,doc_blob_id&#x29; &#x3e; 0 and charindex&#x28;&#x27;&#x2f;&#x27;,doc_blob_id&#x29; &#x3e; 0 then right&#x28;doc_blob_id,CHARINDEX&#x28;&#x27;&#x2f;&#x27;,reverse&#x28;doc_blob_id&#x29;&#x29;-1&#x29;&#xa;		when charindex&#x28;&#x27;.&#x27;,doc_blob_id&#x29; &#x3d; 0 and charindex&#x28;&#x27;&#x2f;&#x27;,doc_blob_id&#x29; &#x3e; 0 then concat&#x28;right&#x28;doc_blob_id,CHARINDEX&#x28;&#x27;&#x2f;&#x27;,reverse&#x28;doc_blob_id&#x29;&#x29;-1&#x29;,doc_ext&#x29;&#xa;		else concat&#x28;doc_blob_id,doc_ext&#x29; end as Documents&#xa;	from common.Documents&#xa;	where doc_class &#x3d; &#x27;Candidate&#x27;&#xa;	and doc_ext &#x3c;&#x3e; &#x27;&#x27;&#xa;	&#x29;&#xa;&#xa;, CandidateDocuments as &#x28;select class_parent_id&#xa;	, string_agg&#x28;convert&#x28;nvarchar&#x28;max&#x29;,Documents&#x29;,&#x27;,&#x27;&#x29; as CandidateDoc&#xa;	from Documents&#xa;	where class_parent_id &#x3e; 0&#xa;	group by class_parent_id&#xa;	&#x29;	&#xa;	&#xa;--MAIN SCRIPT&#xa;select concat&#x28;&#x27;PRTR&#x27;,c.cn_id&#x29; as &#x27;candidate-externalId&#x27;&#xa;, coalesce&#x28;nullif&#x28;c.cn_fname,&#x27;&#x27;&#x29;,&#x27;Firstname&#x27;&#x29; as &#x27;candidate-firstName&#x27;&#xa;, coalesce&#x28;nullif&#x28;c.cn_lname,&#x27;&#x27;&#x29;,&#x27;Lastname&#x27;&#x29; as &#x27;candidate-Lastname&#x27;&#xa;, coalesce&#x28;nullif&#x28;c.cn_fname_thai,&#x27;&#x27;&#x29;,&#x27;&#x27;&#x29; as &#x27;candidate-firstNameKana&#x27;&#xa;, coalesce&#x28;nullif&#x28;c.cn_lname_thai,&#x27;&#x27;&#x29;,&#x27;&#x27;&#x29; as &#x27;candidate-lastNameKana&#x27;&#xa;, case when c.cn_salut_text &#x3d; &#x27;Miss&#x27; then &#x27;Miss.&#x27;&#xa;	when c.cn_salut_text &#x3d; &#x27;Mr.&#x27; then &#x27;Mr.&#x27;&#xa;	when c.cn_salut_text &#x3d; &#x27;Mrs.&#x27; then &#x27;Mrs.&#x27;&#xa;	when c.cn_salut_text &#x3d; &#x27;Ms.&#x27; then &#x27;Ms.&#x27;&#xa;	else NULL end as &#x27;candidate-title&#x27;&#xa;, case when pe.PrimaryEmail is NULL or pe.PrimaryEmail &#x3d; &#x27;&#x27; then concat&#x28;c.cn_id,&#x27;_candidate&#x40;noemail.com&#x27;&#x29;&#xa;	else pe.PrimaryEmail end as &#x27;candidate-email&#x27;&#xa;, we.WorkEmail as &#x27;candidate-workEmail&#x27;&#xa;, ltrim&#x28;rtrim&#x28;c.cn_cont_mobile&#x29;&#x29; as &#x27;candidate-phone&#x27;&#xa;, ltrim&#x28;rtrim&#x28;c.cn_cont_mobile&#x29;&#x29; as &#x27;candidate-mobile&#x27;&#xa;, ltrim&#x28;rtrim&#x28;c.cn_cont_home&#x29;&#x29; as &#x27;candidate-homePhone&#x27;&#xa;--, c.cn_source as CandidateSource --CUSTOM SCRIPT &#x23;1&#x3a; 3306 values &#x7c; removed on 24102018 &#xa;, ltrim&#x28;rtrim&#x28;c.cn_passportno&#x29;&#x29; as PassportNo --CUSTOM SCRIPT &#x23;2&#xa;, concat_ws&#x28;char&#x28;10&#x29;&#xa;	, coalesce&#x28;&#x27;Passport Number&#x3a; &#x27; &#x2b; nullif&#x28;convert&#x28;varchar&#x28;max&#x29;,c.cn_passportno&#x29;,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;	, coalesce&#x28;&#x27;National ID&#x3a; &#x27; &#x2b; nullif&#x28;convert&#x28;varchar&#x28;max&#x29;,c.cn_idno&#x29;,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;	&#x29; as Residence_VisaNote --CUSTOM SCRIPT &#x23;3&#xa;, c.cn_birthplace --CUSTOM SCRIPT &#x23;4&#xa;, c.cn_height --CUSTOM SCRIPT &#x23;5&#xa;, case when c.cn_married &#x3d; 1 then &#x27;Single&#x27;&#xa;	when c.cn_married &#x3d; 2 then &#x27;Married&#x27;&#xa;	when c.cn_married &#x3d; 3 then &#x27;Divorced&#x27;&#xa;	else NULL end MaritalStatus--CUSTOM SCRIPT &#x23;6&#xa;, c.cn_drivecar --CUSTOM SCRIPT &#x23;7 YES&#x2f;NO&#xa;, cca.locationAddress as &#x27;candidate-address&#x27;&#xa;, cca.cn_address_dist as &#x27;candidate-city&#x27;&#xa;, cca.province as &#x27;candidate-state&#x27;&#xa;, cca.cn_address_postalcode as &#x27;candidate-zipCode&#x27;&#xa;, cca.Country as &#x27;candidate-country&#x27;&#xa;, ltrim&#x28;rtrim&#x28;n.meta_2&#x29;&#x29; as &#x27;candidate-citizenship&#x27; &#xa;, convert&#x28;varchar&#x28;10&#x29;,c.cn_dob,120&#x29; as &#x27;candidate-dob&#x27;&#xa;, c.cn_weight --CUSTOM SCRIPT &#x23;8&#xa;, case &#xa;	when c.cn_sex &#x3d; 1 then &#x27;MALE&#x27;&#xa;	when c.cn_sex &#x3d; 2 then &#x27;FEMALE&#x27;&#xa;	else NULL end &#x27;candidate-gender&#x27;&#xa;, c.cn_drivermoto --CUSTOM SCRIPT &#x23;9&#x3a; all NULL&#xa;, c.cn_english_ability --CUSTOM SCRIPT &#x23;10&#xa;, c.cn_present_salary_currency&#xa;, case when c.cn_present_salary_currency in &#x28;&#x27;USD&#x27;,&#x27;JPY&#x27;,&#x27;HKD&#x27;,&#x27;SGD&#x27;,&#x27;KRW&#x27;,&#x27;CNY&#x27;,&#x27;EUR&#x27;,&#x27;AUD&#x27;,&#x27;GBP&#x27;,&#x27;INR&#x27;,&#x27;VND&#x27;,&#x27;PHP&#x27;&#xa;	,&#x27;PLN&#x27;,&#x27;RUB&#x27;,&#x27;MYR&#x27;,&#x27;IDR&#x27;,&#x27;THB&#x27;,&#x27;TWD&#x27;,&#x27;NZD&#x27;,&#x27;CAD&#x27;,&#x27;MXN&#x27;,&#x27;ARS&#x27;,&#x27;BRL&#x27;,&#x27;CHF&#x27;,&#x27;SAR&#x27;,&#x27;AED&#x27;,&#x27;PKR&#x27;,&#x27;MNT&#x27;,&#x27;ZAR&#x27;,&#x27;MMK&#x27;,&#x27;KWD&#x27;&#xa;	,&#x27;CLP&#x27;,&#x27;COP&#x27;,&#x27;NGN&#x27;,&#x27;OMR&#x27;,&#x27;BHD&#x27;,&#x27;QAR&#x27;,&#x27;MAD&#x27;,&#x27;LAK&#x27;,&#x27;EGP&#x27;,&#x27;NOK&#x27;,&#x27;DKK&#x27;,&#x27;TRY&#x27;,&#x27;HRK&#x27;,&#x27;RSD&#x27;,&#x27;HUF&#x27;,&#x27;BGN&#x27;&#x29; then c.cn_present_salary_currency&#xa;	else &#x27;THB&#x27; end as &#x27;candidate-currency&#x27;&#xa;, c.cn_present_position --CUSTOM SCRIPT &#x23;13&#x3a; Work History - Job Title&#xa;, c.cn_present_salary --CUSTOM SCRIPT &#x23;11&#x3a; Monthly Salary&#xa;--, c.cn_present_salary as AnnualSalary&#xa;--, c.cn_salary_sought as DesiredSalary&#xa;, case when len&#x28;c.cn_present_salary&#x29; &#x3c;&#x3d; 8 then c.cn_present_salary &#x2a; 12&#xa;	else c.cn_present_salary end as &#x27;candidate-currentSalary&#x27;&#xa;, case when len&#x28;c.cn_salary_sought&#x29; &#x3c;&#x3d; 8 then c.cn_salary_sought &#x2a; 12&#xa;	else c.cn_salary_sought end as &#x27;candidate-desiredSalary&#x27;&#xa;, c.cn_present_benefits --CUSTOM SCRIPT &#x23;12&#x3a; CF Benefits&#xa;, ltrim&#x28;rtrim&#x28;c.cn_computer_skills&#x29;&#x29; as &#x27;candidate-skills&#x27;&#xa;, cd.CandidateDoc as &#x27;candidate-resume&#x27;&#xa;, concat_ws &#x28;char&#x28;10&#x29;&#xa;	, concat&#x28;&#x27;Candidate External ID&#x3a; &#x27;,c.cn_id&#x29;&#xa;	, coalesce&#x28;&#x27;Candidate email 3&#x3a; &#x27; &#x2b; nullif&#x28;ltrim&#x28;rtrim&#x28;c.cn_cont_email3&#x29;&#x29;,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;	--, coalesce&#x28;&#x27;Candidate source&#x3a; &#x27; &#x2b; nullif&#x28;ltrim&#x28;rtrim&#x28;convert&#x28;nvarchar&#x28;max&#x29;,c.cn_source&#x29;&#x29;&#x29;,&#x27;&#x27;&#x29;,NULL&#x29; --Removed on 24102018&#xa;	, coalesce&#x28;&#x27;Comments&#x3a; &#x27; &#x2b; nullif&#x28;ltrim&#x28;rtrim&#x28;convert&#x28;nvarchar&#x28;max&#x29;,c.cn_comments&#x29;&#x29;&#x29;,&#x27;&#x27;&#x29;,NULL&#x29;&#xa;	&#x29; as &#x27;candidate-note&#x27;&#xa;from candidate.Candidates c&#xa;left join CandidateCurrentAddress cca on cca.cn_id &#x3d; c.cn_id&#xa;left join PrimaryEmail pe on pe.cn_id &#x3d; c.cn_id&#xa;left join Nationality n on n.k_id &#x3d; c.cn_nationality_id&#xa;left join CandidateDocuments cd on cd.class_parent_id &#x3d; c.cn_id&#xa;left join WorkEmail we on we.cn_id &#x3d; c.cn_id&#xa;where c.can_type &#x3d; 1&#xa;order by c.cn_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>48</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Microsoft Excel Writer</name>
    <type>TypeExitExcelWriterStep</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <makeSheetActive>Y</makeSheetActive>
    <rowWritingMethod>overwrite</rowWritingMethod>
    <startingCell>A1</startingCell>
    <appendOmitHeader>N</appendOmitHeader>
    <appendOffset>0</appendOffset>
    <appendEmpty>0</appendEmpty>
    <rowWritingMethod>overwrite</rowWritingMethod>
    <forceFormulaRecalculation>N</forceFormulaRecalculation>
    <leaveExistingStylesUnchanged>N</leaveExistingStylesUnchanged>
    <appendLines>N</appendLines>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>E&#x3a;&#x5c;DataMigration&#x5c;PRTR&#x5c;Working&#x5c;ImportXLS&#x5c;PRTR_candidate_xport</name>
      <extention>xlsx</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <stream_data>N</stream_data>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <protected_by/>
      <splitevery>50000</splitevery>
      <if_file_exists>new</if_file_exists>
      <if_sheet_exists>new</if_sheet_exists>
      </file>
    <template>
      <enabled>N</enabled>
      <sheet_enabled>N</sheet_enabled>
      <filename>template.xls</filename>
      <sheetname/>
      <hidden>N</hidden>
    </template>
    <fields>
      <field>
        <name>candidate-externalId</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-externalId</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-firstName</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-firstName</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-Lastname</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-Lastname</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-firstNameKana</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-firstNameKana</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-lastNameKana</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-lastNameKana</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-title</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-title</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-email</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-email</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-workEmail</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-workEmail</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-phone</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-phone</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-mobile</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-mobile</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-homePhone</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-homePhone</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>PassportNo</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>PassportNo</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>Residence_VisaNote</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>Residence_VisaNote</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_birthplace</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>cn_birthplace</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_height</name>
        <type>Integer</type>
        <format>&#x23;</format>
        <title>cn_height</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>MaritalStatus</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>MaritalStatus</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_drivecar</name>
        <type>Boolean</type>
        <format>&#x23;</format>
        <title>cn_drivecar</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-address</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-address</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-city</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-city</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-state</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-state</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-zipCode</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-zipCode</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-country</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-country</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-citizenship</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-citizenship</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-dob</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-dob</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_weight</name>
        <type>Integer</type>
        <format>&#x23;</format>
        <title>cn_weight</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-gender</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-gender</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_drivermoto</name>
        <type>Boolean</type>
        <format>&#x23;</format>
        <title>cn_drivermoto</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_english_ability</name>
        <type>Integer</type>
        <format>&#x23;</format>
        <title>cn_english_ability</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_present_salary_currency</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>cn_present_salary_currency</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-currency</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-currency</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_present_position</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>cn_present_position</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_present_salary</name>
        <type>Integer</type>
        <format>&#x23;</format>
        <title>cn_present_salary</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-currentSalary</name>
        <type>Integer</type>
        <format>&#x23;</format>
        <title>candidate-currentSalary</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-desiredSalary</name>
        <type>Integer</type>
        <format>&#x23;</format>
        <title>candidate-desiredSalary</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>cn_present_benefits</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>cn_present_benefits</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-skills</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-skills</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-resume</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-resume</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
      <field>
        <name>candidate-note</name>
        <type>String</type>
        <format>&#x23;</format>
        <title>candidate-note</title>
        <titleStyleCell/>
        <styleCell/>
        <commentField/>
        <commentAuthorField/>
        <formula>N</formula>
        <hyperlinkField/>
      </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>272</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
