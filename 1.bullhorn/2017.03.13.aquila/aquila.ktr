<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>pentaho_export</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit/>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user/>
  <created_date>2017&#x2f;01&#x2f;20 16&#x3a;14&#x3a;34.085</created_date>
  <modified_user/>
  <modified_date>2017&#x2f;01&#x2f;20 16&#x3a;14&#x3a;34.085</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA&#x3d;</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>export</name>
    <server>192.168.20.133</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>aquila</database>
    <port>1433</port>
    <username>sa</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ff228d83b8df</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Job</from><to>job_</to><enabled>N</enabled> </hop>
  <hop> <from>Contact</from><to>contact_</to><enabled>Y</enabled> </hop>
  <hop> <from>Company</from><to>company_ </to><enabled>Y</enabled> </hop>
  <hop> <from>Candidate</from><to>candidate_</to><enabled>N</enabled> </hop>
  <hop> <from>JobApplication</from><to>JobApplication_</to><enabled>N</enabled> </hop>
  </order>
  <step>
    <name>Candidate</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>&#x2f;&#x2a; sn1 &#x3e; SkillName&#x3a; split by separate rows by comma, then combine them into SkillName &#x2a;&#x2f;&#xa;&#xa;with sn1&#x28;userid, skillID&#x29; as&#xa;&#x28;SELECT userid,&#xa;LTRIM&#x28;RTRIM&#x28;m.n.value&#x28;&#x27;.&#x5b;1&#x5d;&#x27;,&#x27;varchar&#x28;8000&#x29;&#x27;&#x29;&#x29;&#x29; AS skillID&#xa;FROM&#xa;&#x28;&#xa;SELECT userid, CAST&#x28;&#x27;&#x3c;XMLRoot&#x3e;&#x3c;RowData&#x3e;&#x27; &#x2b; REPLACE&#x28;cast&#x28;skillIDList as varchar&#x28;max&#x29;&#x29;,&#x27;,&#x27;,&#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;RowData&#x3e;&#x27;&#x29; &#x2b; &#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;&#x2f;XMLRoot&#x3e;&#x27; AS XML&#x29; AS x&#xa;FROM  bullhorn1.Candidate&#xa;where isPrimaryOwner &#x3d; 1&#xa;&#x29;t&#xa;CROSS APPLY x.nodes&#x28;&#x27;&#x2f;XMLRoot&#x2f;RowData&#x27;&#x29;m&#x28;n&#x29;&#xa;&#x29;&#xa;&#xa;, sn1_1&#x28;userId, SkillName&#x29; as &#x28;&#xa;select sn1.userid, SL.name&#xa;from sn1 inner join &#xa;bullhorn1.BH_SkillList SL ON sn1.skillID &#x3d; SL.skillID&#xa;&#x29;&#xa;&#xa;, SkillName&#x28;userId, SkillName&#x29; as &#x28;SELECT&#xa;     userId,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; SkillName&#xa;          from  sn1_1&#xa;          WHERE userId &#x3d; a.userId&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 2, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM sn1_1 as a&#xa;GROUP BY a.userId&#x29;&#xa;&#xa;&#x2f;&#x2a; bs1 &#x3e; BusinessSector&#x3a; split by separate rows by comma, then combine them into Business Sector&#x28;Industry&#x29; &#x2a;&#x2f;&#xa;&#xa;, bs1&#x28;userid, businessSectorID&#x29; as&#xa;&#x28;SELECT userid,&#xa;LTRIM&#x28;RTRIM&#x28;m.n.value&#x28;&#x27;.&#x5b;1&#x5d;&#x27;,&#x27;varchar&#x28;8000&#x29;&#x27;&#x29;&#x29;&#x29; AS businessSectorID&#xa;FROM&#xa;&#x28;&#xa;SELECT userid, CAST&#x28;&#x27;&#x3c;XMLRoot&#x3e;&#x3c;RowData&#x3e;&#x27; &#x2b; REPLACE&#x28;cast&#x28;businessSectorIDList as varchar&#x28;max&#x29;&#x29;,&#x27;,&#x27;,&#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;RowData&#x3e;&#x27;&#x29; &#x2b; &#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;&#x2f;XMLRoot&#x3e;&#x27; AS XML&#x29; AS x&#xa;FROM  bullhorn1.Candidate&#xa;where isPrimaryOwner &#x3d; 1&#xa;&#x29;t&#xa;CROSS APPLY x.nodes&#x28;&#x27;&#x2f;XMLRoot&#x2f;RowData&#x27;&#x29;m&#x28;n&#x29;&#xa;&#x29;&#xa;&#xa;, bs1_1&#x28;userId, businessSector&#x29; as &#x28;&#xa;select bs1.userid, BSL.name&#xa;from bs1 inner join &#xa;bullhorn1.BH_BusinessSectorList BSL ON bs1.businessSectorID &#x3d; BSL.businessSectorID&#xa;&#x29;&#xa;&#xa;, BusinessSector&#x28;userId, BusinessSector&#x29; as &#x28;SELECT&#xa;     userId,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; businessSector&#xa;          from  bs1_1&#xa;          WHERE userId &#x3d; a.userId&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 2, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM bs1_1 as a&#xa;GROUP BY a.userId&#x29;&#xa;&#xa;&#xa;, t3&#x28;candidateUserID, name&#x29; as &#x28;select a.candidateUserID, a.name&#xa;from bullhorn1.View_CandidateFile a&#xa;--where a.type &#x3d; &#x27;Resume&#x27;&#xa;&#x29;&#xa;, t4&#x28;candidateUserID, finame&#x29; as &#x28;SELECT&#xa;     candidateUserID,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT &#x27;,&#x27; &#x2b; name&#xa;          from t3&#xa;          WHERE candidateUserID &#x3d; a.candidateUserID&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 1, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM t3 AS a&#xa;GROUP BY a.candidateUserID&#x29;&#xa;&#xa;&#x2f;&#x2a; Get candidate category - VC FE info &#x2a;&#x2f;&#xa;&#xa;, CateSplit&#x28;userid, categoryid&#x29; as&#xa;&#x28;SELECT userid,&#xa;LTRIM&#x28;RTRIM&#x28;m.n.value&#x28;&#x27;.&#x5b;1&#x5d;&#x27;,&#x27;varchar&#x28;8000&#x29;&#x27;&#x29;&#x29;&#x29; AS categoryID&#xa;FROM&#xa;&#x28;&#xa;SELECT userid, CAST&#x28;&#x27;&#x3c;XMLRoot&#x3e;&#x3c;RowData&#x3e;&#x27; &#x2b; REPLACE&#x28;cast&#x28;categoryIDList as varchar&#x28;max&#x29;&#x29;,&#x27;,&#x27;,&#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;RowData&#x3e;&#x27;&#x29; &#x2b; &#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;&#x2f;XMLRoot&#x3e;&#x27; AS XML&#x29; AS x&#xa;FROM  bullhorn1.Candidate&#xa;where isPrimaryOwner &#x3d; 1&#xa;&#x29;t&#xa;CROSS APPLY x.nodes&#x28;&#x27;&#x2f;XMLRoot&#x2f;RowData&#x27;&#x29;m&#x28;n&#x29;&#xa;&#x29;&#xa;&#xa;, CombinedCate &#x28;userid, categoryid&#x29; as &#x28;&#xa;select distinct userid, categoryid from &#x28;&#xa;select userid, categoryid from CateSplit &#xa;UNION ALL&#xa;select userid, categoryid from bullhorn1.Candidate&#xa;where isPrimaryOwner &#x3d; 1&#x29; a&#xa;&#x29;&#xa;&#xa;, CateName&#x28;userId, Categoryname&#x29; as &#x28;&#xa;select CombinedCate.userid, CL.occupation&#xa;from CombinedCate inner join &#xa;bullhorn1.BH_CategoryList CL ON CombinedCate.categoryid &#x3d; CL.categoryID&#xa;&#x29;&#xa;&#xa;, CName&#x28;Userid, Name&#x29; as &#x28;SELECT&#xa;     Userid,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; Categoryname&#xa;          from  CateName&#xa;          WHERE Userid &#x3d; a.Userid&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 2, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM CateName as a&#xa;GROUP BY a.Userid&#x29;&#xa;&#xa;&#x2f;&#x2a; Get candidate specialty - VC SFE info &#x2a;&#x2f;&#xa;&#xa;, SpecSplit&#x28;userid, specialtyid&#x29; as&#xa;&#x28;SELECT userid,&#xa;LTRIM&#x28;RTRIM&#x28;m.n.value&#x28;&#x27;.&#x5b;1&#x5d;&#x27;,&#x27;varchar&#x28;8000&#x29;&#x27;&#x29;&#x29;&#x29; AS SpecialtyID&#xa;FROM&#xa;&#x28;&#xa;SELECT userid,CAST&#x28;&#x27;&#x3c;XMLRoot&#x3e;&#x3c;RowData&#x3e;&#x27; &#x2b; REPLACE&#x28;cast&#x28;specialtyIDList as varchar&#x28;max&#x29;&#x29;,&#x27;,&#x27;,&#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;RowData&#x3e;&#x27;&#x29; &#x2b; &#x27;&#x3c;&#x2f;RowData&#x3e;&#x3c;&#x2f;XMLRoot&#x3e;&#x27; AS XML&#x29; AS x&#xa;FROM  bullhorn1.Candidate&#xa;&#x29;t&#xa;CROSS APPLY x.nodes&#x28;&#x27;&#x2f;XMLRoot&#x2f;RowData&#x27;&#x29;m&#x28;n&#x29;&#xa;&#x29;&#xa;, SpecName&#x28;userId, Specialtyname&#x29; as &#x28;&#xa;select SpecSplit.userid, VS.name&#xa;from SpecSplit inner join &#xa;bullhorn1.View_Specialty VS ON SpecSplit.SpecialtyID &#x3d; VS.specialtyID&#xa;&#x29;&#xa;&#xa;, SpeName&#x28;Userid, Name&#x29; as &#x28;SELECT&#xa;     Userid,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; Specialtyname&#xa;          from  SpecName&#xa;          WHERE Userid &#x3d; b.Userid&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 2, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM SpecName as b&#xa;GROUP BY b.Userid&#x29;&#xa;&#xa;&#x2f;&#x2a; Get candidates bar admission &#x2a;&#x2f;&#xa;&#xa;, AdmissionRows&#x28;userId, CombinedText&#x29; as &#x28;&#xa;select UCOI.userID, concat&#x28;text1,&#x27; &#x27;,text2&#x29; as CombinedText&#xa;from bullhorn1.BH_UserCustomObjectInstance UCOI&#xa;inner join bullhorn1.BH_CustomObjectInstance COI On UCOI.instanceID &#x3d; COI.instanceID&#xa;&#x29;&#xa;&#xa;, admission&#x28;Userid, Admission&#x29; as &#x28;SELECT&#xa;     Userid,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT &#x27; &#x7c;&#x7c; &#x27; &#x2b; CombinedText&#xa;          from  AdmissionRows&#xa;          WHERE Userid &#x3d; c.Userid and CombinedText is not NULL and CombinedText &#x3c;&#x3e; &#x27;&#x27;&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 4, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM  AdmissionRows as c&#xa;GROUP BY c.Userid&#x29;&#xa;&#xa;&#xa;&#x2f;&#x2a; Get candidates info about Category, Specialty, Bar Admission for Zensho &#x2a;&#x2f;&#xa;&#xa;, ZenshoInfo as &#x28;select CA.userID&#xa;, CA.candidateID&#xa;, Concat&#x28;iif&#x28;AD.Admission&#x3d;&#x27;&#x27; or AD.Admission is NULL,&#x27;&#x27;,concat&#x28;&#x27;Bar admission&#x3a; &#x27;,AD.Admission,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;CA.customText2&#x3d;&#x27;&#x27; or CA.customText2 is NULL,&#x27;&#x27;,concat&#x28;&#x27;General Work Function&#x3a; &#x27;,CA.customText2,char&#x28;10&#x29;&#x29;&#x29;&#xa;, concat&#x28;&#x27;Practice Area &#x2f; Category&#x3a; &#x27;,replace&#x28;CName.Name,&#x27;&#x26;amp&#x3b;&#x27;,&#x27;&#x26;&#x27;&#x29;,char&#x28;10&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;CA.specialtyIDList as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; or CA.specialtyIDList is NULL,&#x27;&#x27;,concat&#x28;&#x27;Specialty&#x3a; &#x27;,replace&#x28;SpeName.name,&#x27;&#x26;amp&#x3b;&#x27;,&#x27;&#x26;&#x27;&#x29;&#x29;&#x29;&#x29; as MoreCandInfo&#xa;from bullhorn1.Candidate CA&#xa;left outer join admission AD on CA.userID &#x3d; AD.Userid&#xa;left outer join bullhorn1.BH_BusinessSectorList BSL on cast&#x28;CA.businessSectorIDList as varchar&#x28;max&#x29;&#x29; &#x3d; cast&#x28;BSL.businessSectorID as varchar&#x28;max&#x29;&#x29;&#xa;left outer join CName on CA.userID &#x3d; CName.Userid&#xa;left outer join SpeName on CA.userID &#x3d; SpeName.Userid&#xa;where ca.isPrimaryOwner &#x3d; 1&#x29;&#xa;&#xa;&#x2f;&#x2a; Get all mail from email, email2, email3. That will be applied for contact primary emails&#xa; &#xa;, tmp_1&#x28;userID, email&#x29; as &#xa;&#x28;select userID, REPLACE&#x28;ISNULL&#x28;email,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email2,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email3,&#x27;&#x27;&#x29;, &#x27;,,&#x27;, &#x27;,&#x27;&#x29; as email&#xa;from bullhorn1.BH_UserContact&#xa; &#x29;&#xa; &#xa; --select &#x2a; from tmp_1&#xa; --select userID, email, CHARINDEX&#x28;email,&#x27;,&#x27;,0&#x29; from tmp_1&#xa; , tmp_2&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,1&#x29; &#x3d; 1 THEN RIGHT&#x28;email, len&#x28;email&#x29;-1&#x29;&#xa;	ELSE email END as email&#xa;from tmp_1&#xa;&#x29;&#xa; , tmp_3&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,len&#x28;email&#x29;&#x29; &#x3d; len&#x28;email&#x29; &#xa;	THEN LEFT&#x28;email, CASE WHEN len&#x28;email&#x29; &#x3c; 1 THEN 0 ELSE len&#x28;email&#x29; - 1 END&#x29;&#xa;	ELSE email END as email&#xa;from tmp_2&#x29; &#x2a;&#x2f;&#xa;&#xa;&#x2f;&#x2a; Get candidates files  &#x2a;&#x2f;&#xa;&#xa;, tmp_5 &#x28;candidateUserID, name&#x29; as &#x28;select a.candidateUserID, concat&#x28;a.candidateFileID, a.fileExtension&#x29; from bullhorn1.View_CandidateFile a&#x29;&#xa;--where a.type &#x3d; &#x27;Resume&#x27;&#x29; &#x3d;&#x3d;&#x3e; get all candidates files&#xa;&#xa;, tmp_6&#x28;candidateUserID, ResumeId&#x29; as &#x28;SELECT candidateUserID, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;,&#x27; &#x2b; name from tmp_5 WHERE candidateUserID &#x3d; a.candidateUserID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29;  AS URLList FROM tmp_5 AS a GROUP BY a.candidateUserID&#x29;&#xa;--select &#x2a; from tmp_6 order by candidateUserID&#xa;&#xa;&#x2f;&#x2a; Get candidates email from BH Candidate &#x2a;&#x2f;&#xa;&#xa;, tmp_email_1 as &#x28;&#xa;select c.candidateID, case &#xa;	when c.email is not null and c.email &#x3c;&#x3e; &#x27;&#x27; then c.email&#xa;	when c.email2 is not null and c.email2 &#x3c;&#x3e; &#x27;&#x27; then c.email2&#xa;	when c.email3 is not null and c.email3 &#x3c;&#x3e; &#x27;&#x27; then c.email3&#xa;	else concat&#x28;&#x27;candidate&#x27;,candidateID,&#x27;_noemail&#x40;aquilamyanmar.com&#x27;&#x29;&#xa;	end as email from bullhorn1.Candidate c&#xa;	where isPrimaryOwner &#x3d; 1&#xa;&#x29;&#xa;--select &#x2a; from tmp_email_1 where tmp_email_1.email like &#x27;&#x25;zensho&#x25;&#x27;&#xa;&#xa;&#x2f;&#x2a; Remove duplicated emails &#xa;, tmp_email_2 as &#x28;&#xa;select email, min&#x28;candidateID&#x29; as candidateID from tmp_email_1 group by email&#x29; &#x2a;&#x2f;&#xa;&#xa;&#x2f;&#x2a; Recruiter as candidate owners &#x2a;&#x2f;&#xa;, tmp_email_3 as &#x28;&#xa;select distinct CA.recruiterUserID, UC.email from bullhorn1.Candidate CA&#xa;left join bullhorn1.BH_UserContact UC on CA.recruiterUserID &#x3d; UC.userID&#xa;where CA.isPrimaryOwner &#x3d; 1&#x29;&#xa;&#xa;, tmp_note&#x28;Userid, Notes&#x29; as &#x28;SELECT&#xa;     Userid,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT char&#x28;10&#x29; &#x2b; &#x27;Date added&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;10&#x29;, dateAdded, 120&#x29; &#x2b; &#x27; &#x7c;&#x7c; &#x27; &#x2b; &#x27;Action&#x3a; &#x27; &#x2b; action &#x2b; &#x27; &#x7c;&#x7c; &#x27; &#x2b; cast&#x28;comments as varchar&#x28;max&#x29;&#x29;&#xa;          from  &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserComment&#x5d;&#xa;          WHERE Userid &#x3d; a.Userid&#xa;		  order by dateAdded desc&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 1, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM  &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserComment&#x5d; AS a&#xa;GROUP BY a.Userid&#x29;&#xa;&#xa;, tmp_addednote as &#x28;SELECT&#xa;     CA.userID,&#xa;	 concat&#x28;&#x27;Date registered&#x3a; &#x27;,convert&#x28;varchar&#x28;10&#x29;,dateAdded,120&#x29;,char&#x28;10&#x29;&#xa;	 ,&#x27;Status&#x3a; &#x27;,status,char&#x28;10&#x29;&#xa;	 ,iif&#x28;referredByUserID &#x3d; &#x27;&#x27; or referredByUserID is NULL,&#x27;&#x27;,concat&#x28;&#x27;Reffered by UserID&#x3a; &#x27;,referredByUserID,char&#x28;10&#x29;&#x29;&#x29;&#xa;	 ,iif&#x28;referredBy &#x3d; &#x27;&#x27; or referredBy is NULL,&#x27;&#x27;,concat&#x28;&#x27;Reffered by&#x3a; &#x27;,referredBy,char&#x28;10&#x29;&#x29;&#x29;&#xa;	 ,iif&#x28;phone2 &#x3d; &#x27;&#x27; or phone2 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Phone 2&#x3a; &#x27;,phone2,char&#x28;10&#x29;&#x29;&#x29;&#xa;	 ,iif&#x28;cast&#x28;desiredLocations as varchar&#x28;2&#x29;&#x29; &#x3d; &#x27;&#x27; or desiredLocations is NULL,&#x27;&#x27;,concat&#x28;&#x27;Desired Locations&#x3a; &#x27;,tmp_country.COUNTRY,char&#x28;10&#x29;&#x29;&#x29;&#xa;	 ,iif&#x28;SN.SkillName &#x3d; &#x27;&#x27; or SN.SkillName is NULL,&#x27;&#x27;,concat&#x28;&#x27;Skills&#x3a; &#x27;,SN.SkillName,char&#x28;10&#x29;&#x29;&#x29;&#xa;	 --,iif&#x28;BS.BusinessSector&#x3d;&#x27;&#x27; or BS.BusinessSector is NULL,&#x27;&#x27;,concat&#x28;&#x27;Business Sector&#x3a; &#x27;,BS.BusinessSector,char&#x28;10&#x29;&#x29;&#x29;&#xa;	 ,ZenshoInfo.MoreCandInfo&#x29; as AddedNote&#xa;	 ,CA.desiredLocations&#xa;	 ,tmp_country.ABBREVIATION&#xa;	 ,tmp_country.COUNTRY&#xa;	 from bullhorn1.Candidate CA&#xa;	 left join SkillName SN on CA.userID &#x3d; SN.userId&#xa;	 left join BusinessSector BS on CA.userID &#x3d; BS.userId&#xa;	 left join tmp_country on cast&#x28;CA.desiredLocations as varchar&#x28;2&#x29;&#x29; &#x3d; tmp_country.ABBREVIATION&#xa;	 left join ZenshoInfo on CA.userID &#x3d; ZenshoInfo.userID&#xa;	 where CA.isPrimaryOwner &#x3d; 1&#x29;&#xa;&#xa;, EducationGroup as &#x28;select userID&#xa;, max&#x28;userEducationID&#x29; as userEducationID&#xa;from bullhorn1.BH_UserEducation group by userID&#x29;&#xa;&#xa;, Education as &#x28;select EG.userID&#xa;, UE.userEducationID&#xa;, UE.school&#xa;, convert&#x28;varchar&#x28;10&#x29;,UE.graduationDate,110&#x29; as graduationDate&#xa;, UE.degree&#xa;, UE.major&#xa;, UE.comments&#xa;from EducationGroup EG&#xa;left join bullhorn1.BH_UserEducation UE on EG.userEducationID &#x3d; UE.userEducationID&#x29;&#xa;&#xa;, t1 as &#x28;&#xa;select C.userID &#xa;	, case C.gender &#xa;	when &#x27;M&#x27; then &#x27;MR&#x27;&#xa;	when &#x27;F&#x27; then &#x27;MISS&#x27;&#xa;	else &#x27;&#x27; end as &#x27;candidate-title&#x27;&#xa;	, case C.gender &#xa;	when &#x27;M&#x27; then &#x27;MALE&#x27;&#xa;	when &#x27;F&#x27; then &#x27;FEMALE&#x27;&#xa;	else &#x27;&#x27; end as &#x27;candidate-gender&#x27;&#xa;	, C.candidateID as &#x27;candidate-externalId&#x27;&#xa;	, C.firstName as &#x27;candidate-firstName&#x27;&#xa;	, C.&#x5b;lastName&#x5d; as &#x27;candidate-Lastname&#x27;&#xa;	, c.middleName as &#x27;candidate-middleName&#x27;&#xa;	,CONVERT&#x28;VARCHAR&#x28;10&#x29;,C.dateOfBirth,110&#x29; as &#x27;candidate-dob&#x27;&#xa;	, CASE WHEN &#x28;tc.abbreviation &#x3d; &#x27;NONE&#x27; OR tc.abbreviation &#x3d; &#x27;NULL&#x27;&#x29; THEN &#x27;&#x27;&#xa;	ELSE tc.abbreviation&#xa;	END as &#x27;candidate-citizenship&#x27;&#xa;	, tmp_email_1.email as &#x27;candidate-email&#x27;&#xa;	, UC2.email2 as &#x27;candidate-workEmail&#x27;&#xa;	, C.mobile as &#x27;candidate-phone&#x27;&#xa;	, C.phone2 as &#x27;candidate-homePhone&#x27;	&#xa;	, C.mobile as &#x27;candidate-mobile&#x27;&#xa;	, C.workPhone as &#x27;candidate-workPhone&#x27;&#xa;	, &#x27;PERMANENT&#x27; as &#x27;candidate-jobTypes&#x27;&#xa;	, C.address1 as &#x27;candidate-address&#x27;&#xa;	, C.city as &#x27;candidate-city&#x27;&#xa;	, CASE WHEN &#x28;tc.abbreviation &#x3d; &#x27;NONE&#x27; OR tc.abbreviation &#x3d; &#x27;NULL&#x27;&#x29; THEN &#x27;&#x27;&#xa;	ELSE tc.abbreviation&#xa;	END as &#x27;candidate-Country&#x27;&#xa;	, C.zip as &#x27;candidate-zipCode&#x27;&#xa;	, C.state as &#x27;candiadte-state&#x27;&#xa;	, C.salaryLow as &#x27;candidate-currentSalary&#x27;&#xa;	, C.salary as &#x27;candidate-desiredSalary&#x27;&#xa;	, Education.school as &#x27;candidate-schoolName&#x27;&#xa;	, Education.graduationDate as &#x27;candidate-graduationDate&#x27;&#xa;	, Education.degree as &#x27;candidate-degreeName&#x27;&#xa;	, Education.major as &#x27;candidate-major&#x27;&#xa;	, C.companyName as &#x27;candidate-company1&#x27;&#xa;	, C.occupation as &#x27;candidate-jobTitle1&#x27;&#xa;	, C.companyName as &#x27;candidate-employer1&#x27;&#xa;	, C.recruiterUserID&#xa;	, tmp_email_3.email as &#x27;candidate-owners&#x27;&#xa;	, t4.finame as &#x27;Candidate File&#x27;&#xa;	, tmp_6.ResumeId as &#x27;candidate-resume&#x27;&#xa;	, concat&#x28;&#xa;		iif&#x28;sum.URLList &#x3d; &#x27;&#x27; or sum.URLList is NULL,&#x27;&#x27;,concat&#x28;replace&#x28;replace&#x28;replace&#x28;sum.URLList,&#x27;&#x26;amp&#x3b;&#x27;,&#x27;&#x26;&#x27;&#x29;,&#x27;&#x26;&#x23;x0D&#x3b;&#x27;,&#x27;&#x27;&#x29;,&#x27;x0A&#x3b;&#x27;,&#x27;&#x27;&#x29;,char&#x28;10&#x29;&#x29;&#x29;&#xa;		,&#x27;Bullhorn Candidate ID&#x3a; &#x27;,C.candidateID,char&#x28;10&#x29;&#xa;		, replace&#x28;AN.AddedNote,&#x27;&#x26;amp&#x3b;&#x27;,&#x27;&#x26;&#x27;&#x29;,char&#x28;10&#x29;&#xa;		,C.comments&#x29; as &#x27;candidate-notes&#x27;&#xa;	, replace&#x28;left&#x28;concat&#x28;&#x27;Bullhorn Candidate ID&#x3a; &#x27;,C.candidateID,char&#x28;10&#x29;,replace&#x28;AN.AddedNote,&#x27;&#x26;amp&#x3b;&#x27;,&#x27;&#x26;&#x27;&#x29;,char&#x28;10&#x29;&#xa;	, cast&#x28;tmp_note.Notes as varchar&#x28;max&#x29;&#x29;&#x29;,32000&#x29;,&#x27;&#x26;&#x23;x0D&#x3b;&#x27;,&#x27;&#x27;&#x29;&#xa;	 as &#x27;candidate-comments&#x27;&#xa;--select top 50 &#x2a;&#xa;from bullhorn1.Candidate C&#xa;left join tmp_country tc ON c.countryID &#x3d; tc.code&#xa;left join bullhorn1.BH_UserContact UC2 on C.userID &#x3d; UC2.userID&#xa;left join tmp_email_3 on C.recruiterUserID &#x3d; tmp_email_3.recruiterUserID&#xa;left join tmp_email_1 on C.candidateID &#x3d; tmp_email_1.candidateID&#xa;--left join &#x28;select userID, max&#x28;userEducationID&#x29; as userEducationID from bullhorn1.BH_UserEducation group by userID&#x29; UE_2 on C.userID &#x3d; UE_2.userID&#xa;--left join &#x28;select &#x2a; from &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserEducation&#x5d; where isDeleted &#x3d; 0&#x29; UE on UE.userEducationID &#x3d; UE_2.userEducationID&#xa;left join Education on C.userID &#x3d; Education.userID&#xa;left join t4 on t4.candidateUserID &#x3d; C.userID&#xa;left join tmp_6 on C.userID &#x3d; tmp_6.candidateUserID&#xa;left join tmp_note on C.userID &#x3d; tmp_note.Userid&#xa;left join tmp_addednote AN on C.userID &#x3d; AN.Userid&#xa;--left join &#x28;SELECT candidateID, STUFF&#x28;&#x28;SELECT &#x27;  Summary&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;max&#x29;,comments&#x29; &#x2b; char&#x28;10&#x29; from  bullhorn1.BH_CandidateHistory WHERE candidateID &#x3d; b.candidateID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS URLList FROM bullhorn1.BH_CandidateHistory as b GROUP BY b.candidateID&#x29; sum on C.candidateID &#x3d; sum.candidateID&#xa;left join &#x28;SELECT candidateID, STUFF&#x28;&#x28;SELECT case when &#x28;convert&#x28;varchar&#x28;max&#x29;,comments&#x29; &#x3d; &#x27;&#x27; or comments is null&#x29; then &#x27;&#x27; else &#x27;  Summary&#x3a; &#x27; end &#x2b; convert&#x28;varchar&#x28;max&#x29;,comments&#x29; &#x2b; char&#x28;10&#x29; from  bullhorn1.BH_CandidateHistory WHERE candidateID &#x3d; b.candidateID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS URLList FROM bullhorn1.BH_CandidateHistory as b GROUP BY b.candidateID&#x29; sum on C.candidateID &#x3d; sum.candidateID&#xa;where C.isPrimaryOwner &#x3d; 1&#xa;--inner join bullhorn1.BH_UserContact UC_2 on C.recruiterUserID &#x3d; UC_2.userID&#xa;--left join bullhorn1.BH_ClientCorporation CC ON CC.clientCorporationID &#x3d; C.clientCorporationID&#xa;&#x29;&#xa;&#xa;--select top 20 &#x5b;candidate-firstName&#x5d;, &#x5b;candidate-Lastname&#x5d;, &#x5b;candidate-notes&#x5d;&#xa;select &#x2a;&#xa;from t1 &#xa;--where &#x5b;candidate-Lastname&#x5d; like &#x27;&#x25;Hickson&#x25;&#x27;&#xa;--where &#x5b;candidate-notes&#x5d; like &#x27;&#x25;Summary&#x25;&#x27; --order by &#x5b;candidate-firstName&#x5d;&#xa;&#xa;--inner join tmp_email_2 on t1.&#x5b;candidate-externalId&#x5d; &#x3d; tmp_email_2.candidateID&#xa;--order by userID&#xa;&#xa;&#x2f;&#x2a; Check if candidate is not primary owner&#xa;select userID from bullhorn1.Candidate&#xa;where isPrimaryOwner &#x3d; 1&#xa;group by userID having count&#x28;&#x2a;&#x29; &#x3e; 1&#xa;&#x2a;&#x2f;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Company</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>with &#xa;tmp1 as &#x28;&#xa;select clientCorporationID&#xa;,case when &#x28;CC.address2 &#x3d; &#x27;&#x27; OR CC.address2 is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Address 2&#x3a; &#x27;,CC.address2&#x29; END as Address2&#xa;, case when &#x28;CC.dateAdded &#x3d; &#x27;&#x27; OR CC.dateAdded is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Date Added&#x3a; &#x27;,left&#x28;convert&#x28;varchar,CC.dateAdded,110&#x29;,10&#x29;&#x29; END as DateAdded&#xa;, case when &#x28;cast&#x28;CC.companyDescription as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR CC.companyDescription is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Company Description&#x3a;&#x27;, ltrim&#x28;rtrim&#x28;&#x5b;dbo&#x5d;.&#x5b;udf_StripHTML&#x5d;&#x28;CC.companyDescription&#x29;&#x29;&#x29;&#x29; END as CompanyDescription&#xa;, case when &#x28;CC.dateFounded &#x3d; &#x27;&#x27; OR CC.dateFounded is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Date Founded&#x3a; &#x27;,left&#x28;convert&#x28;varchar,CC.dateFounded,120&#x29;,4&#x29;&#x29; END as YearFounded&#xa;, case when &#x28;CC.customText1 &#x3d; &#x27;&#x27; OR CC.customText1 is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Industry&#x3a; &#x27;,CC.customText1&#x29; END as Industry&#xa;,case when &#x28;cast&#x28;CC.competitors as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR CC.competitors is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Competitors&#x3a; &#x27;,CC.competitors&#x29; END as Competitors&#xa;, case when &#x28;cast&#x28;CC.businessSectorList as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR CC.businessSectorList is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Business Sector&#x3a; &#x27;,CC.businessSectorList&#x29; END as BusinessSector&#xa;, case when &#x28;CC.status &#x3d; &#x27;&#x27; OR CC.status is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Status&#x3a; &#x27;,CC.status&#x29; END as Status1&#xa;, iif &#x28;CC.customText5 &#x3d; &#x27;&#x27; OR CC.customText5 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Company Coverage&#x3a; &#x27;,CC.customText5&#x29;&#x29; as CompanyCoverage&#xa;, iif &#x28;CC.customText6 &#x3d; &#x27;&#x27; OR CC.customText6 is NULL,&#x27;&#x27;,concat&#x28;&#x27;No. of Employees&#x3a; &#x27;,CC.customText6&#x29;&#x29; as NoEmployees&#xa;, iif &#x28;CC.ownerShip &#x3d; &#x27;&#x27; OR CC.ownerShip is NULL,&#x27;&#x27;,concat&#x28;&#x27;Ownership&#x3a; &#x27;,CC.ownerShip&#x29;&#x29; as OwnershipS&#xa;, case when &#x28;cast&#x28;CC.notes as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR CC.notes is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Company Overview&#x3a; &#x27;,CC.notes&#x29; END as CompanyNotes&#xa;, iif &#x28;CC.customText2 &#x3d; &#x27;&#x27; OR CC.customText2 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Twitter&#x3a; &#x27;,CC.customText2&#x29;&#x29; as Twitter&#xa;, iif &#x28;CC.customText3 &#x3d; &#x27;&#x27; OR CC.customText3 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Facebook&#x3a; &#x27;,CC.customText3&#x29;&#x29; as Facebook&#xa;, iif &#x28;CC.customText4 &#x3d; &#x27;&#x27; OR CC.customText4 is NULL,&#x27;&#x27;,concat&#x28;&#x27;LinkedIn&#x3a; &#x27;,CC.customText4&#x29;&#x29; as LinkedIn&#xa;, iif &#x28;CC.customText7 &#x3d; &#x27;&#x27; OR CC.customText6 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Instagram&#x3a; &#x27;,CC.customText7&#x29;&#x29; as Instagram&#xa;, iif &#x28;cast&#x28;CC.culture as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR CC.culture is NULL,&#x27;&#x27;,concat&#x28;&#x27;Culture&#x3a; &#x27;,CC.customText7&#x29;&#x29; as Culture&#xa;from bullhorn1.BH_ClientCorporation CC&#x29;&#xa;--select &#x2a; from tmp1&#xa;&#xa;, tmp2 as &#x28;select clientCorporationID, &#xa;concat&#x28;iif&#x28;Address2 &#x3d; &#x27;&#x27; or Address2 is NULL,&#x27;&#x27;,concat&#x28;Address2,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;DateAdded &#x3d; &#x27;&#x27; or DateAdded is NULL,&#x27;&#x27;,concat&#x28;DateAdded,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;CompanyDescription &#x3d; &#x27;&#x27; or CompanyDescription is NULL,&#x27;&#x27;,concat&#x28;CompanyDescription,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;YearFounded &#x3d; &#x27;&#x27; or YearFounded is NULL,&#x27;&#x27;,concat&#x28;YearFounded,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Industry &#x3d; &#x27;&#x27; or Industry is NULL,&#x27;&#x27;,concat&#x28;Industry,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Competitors &#x3d; &#x27;&#x27; or Competitors is NULL,&#x27;&#x27;,concat&#x28;Competitors,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;BusinessSector &#x3d; &#x27;&#x27; or BusinessSector is NULL,&#x27;&#x27;,concat&#x28;BusinessSector,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Status1 &#x3d; &#x27;&#x27; or Status1 is NULL,&#x27;&#x27;,concat&#x28;Status1,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;CompanyCoverage &#x3d; &#x27;&#x27; or CompanyCoverage is NULL,&#x27;&#x27;,concat&#x28;CompanyCoverage,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;NoEmployees &#x3d; &#x27;&#x27; or NoEmployees is NULL,&#x27;&#x27;,concat&#x28;NoEmployees,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;OwnershipS &#x3d; &#x27;&#x27; or OwnershipS is NULL,&#x27;&#x27;,concat&#x28;OwnershipS,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;CompanyNotes &#x3d; &#x27;&#x27; or CompanyNotes is NULL,&#x27;&#x27;,concat&#x28;CompanyNotes,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Twitter &#x3d; &#x27;&#x27; or Twitter is NULL,&#x27;&#x27;,concat&#x28;Twitter,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Facebook &#x3d; &#x27;&#x27; or Facebook is NULL,&#x27;&#x27;,concat&#x28;Facebook,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;LinkedIn &#x3d; &#x27;&#x27; or LinkedIn is NULL,&#x27;&#x27;,concat&#x28;LinkedIn,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Instagram &#x3d; &#x27;&#x27; or Instagram is NULL,&#x27;&#x27;,concat&#x28;Instagram,char&#x28;10&#x29;&#x29;&#x29;&#xa;,iif&#x28;Culture &#x3d; &#x27;&#x27; or Culture is NULL,&#x27;&#x27;,Culture&#x29;&#x29;&#xa;as CombinedNote&#xa;from tmp1&#x29;&#xa;&#xa;--select &#x2a; from tmp2&#xa;&#xa;&#x2f;&#x2a; Get candidates files  &#x2a;&#x2f;&#xa;,  tmp_5 &#x28;clientCorporationID, name&#x29; as &#x28;select a.clientCorporationID, concat&#x28;a.clientCorporationFileID,&#x27;-co-doc&#x27;, a.fileExtension&#x29; from bullhorn1.BH_ClientCorporationFile a&#x29;&#xa; --select &#x2a; from tmp_5&#xa;--where a.type &#x3d; &#x27;Resume&#x27;&#x29; &#x3d;&#x3d;&#x3e; get all candidates files&#xa;, tmp_6&#x28;clientCorporationID, ResumeId&#x29; as &#x28;SELECT clientCorporationID, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;,&#x27; &#x2b; name from tmp_5 WHERE clientCorporationID &#x3d; a.clientCorporationID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29;  AS URLList FROM tmp_5 AS a GROUP BY a.clientCorporationID&#x29;&#xa;--select &#x2a; from tmp_6 order by clientCorporationID&#xa;&#xa;&#xa;select --top 50&#xa;CC.clientCorporationID as &#x27;company-externalId&#x27;&#xa;--, CC.name as &#x27;&#x28;company-duplicated_name&#x29;&#x27;&#xa;, case when CC.NAME in &#x28;select CC.NAME from bullhorn1.BH_ClientCorporation CC group by CC.name having count&#x28;&#x2a;&#x29; &#x3e; 1&#x29; then concat &#x28;dup.name,&#x27; &#x27;,dup.rn&#x29;&#xa;	when &#x28;CC.NAME &#x3d; &#x27;&#x27; or CC.name is null&#x29; then &#x27;no company name&#x27;&#xa;	else CC.NAME end as &#x27;company-name&#x27;&#xa;, iif&#x28;CC.address1 &#x3d; &#x27;&#x27; or CC.address1 is NULL,concat&#x28;CC.name,&#x27;-&#x27;,tc.country&#x29;,CC.address1&#x29; as &#x27;company-locationName&#x27;&#xa;, iif&#x28;CC.address1 &#x3d; &#x27;&#x27; or CC.address1 is NULL,concat&#x28;CC.name,&#x27;-&#x27;,tc.country&#x29;,CC.address1&#x29; as &#x27;company-locationAddress&#x27;&#xa;, CC.city as &#x27;company-locationCity&#x27;&#xa;, CC.state as &#x27;company-locationState&#x27;&#xa;, CASE WHEN &#x28;tc.abbreviation &#x3d; &#x27;NONE&#x27; OR tc.abbreviation &#x3d; &#x27;NULL&#x27;&#x29; THEN &#x27;&#x27;&#xa;	ELSE tc.abbreviation&#xa;	END as &#x27;company-locationCountry&#x27;&#xa;, CC.zip as &#x27;company-locationZipCode&#x27;&#xa;, CC.phone as &#x27;company-phone&#x27;&#xa;, CC.fax as &#x27;company-fax&#x27;&#xa;, CC.companyURL as &#x27;company-website&#x27;&#xa;, tmp_6.ResumeId as &#x27;company-document&#x27;&#xa;, concat&#x28;&#x27;BH Company ID&#x3a;&#x27;,CC.clientCorporationID,char&#x28;10&#x29;,tmp2.CombinedNote&#x29; as &#x27;company-note&#x27;&#xa;--select top 100 &#x2a;&#xa;from bullhorn1.BH_ClientCorporation CC&#xa;left join tmp_country tc ON CC.countryID &#x3d; tc.code&#xa;left join tmp2 on CC.clientCorporationID &#x3d; tmp2.clientCorporationID&#xa;left join tmp_6 on CC.clientCorporationID &#x3d; tmp_6.clientCorporationID&#xa;left join &#x28;SELECT clientCorporationID,name,ROW_NUMBER&#x28;&#x29; OVER&#x28;PARTITION BY CC.name ORDER BY CC.clientCorporationID DESC&#x29; AS rn FROM bullhorn1.BH_ClientCorporation CC&#x29; dup on CC.clientCorporationID &#x3d; dup.clientCorporationID&#xa;--where CC.name like &#x27;&#x25;OCK&#x25;&#x27;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>128</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Contact</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>with tmp_1&#x28;userID, email&#x29; as &#xa;&#x28;select userID, REPLACE&#x28;ISNULL&#x28;email,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email2,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email3,&#x27;&#x27;&#x29;, &#x27;,,&#x27;, &#x27;,&#x27;&#x29; as email&#xa;from bullhorn1.BH_UserContact&#xa; &#x29;&#xa; --select &#x2a; from tmp_1&#xa; --select userID, email, CHARINDEX&#x28;email,&#x27;,&#x27;,0&#x29; from tmp_1&#xa; , tmp_2&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,1&#x29; &#x3d; 1 THEN RIGHT&#x28;email, len&#x28;email&#x29;-1&#x29;&#xa;	ELSE email END as email&#xa;from tmp_1&#xa;&#x29;&#xa; , tmp_3&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,len&#x28;email&#x29;&#x29; &#x3d; len&#x28;email&#x29; &#xa;	THEN LEFT&#x28;email, CASE WHEN len&#x28;email&#x29; &#x3c; 1 THEN 0 ELSE len&#x28;email&#x29; - 1 END&#x29;&#xa;	ELSE email END as email&#xa;from tmp_2&#xa;&#x29;&#xa;&#xa;, tmp_4&#x28;userID, Notes&#x29; as &#x28;SELECT&#xa;     userID,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT char&#x28;10&#x29; &#x2b; &#x27;Date added&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;10&#x29;, dateAdded, 120&#x29; &#x2b; &#x27; &#x7c;&#x7c; &#x27; &#x2b; &#x27;Action&#x3a; &#x27; &#x2b; action &#x2b; &#x27; &#x7c;&#x7c; &#x27; &#x2b; cast&#x28;comments as varchar&#x28;max&#x29;&#x29;&#xa;          from  &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserComment&#x5d;&#xa;          WHERE userID &#x3d; a.userID&#xa;		  order by dateAdded desc&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 1, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM  &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserComment&#x5d; AS a&#xa;GROUP BY a.userID&#x29;&#xa;&#xa;--select &#x2a; from tmp_4&#xa;, &#xa;tmp_5 as &#x28;select userID &#xa;, case when &#x28;Cl.division &#x3d; &#x27;&#x27; OR Cl.division is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Department&#x3a; &#x27;,Cl.division&#x29; END as Department&#xa;, case when &#x28;Cl.status &#x3d; &#x27;&#x27; OR Cl.status is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Status&#x3a; &#x27;,Cl.status&#x29; END as Status1&#xa;, case when &#x28;cast&#x28;Cl.desiredCategories as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR Cl.desiredCategories is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Designed Categories&#x3a; &#x27;,Cl.desiredCategories&#x29; END as DesignedCategories&#xa;, case when &#x28;cast&#x28;Cl.desiredSpecialties as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR Cl.desiredSpecialties is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Desired Specialties&#x3a; &#x27;,Cl.desiredSpecialties&#x29; END as DesiredSpecialties&#xa;, case when &#x28;cast&#x28;Cl.desiredSkills as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR Cl.desiredSkills is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Desired Skills&#x3a; &#x27;,Cl.desiredSkills&#x29; END as DesiredSkills&#xa;from bullhorn1.BH_Client Cl where isPrimaryOwner &#x3d; 1 and isDeleted &#x3d; 0&#x29;&#xa;--select &#x2a; from tmp_5&#xa;&#xa;, tmp_6 as &#x28;select userID&#xa;, concat&#x28;Status1,char&#x28;10&#x29;,Department,char&#x28;10&#x29;,DesignedCategories,char&#x28;10&#x29;&#xa;,DesiredSpecialties,char&#x28;10&#x29;,DesiredSkills&#x29; &#xa;as CombinedNote from tmp_5&#x29;&#xa;--select &#x2a; from tmp_6&#xa;&#xa;&#x2f;&#x2a; this is written for all custom required fields from Search Elect &#x2a;&#x2f;&#xa;, tmp_6_1 as &#x28;select userID&#xa;, concat&#x28;iif&#x28;address1 &#x3d; &#x27;&#x27; or address1 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Address 1&#x3a; &#x27;,address1,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;,iif&#x28;city &#x3d; &#x27;&#x27; or city is NULL,&#x27;&#x27;,concat&#x28;&#x27;City&#x3a; &#x27;,city,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;,iif&#x28;state &#x3d; &#x27;&#x27; or state is NULL,&#x27;&#x27;,concat&#x28;&#x27;State&#x3a; &#x27;,state,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;,iif&#x28;cast&#x28;countryID as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; or countryID is NULL,&#x27;&#x27;,concat&#x28;&#x27;Country&#x3a; &#x27;,tmp_country.COUNTRY,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;,iif&#x28;employmentPreference &#x3d; &#x27;&#x27; or employmentPreference is NULL,&#x27;&#x27;,concat&#x28;&#x27;Employment Preference&#x3a; &#x27;,employmentPreference&#x29;&#x29;&#x29; &#xa;as AdditionalNote from bullhorn1.BH_UserContact UC&#xa;left join tmp_country on UC.countryID &#x3d; tmp_country.CODE&#x29;&#xa;&#xa;--select &#x2a; from tmp_6_1&#xa;&#xa;, tmp_7&#x28;userID, phone&#x29; as &#x28;SELECT&#xa;     userID,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT iif&#x28;phone &#x3d; &#x27;&#x27; or phone is NULL,&#x27;&#x27;,concat&#x28;phone,&#x27;,&#x27;&#x29;&#x29; &#x2b; &#xa;		 iif&#x28;phone2 &#x3d; &#x27;&#x27; or phone2 is NULL,&#x27;&#x27;,concat&#x28;phone2,&#x27;,&#x27;&#x29;&#x29; &#x2b; &#xa;		 iif&#x28;phone3 &#x3d; &#x27;&#x27; or phone3 is NULL,&#x27;&#x27;,concat&#x28;phone3,&#x27;,&#x27;&#x29;&#x29; &#x2b;&#xa;		 iif&#x28;mobile &#x3d; &#x27;&#x27; or mobile is NULL,&#x27;&#x27;,concat&#x28;mobile,&#x27;,&#x27;&#x29;&#x29; &#x2b;&#xa;		 iif&#x28;workPhone &#x3d; &#x27;&#x27; or workPhone is NULL or workPhone &#x3d; &#x27;0&#x27;,&#x27;&#x27;, workPhone&#x29;&#xa;          from  bullhorn1.BH_UserContact&#xa;          WHERE userID &#x3d; a.userID&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 0, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM  bullhorn1.BH_UserContact AS a&#xa;GROUP BY a.userID&#x29;&#xa;&#xa;&#xa;, tmp_7_1 &#x28;userID, phone&#x29; as &#x28;SELECT&#xa;     userID,&#xa;	 iif&#x28;right&#x28;phone,1&#x29;&#x3d;&#x27;,&#x27;,left&#x28;phone,len&#x28;phone&#x29;-1&#x29;,phone&#x29;&#xa;	 from tmp_7&#x29;&#xa;&#xa;, tmp_doc0 &#x28;userid, name&#x29; as &#x28;select a.USERID, concat&#x28;a.clientCorporationFileID,&#x27;-co-doc&#x27;,a.fileExtension&#x29; from bullhorn1.BH_ClientCorporationFile a&#x29;&#xa;--select &#x2a; from tmp_5&#xa;--where a.type &#x3d; &#x27;Resume&#x27;&#x29; &#x3d;&#x3d;&#x3e; get all candidates files&#xa;, tmp_doc1 &#x28;userid, ResumeId&#x29; as &#x28;SELECT userid, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;,&#x27; &#x2b; name from tmp_doc0 WHERE userid &#x3d; a.USERID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29;  AS URLList FROM tmp_doc0 AS a GROUP BY a.USERID&#x29;&#xa;--select &#x2a; from tmp_6 --order by clientCorporationID&#xa;&#xa;select UC.clientCorporationID as &#x27;contact-companyId&#x27;&#xa;	, Cl.clientID as &#x27;contact-externalId&#x27;&#xa;	, Cl.userID as &#x27;&#x28;userID&#x29;&#x27;&#xa;	, UC.firstName as &#x27;contact-firstName&#x27;&#xa;	, UC.lastName as &#x27;contact-lastName&#x27;&#xa;	, UC.middleName as &#x27;contact-middleName&#x27;&#xa;	, UC2.email as &#x27;contact-owners&#x27;&#xa;	, UC2.name as &#x27;&#x28;owners-name&#x29;&#x27;&#xa;	, UC.occupation as &#x27;contact-jobTitle&#x27;&#xa;	--, ISNULL&#x28;REPLACE&#x28;cast&#x28;UC.lastNote_denormalized as nvarchar&#x28;max&#x29;&#x29;,CHAR&#x28;13&#x29;,&#x27;&#x27;&#x29;, &#x27;&#x27;&#x29; as &#x27;contact-Note&#x27;&#xa;	, tmp_doc1.ResumeId as &#x27;contact-document&#x27;&#xa;	, concat&#x28;&#x27;BH Contact owners&#x3a; &#x27;,UC2.name,char&#x28;10&#x29;,e.AdditionalNote,char&#x28;10&#x29;,f.CombinedNote,&#x27; &#x7c;&#x7c; &#x27;,UC.lastNote_denormalized&#x29; as &#x27;contact-Note&#x27;&#xa;	, left&#x28;replace&#x28;d.Notes,&#x27;&#x26;&#x23;x0D&#x3b;&#x27;,&#x27;&#x27;&#x29;,32000&#x29; as &#x27;contact-comment&#x27;&#xa;	, g.phone as &#x27;contact-phone&#x27;&#xa;	, c.email as &#x27;contact-email&#x27;&#xa;from bullhorn1.BH_Client Cl &#xa;left join bullhorn1.BH_UserContact UC ON Cl.userID &#x3d; UC.userID&#xa;--left join tmp_3 b on ltrim&#x28;rtrim&#x28;cast&#x28;UC.ownerUserIDList as nvarchar&#x28;max&#x29;&#x29;&#x29;&#x29; &#x3d; cast&#x28;b.userID as nvarchar&#x28;max&#x29;&#x29;&#xa;left join bullhorn1.BH_UserContact UC2 on Cl.recruiterUserID &#x3d; UC2.userID&#xa;left join tmp_3 c ON Cl.userID &#x3d; c.userID&#xa;left join tmp_4 d on Cl.userID &#x3d; d.userID&#xa;left join tmp_6 f on Cl.userID &#x3d; f.userID&#xa;left join tmp_6_1 e on Cl.userID &#x3d; e.userID&#xa;left join tmp_7_1 g on Cl.userID &#x3d; g.userID&#xa;left join tmp_doc1 on Cl.clientID &#x3d; tmp_doc1.userid&#xa;where isPrimaryOwner &#x3d; 1 and CL.isDeleted &#x3d; 0&#xa;--and cl.clientID &#x3d;32&#xa;&#xa;--left JOIN bullhorn1.BH_ClientCorporation CC ON Cl.clientCorporationID &#x3d; CC.clientCorporationID&#xa;&#xa;&#x2f;&#x2a; --&#x3e; check data validity&#xa;select &#x2a; from bullhorn1.BH_Client Cl &#xa;left join bullhorn1.BH_UserContact UC ON Cl.userID &#x3d; UC.userID&#xa;where Cl.userID &#x3d; 112 &#xa;&#xa;select phone, phone2, phone3, workphone&#xa;from bullhorn1.BH_UserContact UC&#xa;where userID &#x3d; 5429 or userID &#x3d; 5430 or userID &#x3d; 5431&#xa;&#xa;&#x2a;&#x2f;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>128</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Job</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>with tmp_1&#x28;userID, email&#x29; as &#xa;&#x28;select userID, REPLACE&#x28;ISNULL&#x28;email,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email2,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email3,&#x27;&#x27;&#x29;, &#x27;,,&#x27;, &#x27;,&#x27;&#x29; as email&#xa;from bullhorn1.BH_UserContact&#xa; &#x29;&#xa; --select &#x2a; from tmp_1&#xa; --select userID, email, CHARINDEX&#x28;email,&#x27;,&#x27;,0&#x29; from tmp_1&#xa; , tmp_2&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,1&#x29; &#x3d; 1 THEN RIGHT&#x28;email, len&#x28;email&#x29;-1&#x29;&#xa;	ELSE email END as email&#xa;from tmp_1&#xa;&#x29;&#xa; , tmp_3&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,len&#x28;email&#x29;&#x29; &#x3d; len&#x28;email&#x29; &#xa;	THEN LEFT&#x28;email, CASE WHEN len&#x28;email&#x29; &#x3c; 1 THEN 0 ELSE len&#x28;email&#x29; - 1 END&#x29;&#xa;	ELSE email END as email&#xa;from tmp_2&#xa;&#x29;&#xa;&#xa;, Note as &#x28;&#xa;select jobPostingID&#xa;, concat&#x28;&#x27;BH Job ID&#x3a;&#x27;,JP.jobPostingID,char&#x28;10&#x29;&#xa;, &#x27;Position type&#x3a; &#x27;,JP.type,char&#x28;10&#x29;&#xa;, &#x27;Employment Type&#x3a; &#x27;,JP.employmentType,char&#x28;10&#x29;&#xa;, &#x27;Priority&#x3a; &#x27;,JP.type,char&#x28;10&#x29;&#xa;, iif&#x28;JP.salary &#x3d; &#x27;&#x27; or JP.salary is NULL,&#x27;&#x27;,concat&#x28;&#x27;Salary&#x3a; &#x27;,JP.salary,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;JP.feeArrangement &#x3d; &#x27;&#x27; or JP.feeArrangement is NULL,&#x27;&#x27;,concat&#x28;&#x27;Fee arrangement&#x3a; &#x27;,JP.feeArrangement,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;JP.publishedCategoryID &#x3d; &#x27;&#x27; or JP.publishedCategoryID is NULL,&#x27;&#x27;,concat&#x28;&#x27;Publish Category&#x3a; &#x27;,JP.publishedCategoryID,&#x27; - &#x27;,CL.occupation,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;JP.skills as varchar&#x28;max&#x29;&#x29;&#x3d; &#x27;&#x27; or JP.skills is NULL,&#x27;&#x27;,concat&#x28;&#x27;Required skills&#x3a; &#x27;,JP.skills,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;JP.yearsRequired &#x3d; &#x27;&#x27; or JP.yearsRequired is NULL,&#x27;&#x27;,concat&#x28;&#x27;Years required&#x3a; &#x27;,JP.yearsRequired,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;CC.address1 &#x3d; &#x27;&#x27; or CC.address1 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Company address&#x3a; &#x27;,CC.address1&#x29;&#x29; &#xa;&#x29; as AdditionalNote&#xa;from bullhorn1.BH_JobPosting JP&#xa;left join bullhorn1.BH_CategoryList CL on JP.publishedCategoryID &#x3d; CL.categoryID&#xa;left join bullhorn1.BH_ClientCorporation CC on JP.clientCorporationID &#x3d; CC.clientCorporationID&#x29;&#xa;&#xa;&#xa;&#x2f;&#x2a; Add placement information under job posting &#x2a;&#x2f;&#xa;, tmp_4 as &#x28;select jobPostingID&#xa;, concat&#x28;&#x27;Status&#x3a; &#x27;,PL.status,char&#x28;10&#x29;&#xa;, iif&#x28;PL.reportTo &#x3d; &#x27;&#x27; or PL.reportTo is NULL,&#x27;&#x27;,concat&#x28;&#x27;Report to&#x3a; &#x27;,PL.reportTo,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.costCenter &#x3d; &#x27;&#x27; or PL.costCenter is NULL,&#x27;&#x27;,concat&#x28;&#x27;Cost Center&#x3a; &#x27;,PL.costCenter,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.billingUserID &#x3d; &#x27;&#x27; or PL.billingUserID is NULL,&#x27;&#x27;,concat&#x28;&#x27;Billing User&#x3a; &#x27;,PL.billingUserID,&#x27; - &#x27;,UC.firstName,&#x27; &#x27;,UC.lastName&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;PL.dateBegin as varchar&#x28;10&#x29;&#x29; &#x3d; &#x27;&#x27; or PL.dateBegin is NULL,&#x27;&#x27;,concat&#x28;&#x27;Start Date&#x3a; &#x27;,convert&#x28;varchar&#x28;10&#x29;,PL.dateBegin,120&#x29;,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;PL.dateEnd as varchar&#x28;10&#x29;&#x29; &#x3d; &#x27;&#x27; or PL.dateEnd is NULL,&#x27;&#x27;,concat&#x28;&#x27;Scheduled End&#x3a; &#x27;,convert&#x28;varchar&#x28;10&#x29;,PL.dateBegin,120&#x29;,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.employeeType &#x3d; &#x27;&#x27; or PL.employeeType is NULL,&#x27;&#x27;,concat&#x28;&#x27;Employee type&#x3a; &#x27;,PL.employeeType,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.fee &#x3d; &#x27;&#x27; or PL.fee is NULL,&#x27;&#x27;,concat&#x28;&#x27;Placement Fee&#x28;&#x25;&#x29;&#x3a; &#x27;,PL.fee,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.daysGuaranteed &#x3d; &#x27;&#x27; or PL.daysGuaranteed is NULL,&#x27;&#x27;,concat&#x28;&#x27;Days Guaranteed&#x3a; &#x27;,PL.daysGuaranteed,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.daysProRated &#x3d; &#x27;&#x27; or PL.daysProRated is NULL,&#x27;&#x27;,concat&#x28;&#x27;Days Pro-Rated&#x3a; &#x27;,PL.daysProRated,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;PL.dateClientEffective as varchar&#x28;10&#x29;&#x29; &#x3d; &#x27;&#x27; or PL.dateClientEffective is NULL,&#x27;&#x27;,concat&#x28;&#x27;Effective Date&#x3a; &#x27;,convert&#x28;varchar&#x28;10&#x29;,PL.dateClientEffective,120&#x29;,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.clientBillRate &#x3d; &#x27;&#x27; or PL.clientBillRate is NULL,&#x27;&#x27;,concat&#x28;&#x27;Bill Rate&#x3a; &#x27;,PL.clientBillRate,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.payRate &#x3d; &#x27;&#x27; or PL.payRate is NULL,&#x27;&#x27;,concat&#x28;&#x27;Pay Rate&#x3a; &#x27;,PL.payRate,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.salaryUnit &#x3d; &#x27;&#x27; or PL.salaryUnit is NULL,&#x27;&#x27;,concat&#x28;&#x27;Pay Unit&#x3a; &#x27;,PL.salaryUnit,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.clientOvertimeRate &#x3d; &#x27;&#x27; or PL.clientOvertimeRate is NULL,&#x27;&#x27;,concat&#x28;&#x27;Overtime Bill Rate&#x3a; &#x27;,PL.clientOvertimeRate,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;PL.dateEffective as varchar&#x28;10&#x29;&#x29; &#x3d; &#x27;&#x27; or PL.dateEffective is NULL,&#x27;&#x27;,concat&#x28;&#x27;Effective Date &#x28;pay rate info&#x29;&#x3a; &#x27;,convert&#x28;varchar&#x28;10&#x29;,PL.dateEffective,120&#x29;,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;PL.overtimeRate &#x3d; &#x27;&#x27; or PL.overtimeRate is NULL,&#x27;&#x27;,concat&#x28;&#x27;Overtime Pay Rate&#x3a; &#x27;,PL.overtimeRate,char&#x28;10&#x29;&#x29;&#x29;&#xa;, iif&#x28;cast&#x28;PL.dateAdded as varchar&#x28;10&#x29;&#x29; &#x3d; &#x27;&#x27; or PL.dateAdded is NULL,&#x27;&#x27;,concat&#x28;&#x27;Date added&#x3a; &#x27;,convert&#x28;varchar&#x28;10&#x29;,PL.dateAdded,120&#x29;,&#x27; &#x7c; &#x27;,PL.comments&#x29;&#x29;&#xa;&#x29; as PlacementNote&#xa;from bullhorn1.BH_Placement PL&#xa;left join bullhorn1.BH_UserContact UC on PL.billingUserID &#x3d; UC.userID&#x29;&#xa;&#xa;, PlacementNote &#x28;jobPostingID, PlacementNote&#x29; as &#x28;SELECT&#xa;     jobPostingID,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT DISTINCT &#x27; &#x7c;&#x7c; &#x27; &#x2b; PlacementNote&#xa;          from  tmp_4&#xa;          WHERE jobPostingID &#x3d; a.jobPostingID&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 4, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM tmp_4 as a&#xa;GROUP BY a.jobPostingID&#x29;&#xa;&#xa;select a.jobPostingID as &#x27;position-externalId&#x27; &#xa;	, b.clientID as &#x27;position-contactId&#x27;&#xa;	, a.clientUserID as &#x27;UserID&#x27;&#xa;	, a.title as &#x27;position-title&#x27;&#xa;	, a.numOpenings as &#x27;position-headcount&#x27;&#xa;	, c.email as &#x27;position-owners&#x27;&#xa;	--, UC.email as &#x27;position-owners&#x27;&#xa;	, a.type as &#x27;position-type&#x27;&#xa;	, a.employmentType as &#x27;position-employmentType&#x27;	&#xa;	, a.salary as &#x27;position-actualSalary&#x27;&#xa;	, left&#x28;cast&#x28;a.publicDescription as varchar&#x28;max&#x29;&#x29;,32000&#x29; as &#x27;position-publicDescription&#x27;&#xa;	, left&#x28;cast&#x28;a.description as varchar&#x28;max&#x29;&#x29;,32000&#x29; as &#x27;position-internalDescription&#x27;&#xa;	, CONVERT&#x28;VARCHAR&#x28;10&#x29;,a.startDate,120&#x29; as &#x27;position-startDate&#x27;&#xa;	, convert&#x28;varchar&#x28;10&#x29;,iif&#x28;a.status &#x3d; &#x27;Lead&#x27; or a.status &#x3d; &#x27;Closed&#x27;,getdate&#x28;&#x29;-2,dateClosed&#x29;,120&#x29; as &#x27;position-endDate&#x27;&#xa;	, left&#x28;concat&#x28;note.AdditionalNote,char&#x28;10&#x29;,PN.PlacementNote&#x29;,32000&#x29; as &#x27;position-note&#x27;&#xa;from bullhorn1.BH_JobPosting a&#xa;left join bullhorn1.BH_Client b on a.clientUserID &#x3d; b.userID&#xa;left join tmp_3 c ON a.userID &#x3d; c.userID&#xa;--left join bullhorn1.BH_UserContact UC on a.userID &#x3d; UC.userID&#xa;left join PlacementNote PN on a.jobPostingID &#x3d; PN.jobPostingID&#xa;left join Note on a.jobPostingID &#x3d; note.jobPostingID&#xa;--where b.isPrimaryOwner &#x3d; 1&#x3b;&#xa;&#xa;&#x2f;&#x2a;&#xa;select &#x2a; from bullhorn1.BH_JobPosting&#x3b;&#xa;&#xa;select &#x2a; from bullhorn1.BH_CategoryList&#x3b;&#xa;&#xa;select &#x2a; from bullhorn1.BH_ClientCorporation&#x3b;&#xa;&#xa;select jobPostingID, count&#x28;jobPostingID&#x29;&#xa;from bullhorn1.BH_Placement PL&#xa;group by jobPostingID having count&#x28;jobPostingID&#x29; &#x3e;1&#xa;&#xa;&#x2a;&#x2f;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JobApplication</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>with JPInfo as &#x28;select JP.jobPostingID as JobID, JP.title as JobTitle&#xa;, Cl.clientID as ContactID, Cl.userID as ClientUserID&#xa;, UC.name as ContactName, UC.email as ContactEmail&#xa;, CC.clientCorporationID as CompanyID, CC.name as CompanyName&#xa;from bullhorn1.BH_JobPosting JP&#xa;left join bullhorn1.BH_Client Cl on JP.clientUserID &#x3d; Cl.userID&#xa;left join bullhorn1.BH_UserContact UC on JP.clientUserID &#x3d; UC.userID&#xa;left join bullhorn1.BH_ClientCorporation CC on JP.clientCorporationID &#x3d; CC.clientCorporationID&#xa;where 1&#x3d;1&#xa;and Cl.isPrimaryOwner &#x3d; 1&#x29;&#xa;&#xa;--Search information in JPInfo table&#x3a;&#xa;--select &#x2a; from JPInfo order by JobID&#xa;&#xa;, CandidateInfo as &#x28;select CA.userID as CandidateUserID, CA.candidateID&#xa;, UC.userID, UC.name as CandidateName, UC.email as CandidateEmail&#xa;from bullhorn1.BH_Candidate CA&#xa;left join bullhorn1.BH_UserContact UC on CA.userID &#x3d; UC.userID&#xa;where CA.isPrimaryOwner &#x3d; 1&#x29;&#xa;&#xa;&#x2f;&#x2a; Search information in CandidateInfo table&#xa;select &#x2a; from CandidateInfo&#xa;order by CandidateUserID&#xa;&#x2a;&#x2f;&#xa;&#xa;select JPI.ClientUserID, JPI.ContactID, JPI.ContactName, JPI.ContactEmail&#xa;, JPI.CompanyID, JPI.CompanyName, JPI.JobTitle&#xa;, JR.jobPostingID as &#x27;application-positionExternalId&#x27;, JR.userID, CAI.candidateID as &#x27;application-candidateExternalId&#x27;&#xa;, CAI.CandidateName&#xa;--, JR.status as &#x27;application-stage&#x27; --This field only accepts&#x3a; SHORTLISTED,SENT,1ST_INTERVIEW,2ND_INTERVIEW,OFFERED,PLACED, INVOICED, Other values will not be recognized.&#xa;, replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;&#xa;	JR.status,&#x27;Candidate Interested&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;	,&#x27;Candidate Not Interested&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;	,&#x27;Client Rejected&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;	,&#x27;Client Submission&#x27;,&#x27;SENT&#x27;&#x29;&#xa;	,&#x27;Interview Scheduled&#x27;,&#x27;1ST_INTERVIEW&#x27;&#x29;&#xa;	,&#x27;New Lead&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;	,&#x27;Offer Extended&#x27;,&#x27;OFFERED&#x27;&#x29;&#xa;	,&#x27;Offer Rejected&#x27;,&#x27;OFFERED&#x27;&#x29;&#xa;	,&#x27;Placed&#x27;,&#x27;PLACED&#x27;&#x29;&#xa;	,&#x27;Sales Rep Rejected&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;	,&#x27;Submitted&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;	as &#x27;application-stage&#x27;&#xa;from bullhorn1.BH_JobResponse JR&#xa;left join CandidateInfo CAI on JR.userID &#x3d; CAI.CandidateUserID&#xa;left join JPInfo JPI on JR.jobPostingID &#x3d; JPI.JobID</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JobApplication_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;5jobapplication</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>ClientUserID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>ContactID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>ContactName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>ContactEmail</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>CompanyID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>CompanyName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>JobTitle</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>application-positionExternalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>userID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>application-candidateExternalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>CandidateName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>application-stage</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>candidate_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;4candidate</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>userID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>candidate-title</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-gender</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-externalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>candidate-firstName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-Lastname</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-middleName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-dob</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-citizenship</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-email</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-workEmail</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-phone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-homePhone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-mobile</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-workPhone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-jobTypes</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-address</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-city</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-Country</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-zipCode</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candiadte-state</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-currentSalary</name>
        <type>BigNumber</type>
        <format>0</format>
      </field>
      <field>
        <name>candidate-desiredSalary</name>
        <type>BigNumber</type>
        <format>0</format>
      </field>
      <field>
        <name>candidate-schoolName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-graduationDate</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-degreeName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-major</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-company1</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-jobTitle1</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-employer1</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>recruiterUserID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>candidate-owners</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>Candidate File</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-resume</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-notes</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-comments</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>company_ </name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;1company</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>company-externalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>company-name</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationAddress</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationCity</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationState</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationCountry</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationZipCode</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-phone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-fax</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-website</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-document</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-note</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>contact_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;2contact</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>contact-companyId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>contact-externalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>&#x28;userID&#x29;</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>contact-firstName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-lastName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-middleName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-owners</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>&#x28;owners-name&#x29;</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-jobTitle</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-document</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-Note</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-comment</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-phone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-email</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>job_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;3job</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>position-externalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>position-contactId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>UserID</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>position-title</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-headcount</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>position-owners</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-type</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>position-employmentType</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-actualSalary</name>
        <type>BigNumber</type>
        <format>0</format>
      </field>
      <field>
        <name>position-publicDescription</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-internalDescription</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-startDate</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-endDate</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-note</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>
