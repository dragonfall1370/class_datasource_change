<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>pentaho_export</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit/>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user/>
  <created_date>2017&#x2f;01&#x2f;20 16&#x3a;14&#x3a;34.085</created_date>
  <modified_user/>
  <modified_date>2017&#x2f;01&#x2f;20 16&#x3a;14&#x3a;34.085</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA&#x3d;</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>export</name>
    <server>dmp.vinceredev.com</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>staranise</database>
    <port>1433</port>
    <username>sa</username>
    <password>Encrypted 2be98afc86aa7f2d5f94aea35e083b8df</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Job</from><to>job_</to><enabled>N</enabled> </hop>
  <hop> <from>Company</from><to>company_ </to><enabled>N</enabled> </hop>
  <hop> <from>Candidate</from><to>candidate_</to><enabled>Y</enabled> </hop>
  <hop> <from>JobApplication</from><to>JobApplication_</to><enabled>N</enabled> </hop>
  <hop> <from>Contact</from><to>contact_</to><enabled>N</enabled> </hop>
  </order>
  <step>
    <name>Candidate</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>&#xa;with&#xa;-- tel&#x28;REFERENCE, TEL_NUMBER&#x29; as &#x28;SELECT REFERENCE, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; TEL_NUMBER from  PROP_TELEPHONE WHERE REFERENCE &#x3d; a.REFERENCE FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS URLList FROM PROP_TELEPHONE as a GROUP BY a.REFERENCE&#x29;&#xa;email as &#x28;SELECT REFERENCE,EMAIL_LINK,ROW_NUMBER&#x28;&#x29; OVER&#x28;PARTITION BY ltrim&#x28;pe.REFERENCE&#x29; ORDER BY pe.EMAIL_LINK DESC&#x29; AS rn FROM PROP_EMAIL pe WHERE EMAIL_LINK like &#x27;&#x25;&#x40;&#x25;&#x27; and EMAIL_LINK &#x21;&#x3d; &#x27;&#x27; and EMAIL_LINK IS NOT NULL &#x29;&#xa;--select &#x2a; from email&#xa;--where EMAIL_LINK like &#x27;&#x25;skype&#x25;&#x27;&#xa;--rn &#x3d; 1 or rn &#x3d; 2&#xa;--REFERENCE &#x3d; 396411 &#xa;&#xa;, skill as &#x28;select REFERENCE,DESCRIPTION from PROP_SKILLS SKILL INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; SKILL.SKILL&#x29;&#xa;, location as &#x28;select REFERENCE,DESCRIPTION from PROP_LOCATIONS LOCATION INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; LOCATION.LOCATION&#x29;&#xa;, industry as &#x28;select REFERENCE,DESCRIPTION from PROP_JOB_CAT JOB_CAT INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; JOB_CAT.JOB_CATEGORY&#x29;&#xa;, JobCategory as &#x28;select REFERENCE,DESCRIPTION from PROP_JOB_CAT JOB_CAT INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; JOB_CAT.JOB_CATEGORY&#x29;&#xa;, SubCategory as &#x28;select REFERENCE,DESCRIPTION from PROP_SUB_CAT SUB_CAT INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; SUB_CAT.SUB_CAT&#x29;&#xa;, owner as &#x28; select PERSON_GEN.REFERENCE as PROP_PERSON_GEN_REFERENCE,PERSON_GEN.FIRST_NAME,PERSON_GEN.LAST_NAME,EMPLOYEE.REFERENCE as PROP_EMPLOYEE_GEN_REFERENCE,EMPLOYEE.NAME,mail.EMAIL_LINK,EMPLOYEE.USER_REF from PROP_PERSON_GEN PERSON_GEN &#xa;	INNER JOIN PROP_OWN_CONS CONS ON PERSON_GEN.REFERENCE &#x3d; CONS.REFERENCE INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; CONS.OCC_ID INNER JOIN PROP_EMPLOYEE_GEN EMPLOYEE ON EMPLOYEE.USER_REF &#x3d; CONS.CONSULTANT &#xa;	left join &#x28;SELECT REFERENCE, EMAIL_LINK &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; EMAIL_LINK FROM PROP_EMAIL b WHERE b.EMAIL_LINK like &#x27;&#x25;&#x40;&#x25;&#x27; and b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29; FROM PROP_EMAIL a GROUP BY REFERENCE&#x29; mail ON EMPLOYEE.REFERENCE &#x3d; mail.REFERENCE&#xa;	where CONFIG_NAME &#x3d; &#x27;Permanent&#x27;&#xa;	--and PERSON_GEN.FIRST_NAME like &#x27;&#x25;Christian&#x25;&#x27; and PERSON_GEN.LAST_NAME like &#x27;&#x25;Kwan&#x25;&#x27;&#xa;	&#x29;&#xa;--select &#x2a; from owner where EMAIL_LINK like &#x27;&#x25;david.fleming&#x40;venetian.com.mo&#x25;&#x27;&#xa;&#xa;&#xa;--select top 10&#xa;select&#xa;	 pg.REFERENCE as &#x27;candidate-externalId&#x27;&#xa;	, case when &#x28;owner.NAME &#x3d; &#x27;&#x27; or owner.NAME is null&#x29; then &#x27;&#x27; else owner.NAME end as &#x27;candidate-owner&#x27;&#xa;	, replace&#x28;concat&#x28;&#xa;		 iif&#x28;pg.Salutation &#x3d; &#x27;&#x27; OR pg.Salutation is NULL,&#x27;&#x27;,concat &#x28;&#x27;Salutation&#x3a; &#x27;,pg.Salutation,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;pg.CHINESENAME &#x3d; &#x27;&#x27; OR pg.CHINESENAME is NULL,&#x27;&#x27;,concat &#x28;&#x27;Chinese Name&#x3a; &#x27;,pg.CHINESENAME,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;pg.ChiFullName &#x3d; &#x27;&#x27; OR pg.ChiFullName is NULL,&#x27;&#x27;,concat &#x28;&#x27;Full Name&#x3a; &#x27;,pg.ChiFullName,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;emailh2.EMAIL_LINK &#x3d; &#x27;&#x27; OR emailh2.EMAIL_LINK is NULL,&#x27;&#x27;,concat &#x28;&#x27;Home Email&#x3a; &#x27;,emailh2.EMAIL_LINK,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, case when &#x28;oe.EMAIL_LINK &#x3d; &#x27;&#x27; or oe.EMAIL_LINK is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Other Email&#x3a; &#x27;,oe.EMAIL_LINK,char&#x28;10&#x29;&#x29; end&#xa;		, case when &#x28;pl.DESCRIPTION &#x3d; &#x27;&#x27; or pl.DESCRIPTION is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Location&#x3a; &#x27;,pl.DESCRIPTION,char&#x28;10&#x29;&#x29; end&#xa;		, iif&#x28;status.Status &#x3d; &#x27;&#x27; OR status.Status is NULL,&#x27;&#x27;,concat &#x28;&#x27;Status&#x3a; &#x27;,status.Status,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;rating.Ranking &#x3d; &#x27;&#x27; OR rating.Ranking is NULL,&#x27;&#x27;,concat &#x28;&#x27;Ranking&#x3a; &#x27;,rating.Ranking,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;cur.DESCRIPTION &#x3d; &#x27;&#x27; or cur.DESCRIPTION is null,&#x27;&#x27;,concat&#x28;&#x27;Currency&#x3a; &#x27;,case&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Australia&#x25;&#x27; then &#x27;AUD&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Chinese&#x25;&#x27; then &#x27;CNY&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Euro&#x25;&#x27; then &#x27;EUR&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Hong&#x25;&#x27; then &#x27;HKD&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Japan&#x25;&#x27; then &#x27;JPY&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Kuwait&#x25;&#x27; then &#x27;KWD&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;New&#x25;&#x27; then &#x27;NZD&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Romania&#x25;&#x27; then &#x27;RON&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;Singapore&#x25;&#x27; then &#x27;SGD&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;United Kingdom&#x25;&#x27; then &#x27;GBP&#x27;&#xa;			when cur.DESCRIPTION like &#x27;&#x25;United States&#x25;&#x27; then &#x27;USD&#x27;&#xa;			end,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;&#x2f;&#x2a;sal.SALARY_DES &#x3d; &#x27;&#x27; OR&#x2a;&#x2f; sal.SALARY_DES is NULL,&#x27;&#x27;,concat &#x28;&#x27;Salary Desired&#x3a; &#x27;,sal.SALARY_DES,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;sal.CurrentSalaryMonth &#x3d; &#x27;&#x27; OR sal.CurrentSalaryMonth is NULL,&#x27;&#x27;,concat &#x28;&#x27;Current Salary Month&#x3a; &#x27;,sal.CurrentSalaryMonth,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;sal.ExpectedSalaryMonth &#x3d; &#x27;&#x27; OR sal.ExpectedSalaryMonth is NULL,&#x27;&#x27;,concat &#x28;&#x27;Expected Salary Month&#x3a; &#x27;,sal.ExpectedSalaryMonth,char&#x28;10&#x29;&#x29;&#x29;	&#xa;		, case when &#x28;cast&#x28;pg.PERSON_ID as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; or pg.PERSON_ID is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Personal ID&#x3a; &#x27;,pg.PERSON_ID,char&#x28;10&#x29;&#x29; end&#xa;		, iif&#x28;pg.ID_Passport &#x3d; &#x27;&#x27; OR pg.ID_Passport is NULL,&#x27;&#x27;,concat &#x28;&#x27;ID_Passport&#x3a; &#x27;,pg.ID_Passport,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;visa.VISA &#x3d; &#x27;&#x27; OR visa.VISA is NULL,&#x27;&#x27;,concat &#x28;&#x27;VISA&#x3a; &#x27;,visa.VISA,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;websiteprofile.PORTFOLIO &#x3d; &#x27;&#x27; OR websiteprofile.PORTFOLIO is NULL,&#x27;&#x27;,concat &#x28;&#x27;Website Profile&#x3a; &#x27;,websiteprofile.PORTFOLIO,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;otheronlineprofile.ONLINE_PRO &#x3d; &#x27;&#x27; OR otheronlineprofile.ONLINE_PRO is NULL,&#x27;&#x27;,concat &#x28;&#x27;Other Online Profile&#x3a; &#x27;,otheronlineprofile.ONLINE_PRO,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;consname.ConsName &#x3d; &#x27;&#x27; OR consname.ConsName is NULL,&#x27;&#x27;,concat &#x28;&#x27;Consultant&#x3a; &#x27;,consname.ConsName,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, case when &#x28;owner.NAME &#x3d; &#x27;&#x27; or owner.NAME is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Candidate Owner&#x3a; &#x27;,owner.NAME,char&#x28;10&#x29;&#x29; end&#xa;		, iif&#x28;source.Source &#x3d; &#x27;&#x27; OR source.Source is NULL,&#x27;&#x27;,concat &#x28;&#x27;Source&#x3a; &#x27;,source.Source,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, iif&#x28;referral.Referral &#x3d; &#x27;&#x27; OR referral.Referral is NULL,&#x27;&#x27;,concat &#x28;&#x27;Referral&#x3a; &#x27;,referral.Referral,char&#x28;10&#x29;&#x29;&#x29;&#xa;		, case when &#x28;industry.DESCRIPTION &#x3d; &#x27;&#x27; or industry.DESCRIPTION is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Industry&#x3a; &#x27;,industry.DESCRIPTION,char&#x28;10&#x29;&#x29; end&#xa;		, case when &#x28;JOBCATEGORY.DESCRIPTION &#x3d; &#x27;&#x27; or JOBCATEGORY.DESCRIPTION is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Job Category&#x3a; &#x27;,JOBCATEGORY.DESCRIPTION,char&#x28;10&#x29;&#x29; end&#xa;		, case when &#x28;SubCategory.DESCRIPTION &#x3d; &#x27;&#x27; or SubCategory.DESCRIPTION is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Sub Category&#x3a; &#x27;,SubCategory.DESCRIPTION,char&#x28;10&#x29;&#x29; end&#xa;		--, note.NOTE,char&#x28;10&#x29;&#xa;		&#x29;,&#x27;&#x26;amp&#x3b;&#x27;,&#x27;&#x27;&#x29; as &#x27;candidate-note&#x27;&#xa;	--, comment.NOTE as &#x27;candidate-comments&#x27;&#xa;-- select count&#x28;&#x2a;&#x29;&#xa;-- select top 100 &#x2a;&#xa;from PROP_PERSON_GEN pg --21158 rows&#xa;left join &#x28;SELECT REFERENCE, MN.DESCRIPTION as TITLE FROM PROP_PERSON_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_PERSON_GEN.TITLE&#x29; title on pg.REFERENCE &#x3d; title.REFERENCE&#xa;----left join PROP_ADDRESS pa ON pg.REFERENCE &#x3d; pa.REFERENCE&#xa;&#xa;left join &#x28;SELECT REFERENCE,EMAIL_LINK &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; EMAIL_LINK FROM email b WHERE rn &#x3e; 2 and b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM email a GROUP BY REFERENCE&#x29; oe ON pg.REFERENCE &#x3d; oe.REFERENCE  -- candidate- other Email&#xa;&#xa;&#xa;left join &#x28;SELECT REFERENCE,DESCRIPTION &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; DESCRIPTION FROM location b WHERE DESCRIPTION &#x21;&#x3d; &#x27;&#x27; and b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM location a GROUP BY REFERENCE&#x29; pl on pg.REFERENCE &#x3d; pl.REFERENCE&#xa;left join &#x28;SELECT REFERENCE,DESCRIPTION FROM PROP_PERSON_GEN PERSON_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PERSON_GEN.CURRENCY&#x29; cur on pg.REFERENCE &#x3d; cur.REFERENCE&#xa;&#xa;left join PROP_CAND_PREF cp on pg.REFERENCE &#x3d; cp.REFERENCE&#xa;&#xa;&#xa;left join &#x28;SELECT REFERENCE, DESCRIPTION &#x3d; STUFF&#x28;&#x28;SELECT DESCRIPTION &#x2b; char&#x28;10&#x29; FROM skill b WHERE b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 0, &#x27;&#x27;&#x29; FROM skill a GROUP BY REFERENCE&#x29; skills ON pg.REFERENCE &#x3d; skills.REFERENCE -- candidate-email &#x26; candidate-workEmail&#xa;left join &#x28;SELECT REFERENCE, DESCRIPTION &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; DESCRIPTION FROM industry b WHERE b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM industry a GROUP BY REFERENCE&#x29; industry ON pg.REFERENCE &#x3d; industry.REFERENCE -- industry&#xa;left join &#x28;SELECT REFERENCE, DESCRIPTION &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; DESCRIPTION FROM JobCategory b WHERE b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM JobCategory a GROUP BY REFERENCE&#x29; JobCategory ON pg.REFERENCE &#x3d; JobCategory.REFERENCE -- JobCategory&#xa;left join &#x28;SELECT REFERENCE, DESCRIPTION &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; DESCRIPTION FROM SubCategory b WHERE b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM SubCategory a GROUP BY REFERENCE&#x29; SubCategory ON pg.REFERENCE &#x3d; SubCategory.REFERENCE -- SubCategory&#xa;left join owner ON pg.REFERENCE &#x3d; owner.PROP_PERSON_GEN_REFERENCE&#xa;&#xa;&#xa;left join &#x28;SELECT REFERENCE, EMAIL_LINK from PROP_EMAIL where OCC_ID &#x3d; 100000217&#x29; emailh2 on pg.REFERENCE &#x3d; emailh2.REFERENCE&#xa;left join &#x28;select REFERENCE, STREET2 from PROP_ADDRESS ADDRESS INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; ADDRESS.OCC_ID where CONFIG_NAME &#x3d; &#x27;Primary&#x27;&#x29; street2 on pg.REFERENCE &#x3d; street2.REFERENCE --and ADDRESS.REFERENCE &#x3d; &#x3c;&#x3c;PROP_PERSON_GEN.REFERENCE&#x3e;&#x3e;&#xa;left join &#x28;&#xa;	--SELECT REFERENCE, MN.DESCRIPTION as VISA FROM PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.VISA_TYPE&#xa;	SELECT REFERENCE&#xa;  	, STUFF&#x28;&#x28;&#xa;	   SELECT distinct &#x27;, &#x27; &#x2b; REPLACE&#x28;MN.DESCRIPTION COLLATE Latin1_General_BIN, char&#x28;26&#x29;, &#x27;&#x27;&#x29; --REPLACE&#x28;ISNULL&#x28;NOTE, &#x27;&#x27;&#x29;, CHAR&#x28;26&#x29;, &#x27;&#x27;&#x29;&#xa;	   FROM PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.VISA_TYPE where REFERENCE &#x3d; a.REFERENCE&#xa;	   FOR XML PATH&#x28;&#x27;&#x27;&#x29;, TYPE&#xa;	  &#x29;.value&#x28;&#x27;.&#x27;, &#x27;nvarchar&#x28;MAX&#x29;&#x27;&#x29;&#xa;	  , 1, 1, &#x27;&#x27;&#x29; As VISA&#xa;        FROM PROP_CAND_GEN as a GROUP BY a.REFERENCE&#xa;	&#x29; visa on pg.REFERENCE &#x3d; visa.REFERENCE&#xa;left join &#x28;SELECT REFERENCE, PORTFOLIO FROM PROP_PORTFOLIO&#x29; websiteprofile on pg.REFERENCE &#x3d; websiteprofile.REFERENCE&#xa;left join &#x28;SELECT REFERENCE, ONLINE_PRO from PROP_ONLINE&#x29; otheronlineprofile on pg.REFERENCE &#x3d; otheronlineprofile.REFERENCE&#xa;left join &#x28;select PERSON_GEN.REFERENCE, EMPLOYEE.NAME as ConsName from PROP_PERSON_GEN PERSON_GEN INNER JOIN PROP_OWN_CONS CONS ON PERSON_GEN.REFERENCE &#x3d; CONS.REFERENCE INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; CONS.OCC_ID INNER JOIN PROP_EMPLOYEE_GEN EMPLOYEE ON EMPLOYEE.USER_REF &#x3d; CONS.CONSULTANT where CONFIG_NAME &#x3d; &#x27;Permanent&#x27;&#x29; consName on pg.REFERENCE &#x3d; consname.REFERENCE&#xa;left join &#x28;&#xa;	--SELECT REFERENCE, MN.DESCRIPTION as Status from PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.STATUS&#xa;	SELECT REFERENCE&#xa;  	, STUFF&#x28;&#x28;&#xa;	   SELECT distinct &#x27;, &#x27; &#x2b; REPLACE&#x28;MN.DESCRIPTION COLLATE Latin1_General_BIN, char&#x28;26&#x29;, &#x27;&#x27;&#x29; --REPLACE&#x28;ISNULL&#x28;NOTE, &#x27;&#x27;&#x29;, CHAR&#x28;26&#x29;, &#x27;&#x27;&#x29;&#xa;	   FROM PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.STATUS where REFERENCE &#x3d; a.REFERENCE&#xa;	   FOR XML PATH&#x28;&#x27;&#x27;&#x29;, TYPE&#xa;	  &#x29;.value&#x28;&#x27;.&#x27;, &#x27;nvarchar&#x28;MAX&#x29;&#x27;&#x29;&#xa;	  , 1, 1, &#x27;&#x27;&#x29; As Status&#xa;        FROM PROP_CAND_GEN as a GROUP BY a.REFERENCE	&#xa;	&#x29; status on pg.REFERENCE &#x3d; status.REFERENCE&#xa;left join &#x28;SELECT REFERENCE, MN.DESCRIPTION as Ranking from PROP_PERSON_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_PERSON_GEN.RATING&#x29; rating on pg.REFERENCE &#x3d; rating.REFERENCE&#xa;left join &#x28;&#xa;	--SELECT REFERENCE, MN.DESCRIPTION as Source from PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.SOURCE&#xa;	SELECT REFERENCE&#xa;  	, STUFF&#x28;&#x28;&#xa;	   SELECT distinct &#x27;, &#x27; &#x2b; REPLACE&#x28;MN.DESCRIPTION COLLATE Latin1_General_BIN, char&#x28;26&#x29;, &#x27;&#x27;&#x29; --REPLACE&#x28;ISNULL&#x28;NOTE, &#x27;&#x27;&#x29;, CHAR&#x28;26&#x29;, &#x27;&#x27;&#x29;&#xa;	   FROM PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.SOURCE where REFERENCE &#x3d; a.REFERENCE&#xa;	   FOR XML PATH&#x28;&#x27;&#x27;&#x29;, TYPE&#xa;	  &#x29;.value&#x28;&#x27;.&#x27;, &#x27;nvarchar&#x28;MAX&#x29;&#x27;&#x29;&#xa;	  , 1, 1, &#x27;&#x27;&#x29; As Source&#xa;        FROM PROP_CAND_GEN as a GROUP BY a.REFERENCE		&#xa;	&#x29; source on pg.REFERENCE &#x3d; source.REFERENCE --21159&#xa;left join &#x28;&#xa;	--SELECT PG.REFERENCE, PG.CHIFULLNAME as Referral from PROP_CAND_GEN INNER JOIN PROP_PERSON_GEN PG ON PG.REFERENCE &#x3d; PROP_CAND_GEN.REFERRAL&#xa;	SELECT REFERENCE&#xa;  	, STUFF&#x28;&#x28;&#xa;	   SELECT distinct &#x27;, &#x27; &#x2b; REPLACE&#x28;PG.CHIFULLNAME COLLATE Latin1_General_BIN, char&#x28;26&#x29;, &#x27;&#x27;&#x29; --REPLACE&#x28;ISNULL&#x28;NOTE, &#x27;&#x27;&#x29;, CHAR&#x28;26&#x29;, &#x27;&#x27;&#x29;&#xa;	   FROM PROP_CAND_GEN INNER JOIN PROP_PERSON_GEN PG ON PG.REFERENCE &#x3d; PROP_CAND_GEN.REFERRAL where PG.REFERENCE &#x3d; a.REFERENCE&#xa;	   FOR XML PATH&#x28;&#x27;&#x27;&#x29;, TYPE&#xa;	  &#x29;.value&#x28;&#x27;.&#x27;, &#x27;nvarchar&#x28;MAX&#x29;&#x27;&#x29;&#xa;	  , 1, 1, &#x27;&#x27;&#x29; As referral&#xa;        FROM PROP_CAND_GEN as a GROUP BY a.REFERENCE		&#xa;	&#x29; referral on pg.REFERENCE &#x3d; referral.REFERENCE --21193&#xa;--left join &#x28;SELECT REFERENCE,SALARY_DES FROM PROP_CAND_PREF&#x29; on &#xa;left join &#x28;SELECT REFERENCE, SALARY_DES, MN.DESCRIPTION as CurrentSalaryMonth,MN2.DESCRIPTION as ExpectedSalaryMonth FROM PROP_CAND_PREF CAND_PREF LEFT JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; CAND_PREF.SALARY_TYPE LEFT JOIN MD_MULTI_NAMES MN2 ON MN2.ID &#x3d; CAND_PREF.EXPSAL_TYPE&#x29; sal on pg.REFERENCE &#x3d; sal.REFERENCE --where SALARY_DES is not null and MN.DESCRIPTION is not null and MN2.DESCRIPTION is not null&#xa;left join &#x28;&#xa;	--SELECT REFERENCE, MN.DESCRIPTION as NoticePeriod from PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.NOT_PERIOD&#xa;	SELECT REFERENCE&#xa;  	, STUFF&#x28;&#x28;&#xa;	   SELECT distinct &#x27;, &#x27; &#x2b; REPLACE&#x28;MN.DESCRIPTION COLLATE Latin1_General_BIN, char&#x28;26&#x29;, &#x27;&#x27;&#x29; --REPLACE&#x28;ISNULL&#x28;NOTE, &#x27;&#x27;&#x29;, CHAR&#x28;26&#x29;, &#x27;&#x27;&#x29;&#xa;	   FROM PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.NOT_PERIOD where REFERENCE &#x3d; a.REFERENCE&#xa;	   FOR XML PATH&#x28;&#x27;&#x27;&#x29;, TYPE&#xa;	  &#x29;.value&#x28;&#x27;.&#x27;, &#x27;nvarchar&#x28;MAX&#x29;&#x27;&#x29;&#xa;	  , 1, 1, &#x27;&#x27;&#x29; As Noticeperiod&#xa;        FROM PROP_CAND_GEN as a GROUP BY a.REFERENCE		&#xa;	&#x29; Noticeperiod on pg.REFERENCE &#x3d; Noticeperiod.REFERENCE --22765&#xa;left join &#x28;SELECT REFERENCE, iif&#x28;RELOCATE &#x3d; &#x27;Y&#x27;,&#x27;Yes&#x27;,&#x27;No&#x27;&#x29; AS Relocate FROM PROP_CAND_PREF&#x29; relocate on pg.REFERENCE &#x3d; relocate.REFERENCE&#xa;&#xa;--Need to convert value to 2 digits country code &#xa;left join &#x28;&#xa;	--SELECT REFERENCE, MN.DESCRIPTION as Nationality from PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.NATION&#xa;	SELECT REFERENCE&#xa;  	, STUFF&#x28;&#x28;&#xa;	   SELECT distinct &#x27;, &#x27; &#x2b; REPLACE&#x28;MN.DESCRIPTION COLLATE Latin1_General_BIN, char&#x28;26&#x29;, &#x27;&#x27;&#x29; --REPLACE&#x28;ISNULL&#x28;NOTE, &#x27;&#x27;&#x29;, CHAR&#x28;26&#x29;, &#x27;&#x27;&#x29;&#xa;	   FROM PROP_CAND_GEN INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; PROP_CAND_GEN.NATION where REFERENCE &#x3d; a.REFERENCE&#xa;	   FOR XML PATH&#x28;&#x27;&#x27;&#x29;, TYPE&#x29;.value&#x28;&#x27;.&#x27;, &#x27;nvarchar&#x28;MAX&#x29;&#x27;&#x29;, 1, 1, &#x27;&#x27;&#x29; As Nationality&#xa;        FROM PROP_CAND_GEN as a GROUP BY a.REFERENCE		&#xa;	&#x29; Nationality on pg.REFERENCE &#x3d; Nationality.REFERENCE --21167</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Company</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>&#xa;with&#xa; tel&#x28;REFERENCE, TEL_NUMBER&#x29; as &#x28;SELECT REFERENCE, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; TEL_NUMBER from PROP_TELEPHONE WHERE TEL_NUMBER &#x21;&#x3d; &#x27;&#x27; and REFERENCE &#x3d; a.REFERENCE FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS URLList FROM PROP_TELEPHONE as a GROUP BY a.REFERENCE&#x29;&#xa;--select &#x2a; from tel&#xa;&#xa;, doc&#x28;OWNER_ID, DOC_ID&#x29; as &#x28;SELECT OWNER_ID, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; cast&#x28;DOC_ID as varchar&#x28;max&#x29;&#x29; &#x2b; &#x27;.&#x27; &#x2b; FILE_EXTENSION from DOCUMENTS WHERE DOC_CATEGORY &#x3d; 31185 AND FILE_EXTENSION in &#x28;&#x27;bmp&#x27;,&#x27;doc&#x27;,&#x27;docx&#x27;,&#x27;gif&#x27;,&#x27;jpeg&#x27;,&#x27;jpg&#x27;,&#x27;pdf&#x27;,&#x27;PDFX&#x27;,&#x27;png&#x27;,&#x27;rtf&#x27;,&#x27;TXT&#x27;,&#x27;xls&#x27;,&#x27;xlsx&#x27;,&#x27;zip&#x27;&#x29; and OWNER_ID &#x3d; a.OWNER_ID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS doc FROM DOCUMENTS as a GROUP BY a.OWNER_ID&#x29;&#xa;--select &#x2a; from doc where doc.DOC_ID is not null&#xa;&#xa;, owner as &#x28;&#xa;	select CLIENT_GEN.REFERENCE as CLIENT_GEN_REFERENCE, CLIENT_GEN.NAME as CLIENT_GEN_NAME, EMPLOYEE.REFERENCE as EMPLOYEE_REFERENCE, EMPLOYEE.NAME as EMPLOYEE_NAME, CONS.REFERENCE as CONS_REFERENCE, mail.EMAIL_LINK&#xa;	from PROP_CLIENT_GEN CLIENT_GEN INNER JOIN PROP_OWN_CONS CONS ON CLIENT_GEN.REFERENCE &#x3d; CONS.REFERENCE INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; CONS.OCC_ID INNER JOIN PROP_EMPLOYEE_GEN EMPLOYEE ON EMPLOYEE.USER_REF &#x3d; CONS.CONSULTANT&#xa;	left join &#x28;SELECT REFERENCE, EMAIL_LINK &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; EMAIL_LINK FROM PROP_EMAIL b WHERE b.EMAIL_LINK like &#x27;&#x25;&#x40;&#x25;&#x27; and b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29; FROM PROP_EMAIL a GROUP BY REFERENCE&#x29; mail ON EMPLOYEE.REFERENCE &#x3d; mail.REFERENCE&#xa;	where CONFIG_NAME &#x3d; &#x27;Permanent&#x27; &#xa;--and CONS.REFERENCE &#x3d; 10629 AND PERSON_GEN.REFERENCE &#x3d; &#x3c;&#x3c;PROP_CLIENT_GEN.REFERENCE&#x3e;&#x3e;&#xa;&#x29;&#xa;--select &#x2a; from owner&#xa;&#xa;--select top 100&#xa;select&#xa;	cg.REFERENCE as &#x27;company-externalId&#x27;&#xa;	, case &#xa;		when cg.NAME in &#x28;select ltrim&#x28;cg.NAME&#x29; from PROP_CLIENT_GEN cg group by ltrim&#x28;cg.name&#x29; having count&#x28;&#x2a;&#x29; &#x3e; 1&#x29; then concat &#x28;dup.name,&#x27; &#x27;,dup.rn&#x29;&#xa;		when &#x28;cg.NAME &#x3d; &#x27;&#x27; or cg.name is null&#x29; then &#x27;no company name&#x27;&#xa;		else ltrim&#x28;replace&#x28;cg.NAME,&#x27;&#x3f;&#x27;,&#x27;&#x27;&#x29;&#x29; &#xa;		end as &#x27;company-name&#x27;&#xa;--, cg.STATUS as &#x27;&#x28;STATUS&#x29;&#x27;&#xa;	, address.STREET1 as &#x27;company-locationAddress&#x27;&#xa;	, address.TOWN as &#x27;company-locationCity&#x27;&#xa;	, address.state as &#x27;company-locationState&#x27;&#xa;	, address.POST_CODE as &#x27;company-locationZipCode&#x27;&#xa;	--, cnt.DESCRIPTION as &#x27;&#x28;company-locationCountry&#x29;&#x27;&#xa;	, CASE WHEN &#x28;cnt.DESCRIPTION &#x3d; &#x27;&#x27; OR cnt.DESCRIPTION &#x3d; &#x27;NULL&#x27;&#x29; THEN &#x27;&#x27; ELSE tc.ABBREVIATION END as &#x27;company-locationCountry&#x27;&#xa;--, cg.LOCATION as &#x27;&#x28;company-locationName&#x29;&#x27;&#xa;	, ltrim&#x28;concat&#x28;address.TOWN&#xa;		,case when &#x28;address.STATE &#x3d; &#x27;&#x27; OR address.STATE is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27; &#x27;,address.STATE&#x29; END&#xa;		,case when &#x28;cnt.DESCRIPTION &#x3d; &#x27;&#x27; OR cnt.DESCRIPTION is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27; &#x27;,cnt.DESCRIPTION&#x29; END&#xa;		&#x29;&#x29; as &#x27;company-locationName&#x27;&#xa;	, tel.TEL_NUMBER as &#x27;company-phone&#x27;&#xa;	, fax.TEL_NUMBER as &#x27;company-fax&#x27;&#xa;	, left&#x28;cg.WEB_ADD,1000&#x29; as &#x27;company-website&#x27;&#xa;	, replace&#x28;doc.DOC_ID,&#x27;.txt&#x27;,&#x27;.rtf&#x27;&#x29; as &#x27;company-document&#x27;&#xa;	, owner.EMAIL_LINK as &#x27;company-owners&#x27;&#xa;	, CASE WHEN &#x28;owner.EMPLOYEE_NAME &#x3d; &#x27;&#x27; OR owner.EMPLOYEE_NAME &#x3d; &#x27;NULL&#x27;&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Company Owner&#x3a; &#x27;,owner.EMPLOYEE_NAME&#x29; END as &#x27;company-note&#x27;&#xa;	--, mail.EMAIL_LINK as &#x27;&#x28;company-owners-email&#x29;&#x27;&#xa;-- select count&#x28;&#x2a;&#x29;&#xa;from PROP_CLIENT_GEN cg &#xa;--left join ENTITY_TABLE e ON cg.REFERENCE &#x3d; cg.REFERENCE&#xa;left join tel ON CG.REFERENCE &#x3d; tel.REFERENCE&#xa;left join &#x28;select REFERENCE,CONFIG_NAME,STREET1,TOWN,STATE,COUNTRY,POST_CODE from PROP_ADDRESS ADDRESS INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; ADDRESS.OCC_ID where CONFIG_NAME &#x3d; &#x27;Primary&#x27;&#x29; address ON cg.REFERENCE &#x3d; address.REFERENCE&#xa;left join &#x28;select REFERENCE,CONFIG_NAME,TEL_NUMBER from PROP_TELEPHONE TEL INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; TEL.OCC_ID where CONFIG_NAME &#x3d; &#x27;Fax&#x27;&#x29; fax ON cg.REFERENCE &#x3d; fax.REFERENCE&#xa;left join &#x28;select REFERENCE, DESCRIPTION from PROP_ADDRESS ADDRESS INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; ADDRESS.OCC_ID INNER JOIN MD_MULTI_NAMES MN ON MN.ID &#x3d; ADDRESS.COUNTRY where CONFIG_NAME &#x3d; &#x27;Primary&#x27;&#x29; cnt ON cg.REFERENCE &#x3d; cnt.REFERENCE&#xa;left join &#x28;select upper&#x28;Country&#x29; as COUNTRY, ABBREVIATION from tmp_currency&#x29; tc ON cnt.DESCRIPTION &#x3d; tc.COUNTRY&#xa;left join &#x28;SELECT CLIENT_ID,name,ROW_NUMBER&#x28;&#x29; OVER&#x28;PARTITION BY ltrim&#x28;cg.name&#x29; ORDER BY cg.CLIENT_ID DESC&#x29; AS rn FROM PROP_CLIENT_GEN cg&#x29; dup on cg.CLIENT_ID &#x3d; dup.CLIENT_ID&#xa;left join &#x28;SELECT REFERENCE, EMAIL_LINK &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; EMAIL_LINK FROM PROP_EMAIL b WHERE b.REFERENCE &#x3d; a.REFERENCE FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29; FROM PROP_EMAIL a GROUP BY REFERENCE&#x29; mail ON cg.REFERENCE &#x3d; mail.REFERENCE&#xa;&#xa;--left join PROP_X_CLIENT_CON client ON cg.REFERENCE &#x3d; client.CONTACT&#xa;left join owner ON cg.REFERENCE &#x3d; owner.CLIENT_GEN_REFERENCE --PERSON_GEN.REFERENCE &#x3d; &#x3c;&#x3c;PROP_CLIENT_GEN.REFERENCE&#x3e;&#x3e;&#xa;&#xa;left join doc on cg.REFERENCE &#x3d; doc.OWNER_ID&#xa;--where doc.DOC_ID is not null&#xa;--where cg.name like &#x27;&#x25;Kering&#x25;&#x27;&#xa;--where cg.reference &#x3d; 435015&#xa;--where own.NAME is not null&#xa;order by cg.REFERENCE&#xa;&#xa;--select &#x2a; from PROP_CLIENT_GEN CLIENT_GEN INNER JOIN PROP_OWN_CONS CONS ON CLIENT_GEN.REFERENCE &#x3d; CONS.REFERENCE INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; CONS.OCC_ID INNER JOIN PROP_EMPLOYEE_GEN EMPLOYEE ON EMPLOYEE.USER_REF &#x3d; CONS.CONSULTANT where CONFIG_NAME &#x3d; &#x27;Permanent&#x27;&#xa;&#xa;&#x2f;&#x2a;&#xa;--select top 100 &#x2a; from 	PROP_CLIENT_GEN&#xa;--select top 100 &#x2a; from 	PROP_ADDRESS&#xa;&#xa;select cc.name from bullhorn1.BH_ClientCorporation CC&#xa;where CC.name not like &#x27;&#x25;Imported Contacts&#x25;&#x27; and CC.status not like &#x27;&#x25;Archive&#x25;&#x27;&#xa;--where cc.name like &#x27;&#x25;Deloitte&#x25;&#x27; or cc.name like &#x27;&#x25;Manhattan Chamber of Commerce&#x25;&#x27;&#xa;group by cc.name having count&#x28;&#x2a;&#x29; &#x3e; 1&#xa;order by name&#xa;&#x2a;&#x2f;&#xa;&#xa;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>128</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Contact</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>&#x2f;&#x2a;&#xa;with tmp_1&#x28;userID, email&#x29; as &#xa;&#x28;select userID, REPLACE&#x28;ISNULL&#x28;email,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email2,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email3,&#x27;&#x27;&#x29;, &#x27;,,&#x27;, &#x27;,&#x27;&#x29; as email&#xa;from bullhorn1.BH_UserContact&#xa; &#x29;&#xa; --select &#x2a; from tmp_1&#xa; --select userID, email, CHARINDEX&#x28;email,&#x27;,&#x27;,0&#x29; from tmp_1&#xa; , tmp_2&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,1&#x29; &#x3d; 1 THEN RIGHT&#x28;email, len&#x28;email&#x29;-1&#x29;&#xa;	ELSE email END as email&#xa;from tmp_1&#xa;&#x29;&#xa; , tmp_3&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,len&#x28;email&#x29;&#x29; &#x3d; len&#x28;email&#x29; &#xa;	THEN LEFT&#x28;email, CASE WHEN len&#x28;email&#x29; &#x3c; 1 THEN 0 ELSE len&#x28;email&#x29; - 1 END&#x29;&#xa;	ELSE email END as email&#xa;from tmp_2&#xa;&#x29;&#xa;&#xa;, tmp_4&#x28;userID, Notes&#x29; as &#x28;SELECT&#xa;     userID,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT char&#x28;10&#x29; &#x2b; &#x27;Date added&#x3a; &#x27; &#x2b; convert&#x28;varchar&#x28;10&#x29;, dateAdded, 120&#x29; &#x2b; &#x27; &#x7c;&#x7c; &#x27; &#x2b; &#x27;Action&#x3a; &#x27; &#x2b; action &#x2b; &#x27; &#x7c;&#x7c; &#x27; &#x2b; cast&#x28;comments as varchar&#x28;max&#x29;&#x29;&#xa;          from  &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserComment&#x5d;&#xa;          WHERE userID &#x3d; a.userID&#xa;		  order by dateAdded desc&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 1, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM  &#x5b;bullhorn1&#x5d;.&#x5b;BH_UserComment&#x5d; AS a&#xa;GROUP BY a.userID&#x29;&#xa;&#xa;--select &#x2a; from tmp_4&#xa;, &#xa;tmp_5 as &#x28;select userID &#xa;	, case when &#x28;Cl.division &#x3d; &#x27;&#x27; OR Cl.division is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Department&#x3a; &#x27;,Cl.division&#x29; END as Department&#xa;	, case when &#x28;Cl.status &#x3d; &#x27;&#x27; OR Cl.status is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Status&#x3a; &#x27;,Cl.status&#x29; END as Status1&#xa;	, case when &#x28;cast&#x28;Cl.desiredCategories as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR Cl.desiredCategories is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Designed Categories&#x3a; &#x27;,Cl.desiredCategories&#x29; END as DesignedCategories&#xa;	, case when &#x28;cast&#x28;Cl.desiredSpecialties as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR Cl.desiredSpecialties is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Desired Specialties&#x3a; &#x27;,Cl.desiredSpecialties&#x29; END as DesiredSpecialties&#xa;	, case when &#x28;cast&#x28;Cl.desiredSkills as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; OR Cl.desiredSkills is NULL&#x29; THEN &#x27;&#x27; ELSE concat&#x28;&#x27;Desired Skills&#x3a; &#x27;,Cl.desiredSkills&#x29; END as DesiredSkills&#xa;from bullhorn1.BH_Client Cl where isPrimaryOwner &#x3d; 1 and isDeleted &#x3d; 0&#x29;&#xa;--select &#x2a; from tmp_5&#xa;&#xa;, tmp_6 as &#x28;select userID, concat&#x28;Status1,char&#x28;10&#x29;,Department,char&#x28;10&#x29;,DesignedCategories,char&#x28;10&#x29;,DesiredSpecialties,char&#x28;10&#x29;,DesiredSkills&#x29; as CombinedNote from tmp_5&#x29;&#xa;--select &#x2a; from tmp_6&#xa;&#xa;&#x2f;&#x2a; this is written for all custom required fields from Search Elect &#x2a;&#x2f;&#xa;&#x2f;&#x2a;, tmp_6_1 as &#x28;select userID&#xa;	, concat&#x28;iif&#x28;address1 &#x3d; &#x27;&#x27; or address1 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Address 1&#x3a; &#x27;,address1,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;	,iif&#x28;city &#x3d; &#x27;&#x27; or city is NULL,&#x27;&#x27;,concat&#x28;&#x27;City&#x3a; &#x27;,city,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;	,iif&#x28;state &#x3d; &#x27;&#x27; or state is NULL,&#x27;&#x27;,concat&#x28;&#x27;State&#x3a; &#x27;,state,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;	,iif&#x28;cast&#x28;countryID as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; or countryID is NULL,&#x27;&#x27;,concat&#x28;&#x27;Country&#x3a; &#x27;,tmp_country.COUNTRY,&#x27; &#x7c; &#x27;&#x29;&#x29;&#xa;	,iif&#x28;employmentPreference &#x3d; &#x27;&#x27; or employmentPreference is NULL,&#x27;&#x27;,concat&#x28;&#x27;Employment Preference&#x3a; &#x27;,employmentPreference&#x29;&#x29;&#xa;	&#x29; as AdditionalNote &#xa;	from bullhorn1.BH_UserContact UC &#xa;	left join tmp_country on UC.countryID &#x3d; tmp_country.CODE&#x29;&#xa;&#x2a;&#x2f;&#xa;, tmp_6_1 as &#x28;select userID&#xa;	, concat&#x28;iif&#x28;address1 &#x3d; &#x27;&#x27; or address1 is NULL,&#x27;&#x27;,concat&#x28;&#x27;Address 1&#x3a; &#x27;,address1,char&#x28;10&#x29;&#x29;&#x29;&#xa;		,iif&#x28;city &#x3d; &#x27;&#x27; or city is NULL,&#x27;&#x27;,concat&#x28;&#x27;City&#x3a; &#x27;,city,char&#x28;10&#x29;&#x29;&#x29;&#xa;		,iif&#x28;state &#x3d; &#x27;&#x27; or state is NULL,&#x27;&#x27;,concat&#x28;&#x27;State&#x3a; &#x27;,state,char&#x28;10&#x29;&#x29;&#x29;&#xa;		,iif&#x28;cast&#x28;countryID as varchar&#x28;max&#x29;&#x29; &#x3d; &#x27;&#x27; or countryID is NULL,&#x27;&#x27;,concat&#x28;&#x27;Country&#x3a; &#x27;,tmp_country.COUNTRY,char&#x28;10&#x29;&#x29;&#x29;&#xa;		,iif&#x28;employmentPreference &#x3d; &#x27;&#x27; or employmentPreference is NULL,&#x27;&#x27;,concat&#x28;&#x27;Employment Preference&#x3a; &#x27;,employmentPreference&#x29;&#x29;&#xa;	&#x29; as AdditionalNote &#xa;	from bullhorn1.BH_UserContact UC &#xa;	left join tmp_country on UC.countryID &#x3d; tmp_country.CODE&#x29;&#xa;--select &#x2a; from tmp_6_1&#xa;&#xa;, tmp_7&#x28;userID, phone&#x29; as &#x28;SELECT&#xa;     userID,&#xa;     STUFF&#x28;&#xa;         &#x28;SELECT iif&#x28;phone &#x3d; &#x27;&#x27; or phone is NULL,&#x27;&#x27;,concat&#x28;phone,&#x27;,&#x27;&#x29;&#x29; &#x2b; &#xa;		 iif&#x28;phone2 &#x3d; &#x27;&#x27; or phone2 is NULL,&#x27;&#x27;,concat&#x28;phone2,&#x27;,&#x27;&#x29;&#x29; &#x2b; &#xa;		 iif&#x28;phone3 &#x3d; &#x27;&#x27; or phone3 is NULL,&#x27;&#x27;,concat&#x28;phone3,&#x27;,&#x27;&#x29;&#x29; &#x2b;&#xa;		 iif&#x28;mobile &#x3d; &#x27;&#x27; or mobile is NULL,&#x27;&#x27;,concat&#x28;mobile,&#x27;,&#x27;&#x29;&#x29; &#x2b;&#xa;		 iif&#x28;workPhone &#x3d; &#x27;&#x27; or workPhone is NULL or workPhone &#x3d; &#x27;0&#x27;,&#x27;&#x27;, workPhone&#x29;&#xa;          from  bullhorn1.BH_UserContact&#xa;          WHERE userID &#x3d; a.userID&#xa;          FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;&#xa;          , 1, 0, &#x27;&#x27;&#x29;  AS URLList&#xa;FROM  bullhorn1.BH_UserContact AS a&#xa;GROUP BY a.userID&#x29;&#xa;&#xa;&#xa;, tmp_7_1 &#x28;userID, phone&#x29; as &#x28;SELECT&#xa;     userID,&#xa;	 iif&#x28;right&#x28;phone,1&#x29;&#x3d;&#x27;,&#x27;,left&#x28;phone,len&#x28;phone&#x29;-1&#x29;,phone&#x29;&#xa;	 from tmp_7&#x29;&#xa;&#xa;, tmp_doc0 &#x28;userid, name&#x29; as &#x28;select a.USERID, concat&#x28;a.clientCorporationFileID,&#x27;-co-doc&#x27;,a.fileExtension&#x29; from bullhorn1.BH_ClientCorporationFile a&#x29;&#xa;--select &#x2a; from tmp_5&#xa;--where a.type &#x3d; &#x27;Resume&#x27;&#x29; &#x3d;&#x3d;&#x3e; get all candidates files&#xa;, tmp_doc1 &#x28;userid, ResumeId&#x29; as &#x28;SELECT userid, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;,&#x27; &#x2b; name from tmp_doc0 WHERE userid &#x3d; a.USERID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29;  AS URLList FROM tmp_doc0 AS a GROUP BY a.USERID&#x29;&#xa;--select &#x2a; from tmp_6 --order by clientCorporationID&#xa;&#x2a;&#x2f;&#xa;&#xa;with skill as &#x28;select c.contactid,ss.skill from Contacts c left join SkillInstances si on c.contactid &#x3d; si.objectid  left join skills ss on si.skillid &#x3d; ss.skillid&#x29;&#xa;&#xa;--select top 3&#xa;select&#xa;	CC.CompanyId as &#x27;contact-companyId&#x27;&#xa;	, CC.CompanyName as &#x27;&#x28;contact-companyname&#x29;&#x27;&#xa;	, CL.ContactId as &#x27;contact-externalId&#x27;&#xa;&#xa;	, case when &#x28; CL.FirstName &#x3d; &#x27;&#x27; or CL.FirstName is null&#x29; then &#x27;No Firstname&#x27; else replace&#x28;CL.FirstName,&#x27;&#x3f;&#x27;,&#x27;&#x27;&#x29; end as &#x27;contact-firstName&#x27;&#xa;	, case when &#x28; CL.LastName &#x3d; &#x27;&#x27; or  CL.LastName is null&#x29; then &#x27;No Lastname&#x27; else replace&#x28;CL.LastName,&#x27;&#x3f;&#x27;,&#x27;&#x27;&#x29; end as &#x27;contact-lastName&#x27;&#xa;	--, UC.middleName as &#x27;contact-middleName&#x27;&#xa;&#xa;	--, CL.Email as &#x27;&#x28;contact-email&#x29;&#x27;&#xa;	, concat&#x28;&#xa;		  case when &#x28;CL.Email like &#x27;&#x25;&#x40;&#x25;&#x27;&#x29; THEN CL.Email ELSE &#x27;&#x27; END&#xa;		, case when &#x28;CL.Email like &#x27;&#x25;&#x40;&#x25;&#x27; and CL.Email2 like &#x27;&#x25;&#x40;&#x25;&#x27;&#x29; THEN concat &#x28;&#x27;, &#x27;,CL.Email2&#x29; else &#x27;&#x27; END	&#xa;	&#x29; as &#x27;contact-email&#x27;&#xa;	&#xa;	--, CL.DirectTel as &#x27;contact-phone1&#x27;&#xa;	--, CL.WorkTel as &#x27;contact-phone2&#x27;&#xa;	--, CL.MobileTel as &#x27;contact-phone3&#x27;&#xa;	--, CL.HomeTel as &#x27;contact-phone4&#x27;&#xa;	, concat&#x28;CL.DirectTel,&#x27;,&#x27;,CL.WorkTel,&#x27;,&#x27;,CL.MobileTel,&#x27;,&#x27;,CL.HomeTel&#x29; as &#x27;contact-phone&#x27;&#xa;	&#xa;	--, as &#x27;contact-owners&#x27;&#xa;	, CL.UserId as &#x27;&#x28;contact-owners-id&#x29;&#x27;&#xa;	, CL.UserName as &#x27;&#x28;contact-owners-name&#x29;&#x27;&#xa;	, CL.JobTitle as &#x27;contact-jobTitle&#x27;&#xa;	--, CL.userId as &#x27;Contact External ID&#x27;&#xa;	, at.Filename as &#x27;contact-document&#x27;&#xa;	--, concat&#x28;&#x27;BH Contact owners&#x3a; &#x27;,UC2.name,char&#x28;10&#x29;,e.AdditionalNote,char&#x28;10&#x29;,f.CombinedNote,char&#x28;10&#x29;,UC.lastNote_denormalized&#x29; as &#x27;contact-Note&#x27;&#xa;&#xa;	, concat&#x28;&#xa;		  case when &#x28;CL.Comments &#x3d; &#x27;&#x27; OR CL.Comments is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Comments&#x3a; &#x27;,CL.Comments,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;n1.NotesID &#x3d; &#x27;&#x27; OR n1.NotesId is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;NotesId&#x3a; &#x27;,n1.NotesId,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;n.Text &#x3d; &#x27;&#x27; OR n.Text is NULL&#x29; THEN &#x27;&#x27; ELSE replace&#x28;concat &#x28;n.Text,char&#x28;10&#x29;&#x29;,&#x27;&#x26;amp&#x3b; &#x27;,&#x27;&#x27;&#x29; END&#xa;	&#x29; as &#x27;contact-comment&#x27;&#xa;&#xa;	, concat&#x28;&#xa;		  case when &#x28;CL.Title &#x3d; &#x27;&#x27; OR CL.Title is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Title&#x3a; &#x27;,CL.Title,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Department &#x3d; &#x27;&#x27; OR CL.Department is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Department&#x3a; &#x27;,CL.Department,char&#x28;10&#x29;&#x29; END&#xa;		--, replace&#x28;skills.skill,&#x27;&#x26;amp&#x3b; &#x27;,&#x27;&#x27;&#x29; as &#x27;contact-skill&#x27;&#xa;		, case when &#x28;skills.skill &#x3d; &#x27;&#x27; OR skills.skill is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Skills&#x3a; &#x27;,replace&#x28;skills.skill,&#x27;&#x26;amp&#x3b; &#x27;,&#x27;&#x27;&#x29;,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.WebSite &#x3d; &#x27;&#x27; OR CL.WebSite is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;WebSite&#x3a; &#x27;,CL.WebSite,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Address1 &#x3d; &#x27;&#x27; OR CL.Address1 is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Address1&#x3a; &#x27;,CL.Address1,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Address2 &#x3d; &#x27;&#x27; OR CL.Address2 is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Address2&#x3a; &#x27;,CL.Address2,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Address3 &#x3d; &#x27;&#x27; OR CL.Address3 is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Address3&#x3a; &#x27;,CL.Address3,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.City &#x3d; &#x27;&#x27; OR CL.City is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;City&#x3a; &#x27;,CL.City,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.PostCode &#x3d; &#x27;&#x27; OR CL.PostCode is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;PostCode&#x3a; &#x27;,CL.PostCode,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Location &#x3d; &#x27;&#x27; OR CL.Location is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Location&#x3a; &#x27;,CL.Location,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.SubLocation &#x3d; &#x27;&#x27; OR CL.SubLocation is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;SubLocation&#x3a; &#x27;,CL.SubLocation,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Country &#x3d; &#x27;&#x27; OR CL.Country is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Country&#x3a; &#x27;,CL.Country,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.County &#x3d; &#x27;&#x27; OR CL.County is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;County&#x3a; &#x27;,CL.County,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.ContactStatus &#x3d; &#x27;&#x27; OR CL.ContactStatus is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;ContactStatus&#x3a; &#x27;,CL.ContactStatus,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.ContactSource &#x3d; &#x27;&#x27; OR CL.ContactSource is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;ContactSource&#x3a; &#x27;,CL.ContactSource,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Sector &#x3d; &#x27;&#x27; OR CL.Sector is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Sector&#x3a; &#x27;,CL.Sector,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.RegDate &#x3d; &#x27;&#x27; OR CL.RegDate is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;RegDate&#x3a; &#x27;,CL.RegDate,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.LastUpdate &#x3d; &#x27;&#x27; OR CL.LastUpdate is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;LastUpdate&#x3a; &#x27;,CL.LastUpdate,char&#x28;10&#x29;&#x29; END&#xa;		, case when &#x28;CL.Segment &#x3d; &#x27;&#x27; OR CL.Segment is NULL&#x29; THEN &#x27;&#x27; ELSE concat &#x28;&#x27;Segment&#x3a; &#x27;,CL.Segment,char&#x28;10&#x29;&#x29; END&#xa;	&#x29; as &#x27;contact-Note&#x27;&#xa;&#xa;-- select top 10 &#x2a;&#xa;-- select count&#x28;&#x2a;&#x29; --143617&#xa;from Contacts CL&#xa;left join Companies CC ON CL.CompanyId &#x3d; CC.CompanyId&#xa;&#xa;left join &#x28;SELECT contactid, text &#x3d; STUFF&#x28;&#x28;SELECT char&#x28;10&#x29; &#x2b; &#x27;TEXT&#x3a; &#x27; &#x2b; text &#x2b; char&#x28;10&#x29; FROM notes b WHERE b.contactid &#x3d; a.contactid FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 0, &#x27;&#x27;&#x29; FROM notes a GROUP BY contactid&#x29; n on CL.contactid &#x3d; n.contactid&#xa;left join &#x28;SELECT contactid, notesid &#x3d; STUFF&#x28;&#x28;SELECT &#x27;,&#x27; &#x2b; notesid &#x2b; char&#x28;10&#x29; FROM notes b WHERE b.contactid &#x3d; a.contactid FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM notes a GROUP BY contactid&#x29; n1 on CL.contactid &#x3d; n1.contactid&#xa;&#xa;left join &#x28;SELECT id, filename &#x3d; STUFF&#x28;&#x28;SELECT DISTINCT &#x27;,&#x27; &#x2b; filename from Attachments WHERE id &#x3d; a.id FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 1, &#x27;&#x27;&#x29; FROM Attachments a GROUP BY id&#x29; at on cl.contactid &#x3d; at.Id&#xa;left join &#x28;SELECT contactid, skill &#x3d; STUFF&#x28;&#x28;SELECT skill &#x2b; char&#x28;10&#x29; FROM skill b WHERE b.contactid &#x3d; a.contactid FOR XML PATH&#x28;&#x27;&#x27;&#x29;&#x29;, 1, 0, &#x27;&#x27;&#x29; FROM skill a GROUP BY contactid&#x29; skills on CL.contactid &#x3d; skills.contactid&#xa;&#xa;--WHERE CL.Email &#x21;&#x3d; &#x27;&#x27; and CL.Email is not null and CL.Email2 &#x21;&#x3d; &#x27;&#x27; and CL.Email2 is not NULL&#xa;--CL.contactid &#x3d; &#x27;271094-9983-13326&#x27;&#xa;-- n.text is not null&#xa;--CL.FirstName like &#x27;&#x25;Felice&#x25;&#x27;&#xa;--skills.skill is not null&#xa;&#xa;&#x2f;&#x2a;&#xa;--left join tmp_3 b on ltrim&#x28;rtrim&#x28;cast&#x28;UC.ownerUserIDList as nvarchar&#x28;max&#x29;&#x29;&#x29;&#x29; &#x3d; cast&#x28;b.userID as nvarchar&#x28;max&#x29;&#x29;&#xa;left join bullhorn1.BH_UserContact UC2 on Cl.recruiterUserID &#x3d; UC2.userID&#xa;left join tmp_3 c ON Cl.userID &#x3d; c.userID&#xa;left join tmp_4 d on Cl.userID &#x3d; d.userID&#xa;left join tmp_6 f on Cl.userID &#x3d; f.userID&#xa;left join tmp_6_1 e on Cl.userID &#x3d; e.userID&#xa;left join tmp_7_1 g on Cl.userID &#x3d; g.userID&#xa;left join tmp_doc1 on Cl.clientID &#x3d; tmp_doc1.userid&#xa;where isPrimaryOwner &#x3d; 1 and CL.isDeleted &#x3d; 0&#xa;--and tmp_doc1.ResumeId is not null&#xa;--and cl.clientID &#x3d;32&#xa;--left JOIN bullhorn1.BH_ClientCorporation CC ON Cl.clientCorporationID &#x3d; CC.clientCorporationID&#xa;&#x2a;&#x2f;&#xa;&#xa;&#x2f;&#x2a; --&#x3e; check data validity&#xa;select &#x2a; from bullhorn1.BH_Client Cl &#xa;left join bullhorn1.BH_UserContact UC ON Cl.userID &#x3d; UC.userID&#xa;where Cl.userID &#x3d; 112 &#xa;&#xa;select phone, phone2, phone3, workphone&#xa;from bullhorn1.BH_UserContact UC&#xa;where userID &#x3d; 5429 or userID &#x3d; 5430 or userID &#x3d; 5431&#xa;&#xa;&#x2a;&#x2f;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>128</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Job</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>&#xa;&#x2f;&#x2a;&#xa;with tmp_1&#x28;userID, email&#x29; as &#xa;&#x28;select userID, REPLACE&#x28;ISNULL&#x28;email,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email2,&#x27;&#x27;&#x29; &#x2b; &#x27;,&#x27; &#x2b; ISNULL&#x28;email3,&#x27;&#x27;&#x29;, &#x27;,,&#x27;, &#x27;,&#x27;&#x29; as email&#xa;from bullhorn1.BH_UserContact&#xa; &#x29;&#xa; --select &#x2a; from tmp_1&#xa; --select userID, email, CHARINDEX&#x28;email,&#x27;,&#x27;,0&#x29; from tmp_1&#xa; , tmp_2&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,1&#x29; &#x3d; 1 THEN RIGHT&#x28;email, len&#x28;email&#x29;-1&#x29;&#xa;	ELSE email END as email&#xa;from tmp_1&#xa;&#x29;&#xa; , tmp_3&#x28;userID, email&#x29; as &#x28;&#xa;select userID, CASE WHEN CHARINDEX&#x28;&#x27;,&#x27;,email,len&#x28;email&#x29;&#x29; &#x3d; len&#x28;email&#x29; &#xa;	THEN LEFT&#x28;email, CASE WHEN len&#x28;email&#x29; &#x3c; 1 THEN 0 ELSE len&#x28;email&#x29; - 1 END&#x29;&#xa;	ELSE email END as email&#xa;from tmp_2&#xa;&#x29;&#xa;&#xa;, Note as &#x28;&#xa;select jobPostingID&#xa;, concat&#x28;&#x27;BH Job ID&#x3a;&#x27;,jobPostingID&#xa;,&#x27;Employment Type&#x3a; &#x27;,employmentType,char&#x28;10&#x29;&#xa;,&#x27;Priority&#x3a; &#x27;,type,char&#x28;10&#x29;&#xa;, feeArrangement&#xa;, externalCategoryID&#xa;, publishedCategoryID&#xa;, skills&#xa;, yearsRequired&#xa;&#x29; as note&#xa;from bullhorn1.BH_JobPosting&#xa;&#x29;&#xa;&#x2a;&#x2f;&#xa;&#xa;with&#xa; publicdoc&#x28;OWNER_ID, DOC_ID&#x29; as &#x28;SELECT OWNER_ID, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; cast&#x28;DOC_ID as varchar&#x28;max&#x29;&#x29; &#x2b; &#x27;.&#x27; &#x2b; FILE_EXTENSION from DOCUMENTS WHERE DOC_CATEGORY &#x3d;6532897 AND FILE_EXTENSION in &#x28;&#x27;bmp&#x27;,&#x27;doc&#x27;,&#x27;docx&#x27;,&#x27;gif&#x27;,&#x27;jpeg&#x27;,&#x27;jpg&#x27;,&#x27;pdf&#x27;,&#x27;PDFX&#x27;,&#x27;png&#x27;,&#x27;rtf&#x27;,&#x27;TXT&#x27;,&#x27;xls&#x27;,&#x27;xlsx&#x27;,&#x27;zip&#x27;&#x29; and OWNER_ID &#x3d; a.OWNER_ID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS doc FROM DOCUMENTS as a GROUP BY a.OWNER_ID&#x29;&#xa;,internaldoc&#x28;OWNER_ID, DOC_ID&#x29; as &#x28;SELECT OWNER_ID, STUFF&#x28;&#x28;SELECT DISTINCT &#x27;, &#x27; &#x2b; cast&#x28;DOC_ID as varchar&#x28;max&#x29;&#x29; &#x2b; &#x27;.&#x27; &#x2b; FILE_EXTENSION from DOCUMENTS WHERE DOC_CATEGORY &#x3d;6532850 AND FILE_EXTENSION in &#x28;&#x27;bmp&#x27;,&#x27;doc&#x27;,&#x27;docx&#x27;,&#x27;gif&#x27;,&#x27;jpeg&#x27;,&#x27;jpg&#x27;,&#x27;pdf&#x27;,&#x27;PDFX&#x27;,&#x27;png&#x27;,&#x27;rtf&#x27;,&#x27;TXT&#x27;,&#x27;xls&#x27;,&#x27;xlsx&#x27;,&#x27;zip&#x27;&#x29; and OWNER_ID &#x3d; a.OWNER_ID FOR XML PATH &#x28;&#x27;&#x27;&#x29;&#x29;, 1, 2, &#x27;&#x27;&#x29;  AS doc FROM DOCUMENTS as a GROUP BY a.OWNER_ID&#x29;&#xa;--select &#x2a; from doc&#xa;, owner as &#x28;&#xa;select JOB_GEN.REFERENCE AS JOB_GEN_REFERENCE, JOB_GEN.JOB_TITLE, EMPLOYEE.REFERENCE AS EMPLOYEE_REFERENCE, EMPLOYEE.NAME as EMPLOYEE_NAME&#xa;--select &#x2a;&#xa;from PROP_JOB_GEN JOB_GEN INNER JOIN PROP_OWN_CONS CONS ON JOB_GEN.REFERENCE &#x3d; CONS.REFERENCE INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; CONS.OCC_ID INNER JOIN PROP_EMPLOYEE_GEN EMPLOYEE ON EMPLOYEE.USER_REF &#x3d; CONS.CONSULTANT&#xa;where CONFIG_NAME &#x3d; &#x27;Permanent&#x27;&#xa;&#x29;&#xa;&#xa;&#xa;&#xa;--select top 100&#xa;select&#xa;	cj.JOB as &#x27;position-externalId&#x27; &#xa;	, cj.CONTACT as &#x27;position-contactId&#x27;&#xa;	--, jg.STATUS as &#x27;&#x28;STATUS&#x29;&#x27;&#xa;	, jg.JOB_TITLE as &#x27;position-title&#x27;&#xa;	--, as &#x27;position-headcount&#x27;&#xa;	, own.EMPLOYEE_NAME as &#x27;position-owners&#x27; &#xa;	--, JG.JOB_TYPE as &#x27;&#x28;position-type&#x29;&#x27;&#xa;	--, as &#x27;position-employmentType&#x27;	&#xa;	, mn.DESCRIPTION as &#x27;position-currency&#x27;&#xa;	, pjg.SAL_FROM as &#x27;position-actualSalary&#x27;&#xa;	, replace&#x28;publicdoc.DOC_ID,&#x27;.txt&#x27;,&#x27;.rtf&#x27;&#x29; as &#x27;position-publicDescription&#x27;&#xa;	, replace&#x28;internaldoc.DOC_ID,&#x27;.txt&#x27;,&#x27;.rtf&#x27;&#x29; as &#x27;position-internalDescription&#x27;&#xa;	, CONVERT&#x28;VARCHAR&#x28;10&#x29;,jg.START_DT,120&#x29; as &#x27;position-startDate&#x27;&#xa;	, CONVERT&#x28;VARCHAR&#x28;10&#x29;,jg.END_DT,120&#x29; as &#x27;position-endDate&#x27;&#xa;	--, convert&#x28;varchar&#x28;10&#x29;,iif&#x28;START_DT &#x3d; &#x27;xyz&#x27;,getdate&#x28;&#x29;-1,dateClosed&#x29;,120&#x29; as &#x27;position-endDate&#x27;&#xa;	, case when &#x28;owner.EMPLOYEE_NAME &#x3d; &#x27;&#x27; or owner.EMPLOYEE_NAME is null&#x29; then &#x27;&#x27; else concat&#x28;&#x27;Job Owner&#x3a; &#x27;,owner.EMPLOYEE_NAME&#x29; end as &#x27;position-Note&#x27;&#xa;	, cj.CLIENT as &#x27;&#x28;job-client&#x29;&#x27;&#xa;	, cg.NAME as &#x27;&#x28;company-name&#x29;&#x27;&#xa;-- select COUNT&#x28;&#x2a;&#x29;&#xa;from PROP_X_CLIENT_JOB cj --2828 rows&#xa;left join PROP_JOB_GEN jg on cj.JOB &#x3d; jg.REFERENCE&#xa;left join PROP_PJOB_GEN PJG on cj.JOB &#x3d; pjg.REFERENCE&#xa;left join MD_MULTI_NAMES MN ON MN.ID &#x3d; jg.CURRENCY&#xa;left join &#x28;select CONS.REFERENCE, EMPLOYEE.NAME as EMPLOYEE_NAME, CLIENT_GEN.NAME as CLIENT_GEN_NAME from PROP_CLIENT_GEN CLIENT_GEN INNER JOIN PROP_OWN_CONS CONS ON CLIENT_GEN.REFERENCE &#x3d; CONS.REFERENCE INNER JOIN MD_NAMED_OCCS OCC ON OCC.OCC_ID&#x3d; CONS.OCC_ID INNER JOIN PROP_EMPLOYEE_GEN EMPLOYEE ON EMPLOYEE.USER_REF &#x3d; CONS.CONSULTANT where CONFIG_NAME &#x3d; &#x27;Permanent&#x27;&#x29; own ON jg.REFERENCE &#x3d; own.REFERENCE&#xa;left join publicdoc on jg.REFERENCE &#x3d; publicdoc.OWNER_ID&#xa;left join internaldoc on jg.REFERENCE &#x3d; internaldoc.OWNER_ID&#xa;left join PROP_CLIENT_GEN cg on cj.CLIENT &#x3d; cg.REFERENCE&#xa;left join owner on jg.REFERENCE &#x3d; owner.JOB_GEN_REFERENCE&#xa;--where cj.client &#x3d; 435015&#xa;--select TOP 20 &#x2a; from PROP_PJOB_GEN&#xa;--where 1&#x3d;1 and b.isPrimaryOwner &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JobApplication</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>export</connection>
    <sql>&#xa;--select job,CANDIDATE,SHORTLIST from PROP_X_SHORT_CAND&#xa;&#xa;with sl as &#x28;&#xa;--select &#x2a; from PROP_X_SHORT_CAND SHORT_CAND INNER JOIN&#xa;select job,CANDIDATE,SHORTLIST,DESCRIPTION from PROP_X_SHORT_CAND SHORT_CAND INNER JOIN&#xa;--select DISTINCT DESCRIPTION from PROP_X_SHORT_CAND SHORT_CAND INNER JOIN&#xa;PROP_SHORT_GEN SHORT_GEN ON SHORT_GEN.REFERENCE &#x3d; SHORT_CAND.SHORTLIST INNER JOIN&#xa;MD_MULTI_NAMES MN ON MN.ID &#x3d; SHORT_GEN.STATUS&#xa;--WHERE SHORT_CAND.CANDIDATE &#x3d; &#x3c;&#x3c;PROP_PERSON_GEN.REFERENCE&#x3e;&#x3e;&#x22;&#xa;&#x29;&#xa;&#xa;&#xa;&#xa;select&#xa;	job as &#x5b;application-positionExternalId&#x5d;&#xa;	, candidate as &#x5b;application-candidateExternalId&#x5d;&#xa;	, replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#x28;replace&#xa;		&#x28;description,&#x27;Applied from Web&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;		,&#x27;Considering&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;		,&#x27;Consultant Interview&#x27;,&#x27;1ST_INTERVIEW&#x27;&#x29;&#xa;		,&#x27;CV  Sent&#x27;,&#x27;SENT&#x27;&#x29;&#xa;		,&#x27;Float&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;		,&#x27;Interview Arranged&#x27;,&#x27;1ST_INTERVIEW&#x27;&#x29;&#xa;		,&#x27;Interview Cancelled&#x27;,&#x27;1ST_INTERVIEW&#x27;&#x29;&#xa;		,&#x27;No&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;		,&#x27;Offer Accepted&#x27;,&#x27;OFFERED&#x27;&#x29;&#xa;		,&#x27;Offer Rejected&#x27;,&#x27;OFFERED&#x27;&#x29;&#xa;		,&#x27;Placed By Us&#x27;,&#x27;PLACED&#x27;&#x29;&#xa;		,&#x27;Rejected&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;		,&#x27;Shortlisted&#x27;,&#x27;SHORTLISTED&#x27;&#x29;&#xa;		,&#x27;Under Offer&#x27;,&#x27;OFFERED&#x27;&#x29;&#xa;		,&#x27;Yes&#x27;,&#x27;SHORTLISTED&#x27;&#x29; as stage&#xa;	--This field only accepts&#x3a; SHORTLISTED,SENT,1ST_INTERVIEW,2ND_INTERVIEW,OFFERED,PLACED,INVOICED,Other values will not be recognized.&#xa;from sl&#xa;where job is not null&#xa;&#xa;&#xa;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JobApplication_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;5jobapplication</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>application-positionExternalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>application-candidateExternalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>stage</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>candidate_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;4candidate_note</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>candidate-externalId</name>
        <type>Integer</type>
        <format/>
      </field>
      <field>
        <name>candidate-onwer</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>candidate-note</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>company_ </name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;1company</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>company-externalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>company-name</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationAddress</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationCity</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationState</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationZipCode</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationCountry</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-locationName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-phone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-fax</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-website</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-document</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-owners</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>company-note</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>contact_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;2contact</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>65000</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>contact-companyId</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>&#x28;contact-companyname&#x29;</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-externalId</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-firstName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-lastName</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-email</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-phone</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>&#x28;contact-owners-id&#x29;</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>&#x28;contact-owners-name&#x29;</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-jobTitle</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-document</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-comment</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>contact-Note</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>job_</name>
    <type>ExcelOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <header>Y</header>
    <footer>N</footer>
    <encoding>UTF-8</encoding>
    <append>N</append>
    <add_to_result_filenames>Y</add_to_result_filenames>
    <file>
      <name>&#x2f;home&#x2f;truongpham&#x2f;hrboss&#x2f;datamigration&#x2f;_temp&#x2f;3job</name>
      <extention>xls</extention>
      <do_not_open_newfile_init>N</do_not_open_newfile_init>
      <create_parent_folder>N</create_parent_folder>
      <split>N</split>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <sheetname>Sheet1</sheetname>
      <autosizecolums>N</autosizecolums>
      <nullisblank>N</nullisblank>
      <protect_sheet>N</protect_sheet>
      <password>Encrypted </password>
      <splitevery>0</splitevery>
      <usetempfiles>N</usetempfiles>
      <tempdirectory/>
      </file>
    <template>
      <enabled>N</enabled>
      <append>N</append>
      <filename>template.xls</filename>
    </template>
    <fields>
      <field>
        <name>position-externalId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>position-contactId</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>position-title</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-owners</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-currency</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-actualSalary</name>
        <type>Number</type>
        <format>0</format>
      </field>
      <field>
        <name>position-publicDescription</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-internalDescription</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-startDate</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-endDate</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>position-Note</name>
        <type>String</type>
        <format/>
      </field>
      <field>
        <name>&#x28;job-client&#x29;</name>
        <type>Integer</type>
        <format>0</format>
      </field>
      <field>
        <name>&#x28;company-name&#x29;</name>
        <type>String</type>
        <format/>
      </field>
    </fields>
    <custom>
    <header_font_name>arial</header_font_name>
    <header_font_size>10</header_font_size>
    <header_font_bold>N</header_font_bold>
    <header_font_italic>N</header_font_italic>
    <header_font_underline>no</header_font_underline>
    <header_font_orientation>horizontal</header_font_orientation>
    <header_font_color>black</header_font_color>
    <header_background_color>none</header_background_color>
    <header_row_height>255</header_row_height>
    <header_alignment>left</header_alignment>
    <header_image/>
    <row_font_name>arial</row_font_name>
    <row_font_size>10</row_font_size>
    <row_font_color>black</row_font_color>
    <row_background_color>none</row_background_color>
      </custom>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>
